



zk.load('zul.lang',function(){if(zk._p=zkpi('zk.fmt'))try{
(function(){var e={GROUPING:zk.GROUPING,DECIMAL:zk.DECIMAL,PERCENT:zk.PERCENT,PER_MILL:zk.PER_MILL,MINUS:zk.MINUS};function d(g,f){return g.substring(0,f)}function a(i,f){var g=1,m="";for(var h=f;g&&--h>=0;){var l=i.charAt(h);if(g==1){if(l>="0"&&l<"9"){l=l.$inc(1);g=0}else{if(l=="9"){l="0"}}}m=l+m}if(h>=0){m=i.substring(0,h)+m}return g?"1"+m:m}function b(k,h){var l,g,m="5";for(var i=h,f=k.length;i<f;++i){g=k.charAt(i)-m;if(i==h){m="0"}if(g!=0){return g}}return g}function c(h,f){for(var g=f;--g>=0;){var i=h.charAt(g);if(i>="0"&&i<="9"){return i}}return null}zk.fmt.Number={setScale:function(l,k,g){if(k===undefined||k<0){return l}var i=l.$toString(),j=i.indexOf("."),h=j>=0?i.length-j-1:0;if(h<=k){return l}else{var f=j+k+1;i=this.rounding(i,f,g,i<0);return new zk.BigDecimal(i)}},isRoundingRequired:function(h,j,f){if(!j||h==null||h==""){return false}var r;if(j.indexOf(";")!=-1){j=j.split(";");r=h<0;j=j[r?1:0]}f=f||e;var s=this._escapeQuote(j,f);j=s.fmt;var n=s.pureFmtStr,i=s.purejdot,m=i>=0?n.length-i-1:0,l=(h+"").replace(/[^e\-0123456789.]/g,"").substring(h<0?1:0),k=l.lastIndexOf("e"),q=l.indexOf("."),p=q>=0?(k<0?l.length:k)-q-1:0,g=s.shift+(k<0?0:parseInt(l.substring(k+1),10));if(k>0){l=l.substring(0,k)}if(g>0){if(q>=0){if(p>g){p-=g}else{p=0}}}else{if(g<0){var o=(q<0?varStr.length:q)+g;if(o>0){p-=g}else{if(q>=0){l=l.substring(0,q)+l.substring(q+1)}for(;o++<0;){l="0"+l}l="0."+l;p=l.length-2}}}return p>m},rounding:function(i,g,h,k){switch(h){case 0:i=a(i,g);break;case 1:i=d(i,g);break;case 2:i=k?d(i,g):a(i,g);break;case 3:i=!k?d(i,g):a(i,g);break;case 4:var j=b(i,g);i=j<0?d(i,g):a(i,g);break;case 5:var j=b(i,g);i=j>0?a(i,g):d(i,g);break;case 6:default:var j=b(i,g);if(j==0){var f=c(i,g);i=(f&1)?a(i,g):d(i,g)}else{i=j<0?d(i,g):a(i,g)}}return i},format:function(v,z,t,P){if(z==null){return""}if(!v){return z+""}var I;if(v.indexOf(";")!=-1){v=v.split(";");I=z<0;v=v[I?1:0]}P=P||e;var Q=this._escapeQuote(v,P);v=Q.fmt;var y=Q.pureFmtStr,T=Q.purejdot,q=T>=0?y.length-T-1:0,f=(z+"").replace(/[^e\-0123456789.]/g,"").substring(z<0?1:0),W=f.lastIndexOf("e"),u=f.indexOf("."),o=u>=0?(W<0?f.length:W)-u-1:0,A=Q.shift+(W<0?0:parseInt(f.substring(W+1),10));if(W>0){f=f.substring(0,W)}if(A>0){if(u>=0){if(o>A){f=f.substring(0,u)+f.substring(u+1,u+1+A)+"."+f.substring(u+1+A);o-=A;u+=A}else{f=f.substring(0,u)+f.substring(u+1);for(var s=A-o;s-->0;){f=f+"0"}u=-1;o=0}}else{for(var s=A;s-->0;){f=f+"0"}}}else{if(A<0){var k=(u<0?varStr.length:u)+A;if(k>0){f=f.substring(0,k)+"."+(u<0?f.substring(k):f.substring(k,indVar)+f.substring(indVar+1));o-=A;u=k}else{if(u>=0){f=f.substring(0,u)+f.substring(u+1)}for(;k++<0;){f="0"+f}f="0."+f;u=1;o=f.length-2}}}if(o<=q){if(u==-1){f+="."}for(var s=q-o;s-->0;){f=f+"0"}}else{var G=u+q+1;f=this.rounding(f,G,t,z<0)}var l=Q.jdot,K="",w="";u=f.indexOf(".");if(u==-1){u=f.length}if(l==-1){l=v.length}if(T==-1){T=y.length}var x=u-T;if(x>0){var F="";for(var s=x;--s>=0;l++){F+="#"}var C=this._extraFmtIndex(v);x+=C;v=v.substring(0,C)+F+v.substring(C,v.length)}for(var s=T-u;--s>=0;u++){f="0"+f}var M=l-v.substring(0,l).lastIndexOf(",");for(var U=1,S=l-1,R=u-1;S>=0&&R>=0;){if(U%M==0&&K.charAt(0)!=","){K=P.GROUPING+K;U++}var h=v.charAt(S);if(h=="#"||h=="0"){var E=f.charAt(R);K=(E=="0"?h:E)+K;S--;R--;U++}else{var X=v.charAt(S);if(X!=","){K=X+K;U++}S--}}if(R>=0){K=f.substr(0,R+1)+K}var s=(l<0?v.length:l)-(T<0?y.length:T),H=Q.prej;if(s>0){var L=v.substring(H,x>0?x:s).replace(new RegExp("[#0.,]","g"),"");if(L){K=L+K}}for(var S=l+1,R=u+1,B=v.length,r=f.length;S<B;S++){var h=v.charAt(S);if(h=="#"||h=="0"){if(R<r){w+=f.charAt(R);R++}}else{w+=h=="%"?P.PERCENT:h}}if(R<f.length){w=f.substr(R,f.length)}var V=-1;for(var O=w.length,N=v.length;O>0;--O){var E=w.charAt(O-1),h=v.charAt(--N);if(E=="0"&&h=="#"){if(V<0){V=O}}else{if(V>=0||/[1-9]/.test(E)){break}}}if(V>=0){w=w.substring(0,O)+w.substring(V)}if(K){K=v.substring(0,H)+this._removePrefixSharps(K,P)}if(!K&&v.charAt(l+1)=="#"){K="0"}if(!w&&(K==P.PERCENT||K==P.PER_MILL)){K="0"+K}var J=new RegExp("^0*["+P.PERCENT+"|"+P.PER_MILL+"]?$"),D=w?J.test(w)&&/^0*$/.test(K):J.test(K);return(z<0&&!D&&!I?P.MINUS:"")+(w?K+(/[\d]/.test(w.charAt(0))?P.DECIMAL:"")+w:K)},_escapeQuote:function(k,f){var m,g=-2,i=0,r="",o=-1,t=-1,h="",s=-1,l=k?!new RegExp("('["+f.PERCENT+"|"+f.PER_MILL+"]+')","g").test(k):true;for(var n=0,p=k.length;n<p;++n){m=k.charAt(n);if(m=="%"&&l){i+=2}else{if(m==f.PER_MILL&&l){i+=3}}if(m=="'"){if(g>=0){r+=g==(n-1)?"'":k.substring(g+1,n);g=-2}else{g=n}}else{if(g<0){if(s<0&&(m=="#"||m=="0"||m=="."||m=="-"||m==","||m=="E")){s=r.length}if(m=="#"||m=="0"){h+=m}else{if(m=="."){if(t<0){t=h.length}if(o<0){o=r.length}h+=m}}r+=m}}}return{shift:i,fmt:r,pureFmtStr:h,jdot:o,purejdot:t,prej:s}},_extraFmtIndex:function(g){var h=0;for(var f=g.length;h<f;++h){var i=g.charAt(h);if(i=="#"||i=="0"||i==","){break}}return h},_removePrefixSharps:function(k,m){var h="",i=true;for(var f=k.length,g=0;g<f;++g){var l=k.charAt(g);if(i){if(l=="#"||l==m.GROUPING){continue}else{if(/[\d]/.test(l)){i=false}}}h=h+(l=="#"?"0":l)}return h},unformat:function(g,A,z,m){if(!A){return{raw:A,divscale:0}}m=m||{GROUPING:zk.GROUPING,DECIMAL:zk.DECIMAL,PERCENT:zk.PERCENT,PER_MILL:zk.PER_MILL,MINUS:zk.MINUS};var h=0,i,f,s,y,u=z?"-":m.MINUS,q=z?".":m.DECIMAL,n=z?"%":m.PERCENT,o=String.fromCharCode(8240),r=z?o:m.PER_MILL,p=z?",":m.GROUPING,l=!new RegExp("('[%|"+o+"]+')","g").test(g);for(var w=0,x=A.length;w<x;++w){s=A.charAt(w);y=true;if(s==n&&l){h+=2}else{if(s==r&&l){h+=3}else{if(s=="("){i=true}else{if(s!="+"){y=false}}}}if(!y){y=(s<"0"||s>"9")&&s!=q&&s!=u&&s!="+"&&(zUtl.isChar(s,{whitespace:1})||s==p||s==")"||(g&&g.indexOf(s)>=0))}if(y){if(f==null){f=A.substring(0,w)}}else{var t=s==u?"-":s==q?".":s;if(s!=t&&f==null){f=A.substring(0,w)}if(f!=null){f+=t}}}if(f==null){f=A}if(i){f="-"+f}for(;;){s=f.charAt(0);if(s=="+"){f=f.substring(1)}else{if(s=="-"&&f.charAt(1)=="-"){f=f.substring(2)}else{break}}}for(var w=0,v,x=f.length;w<x;++w){s=f.charAt(w);if(s>"0"&&s<="9"){if(v!==undefined){f=f.substring(0,v)+f.substring(w)}break}else{if(s=="0"){if(v===undefined){v=w}}else{if(v!==undefined){if(s=="."&&w>++v){f=f.substring(0,v)+f.substring(w)}break}else{if(s=="."){break}}}}}return{raw:f,divscale:h}}}})();
zk.fmt.Text={format:function(e){var d=0,g="";for(var c=0,a=e.length,f,b;c<a;++c){f=e.charAt(c);if(f=="\\"){if(++c>=a){break}g+=e.substring(d,c);f=e.charAt(c);switch(f){case"n":f="\n";break;case"t":f="\t";break;case"r":f="\r";break}g+=f;d=c+1}else{if(f=="{"){b=e.indexOf("}",c+1);if(b<0){break}g+=e.substring(d,c)+arguments[zk.parseInt(e.substring(c+1,b))+1];d=c=b+1}}}if(g){g+=e.substring(d)}return g||e}};

}finally{zk.setLoaded(zk._p.n);}});zk.setLoaded('zk.fmt',1);
zk.load('zul,zul.menu',function(){if(zk._p=zkpi('zul.mesh'))try{
(function(){var g;function e(p,q,n,o,m,l){o.cells[p].style.width=zk(o.cells[p]).revisedWidth(q)+"px";n.cells[p].style.width=o.cells[p].style.width;if(m){m.cells[p].style.width=o.cells[p].style.width}if(l){var r=zk(l.cells[p]).revisedWidth(zk.parseInt(n.cells[p].style.width));l.cells[p].style.width=r+"px";var k=l.cells[p].firstChild;k.style.width=zk(k).revisedWidth(r)+"px"}}function f(x){var Q=x.$n(),U=Q?Q.style.whiteSpace:"";if(Q){if(zk.ie8_){x._wsbak=U}if(zk.ie<8){jq(Q).addClass("z-word-nowrap")}else{Q.style.whiteSpace="nowrap"}}var P,H,s,G,F,R,p=x.ehdfaker,o=x.ebdfaker,D=x.eftfaker,u=x.head,V=u?u.$n():null,y=u?u.$n("hdfakerflex"):null,z=[],N=[],M=[],l=[],I=[];if(x.eheadtbl&&V){x.ehead.style.width="";P=x.eheadtbl.width;x.eheadtbl.width="";x.eheadtbl.style.width="";G=x.eheadtbl.style.tableLayout;x.eheadtbl.style.tableLayout="";for(var O=p.cells.length-(y?1:0);O--;){var X=p.cells[O],J=V.cells[O],S=J.firstChild;z[O]=X.style.width;X.style.width="";l[O]=J.style.width;J.style.width="";I[O]=S.style.width;S.style.width=""}}if(V){V.style.width=""}if(x.efoottbl){x.efoot.style.width="";H=x.efoottbl.width;x.efoottbl.width="";x.efoottbl.style.width="";F=x.efoottbl.style.tableLayout;x.efoottbl.style.tableLayout="";if(D){for(var O=D.cells.length-(y?1:0);O--;){var C=D.cells[O];M[O]=C.style.width;C.style.width=""}}}if(x.ebodytbl){x.ebody.style.width="";s=x.ebodytbl.width;x.ebodytbl.width="";x.ebodytbl.style.width="";R=x.ebodytbl.style.tableLayout;x.ebodytbl.style.tableLayout="";if(o){for(var O=o.cells.length-(y?1:0);O--;){var L=o.cells[O];N[O]=L.style.width;L.style.width=""}}}var v=[],k=0,K=u?u=u.lastChild:null,W=x.getHeadWidget(),B=0,r;if(o&&K){for(var O=o.cells.length-(y?1:0);O--;){var n=o.cells[O].offsetWidth,t=zk(K.$n("cave")),q=K&&K.isVisible()?(t.textSize()[0]+t.padBorderWidth()+zk(K.$n()).padBorderWidth()):0,E=D&&zk(D.cells[O]).isVisible()?D.cells[O].offsetWidth:0,m;if((m=W.getChildAt(O))&&m.getWidth()){q=Math.max(q,p.cells[O].offsetWidth)}if(q>n){n=q}if(E>n){n=E}v[O]=n;if(zk.ie<8&&B<n){B=n;r=O}else{if(zk.ff>4||zk.ie==9){++v[O]}}if(zk.ie<8){v[O]+=2}k+=v[O];if(K){K=K.previousSibling}}}else{var T;if(T=i(x)){for(var A=T.cells,O=A.length;O--;){var n=A[O].offsetWidth;v[O]=n;if(zk.ie<8&&B<n){B=n;r=O}else{if(zk.ff>4||zk.ie==9){++v[O]}}if(zk.ie<8){v[O]+=2}k+=v[O]}}}if(x.eheadtbl&&V){x.eheadtbl.width=P||"";x.eheadtbl.style.tableLayout=G||"";for(var O=p.cells.length-(y?1:0);O--;){p.cells[O].style.width=z[O];var J=V.cells[O],S=J.firstChild;J.style.width=l[O];S.style.width=I[O]}}if(x.efoottbl){x.efoottbl.width=H||"";x.efoottbl.style.tableLayout=F||"";if(D){for(var O=D.cells.length-(y?1:0);O--;){D.cells[O].style.width=M[O]}}}if(x.ebodytbl){x.ebodytbl.width=s||"";x.ebodytbl.style.tableLayout=R||"";if(o){for(var O=o.cells.length-(y?1:0);O--;){o.cells[O].style.width=N[O]}}}if(Q){if(zk.ie<8){jq(Q).removeClass("z-word-nowrap")}else{if(!zk.ie8_){Q.style.whiteSpace=U}}}return{width:k,wds:v}}function c(w,p){var s=w.isSizedByContent(),n=w._hflex=="min";if(!w.head&&(n||s)){var m=zk(w.$n()).padBorderWidth(),l=b(w)+m,u=w.ebodytbl,k=w._minWd.wds,r=k.length;if(p&&n){w.setFlexSize_({width:l},true)}if(!(u=u.firstChild)||!(u=u.firstChild)){return}for(var t=u.firstChild,o=0;t&&(o<r);t=t.nextSibling){t.style.width=(zk.safari_?k[o++]:zk(t).revisedWidth(k[o++]))+"px"}if(s&&!n){var q=u.lastChild,v=w.uuid+"-bdflex";if(!q||q.id!=v){jq(u).append('<td id="'+v+'"></td>');q=u.lastChild}}}}function j(x,y){var r=x.ebody;if(!r){return}var s=r.offsetHeight;if(zk(r).hasHScroll()){s-=jq.scrollbarWidth()}if(s==x._prehgh){return false}x._prehgh=s;var l=x.ebodytbl,u=l.offsetParent,k=l.offsetTop,m=0,v,n=0;for(var o=x.getBodyWidgetIterator({skipHidden:true}),p=y.length,t;(t=o.next())&&n<p;n++){v=y[n];var q=v.offsetTop-(v.offsetParent==u?k:0);if(q>s){--n;break}m=q}if(v){if(q<=s){m=m+v.offsetHeight;n=Math.floor(n*s/m)}if(n==0){n=1}if(n!=x.getPageSize()){x.fire("onPageSize",{size:n});return true}}}function a(l){var k=l.ebodytbl.tBodies;l.ebodyrows=l.ebodytbl.tBodies[k.length>3?l.ehead?2:1:l.ehead?1:0].rows}function h(l){if(l._hflex=="min"){var k=b(l);l._hflexsz=k+zk(l).padBorderWidth();l.$n().style.width=jq.px0(k)}}function b(t){t._calcMinWds();var r=t.ebdfaker,k=t.eheadtbl,q=t.ebodytbl,o,l=[],m,n=t._minWd.wds;if(t.head&&r){m=0;for(var s=t.head.firstChild,p=0;s;s=s.nextSibling){if(zk(r.cells[p]).isVisible()){o=l[p]=s._hflex=="min"?n[p]:(s._width&&s._width.indexOf("px")>0)?zk.parseInt(s._width):r.cells[p].offsetWidth;m+=o}++p}}else{m=t._minWd.width}return m+(zk.ie<8?1:0)}function i(p){var o=p.getBodyWidgetIterator().next(),n=o?o.$n():null;if(!n){return}for(var m=n,l,k=m.cells.length;n;n=n.nextSibling){if((l=n.cells.length)>k){m=n;k=l}}return m}function d(t){var F=t.efoot.firstChild.rows[0],k=t.ebodyrows;if(!F||!k||!k.length||!F.cells.length){return}var r=F.cells.length,p,u=0;for(var C=0,n=t.getBodyWidgetIterator({skipHidden:true}),x;(x=n.next());){if(t._modal&&!x._loaded){continue}var o=k[C++],B=zk(o),m=o.cells,q=B.ncols(),A=m.length==q&&B.isVisible();if(A&&q>=r){u=r;p=o;break}if(q>u){p=A?o:null;u=q}else{if(q==u&&!p&&A){p=o}}}if(!u){return}var E=!p;if(E){p=document.createElement("TR");p.style.height="0px";for(var C=0;C<u;++C){p.appendChild(document.createElement("TD"))}k[0].parentNode.appendChild(p)}for(var C=u;C--;){F.cells[C].style.width=""}var l=0;for(var C=u;C--;){var D=F.cells[C],z=p.cells[C];if(zk.opera){l+=z.offsetWidth;D.style.width=zk(z).revisedWidth(z.offsetWidth)}else{D.style.width=z.offsetWidth+"px";if(u>1){var y=z.offsetWidth-D.offsetWidth;if(y!=0){y+=z.offsetWidth;if(y<0){y=0}D.style.width=y+"px"}}}}if(zk.opera&&t.isSizedByContent()){F.parentNode.parentNode.style.width=l+"px"}if(E){p.parentNode.removeChild(p)}}zul.mesh.MeshWidget=zk.$extends(zul.Widget,{_pagingPosition:"bottom",_prehgh:-1,_minWd:null,$init:function(){this.$supers("$init",arguments);this.heads=[]},_innerWidth:"100%",_currentTop:0,_currentLeft:0,$define:{pagingPosition:_zkf=function(){this.rerender()},sizedByContent:_zkf,span:function(l){var k=(true===l||"true"==l)?-65500:(false===l||"false"==l)?0:(zk.parseInt(l)+1);this._nspan=k<0&&k!=-65500?0:k;this.rerender()},autopaging:_zkf,paginal:null,model:null,innerWidth:function(k){if(k==null){this._innerWidth=k="100%"}if(this.eheadtbl){this.eheadtbl.style.width=k}if(this.ebodytbl){this.ebodytbl.style.width=k}if(this.efoottbl){this.efoottbl.style.width=k}}},getPageSize:function(){return(this.paging||this._paginal).getPageSize()},setPageSize:function(k){(this.paging||this._paginal).setPageSize(k)},getPageCount:function(){return(this.paging||this._paginal).getPageCount()},getActivePage:function(){return(this.paging||this._paginal).getActivePage()},setActivePage:function(k){(this.paging||this._paginal).setActivePage(k)},inPagingMold:function(){return"paging"==this.getMold()},setHeight:function(k){this.$supers("setHeight",arguments);if(this.desktop){if(zk.ie6_&&this.ebody){this.ebody.style.height=k}this._setHgh(k);this.onSize()}},setWidth:function(k){this.$supers("setWidth",arguments);if(this.eheadtbl){this.eheadtbl.style.width=""}if(this.efoottbl){this.efoottbl.style.width=""}if(this.desktop){this.onSize()}},setStyle:function(k){if(this._style!=k){this.$supers("setStyle",arguments);if(this.desktop){this.onSize()}}},getHeadWidget:function(){return this.head},getFocusCell:function(k){},_moveToHidingFocusCell:function(k){var m,l;if(this.head&&(m=this.head.getChildAt(k).$n())&&parseInt(m.style.width)==0&&(l=zk.Widget.$(this.efrozen.firstChild))&&(k=k-l.getColumns())>=0){l.setStart(k);g=true}},_restoreFocus:function(){if(g&&zk.currentFocus){g=false;zk.currentFocus.focus()}},bind_:function(){this.$supers(zul.mesh.MeshWidget,"bind_",arguments);if(zk.ie<8&&this.isVflex()){var l=this.$n().style.height;if(!l||l=="auto"){this.$n().style.height="99%"}}this._bindDomNode();if(this._hflex!="min"){this._fixHeaders()}if(this.ebody){this.domListen_(this.ebody,"onScroll");this.ebody.style.overflow="";if(this.efrozen){jq(this.ebody).addClass("z-word-nowrap").css("overflow-x","hidden")}}zWatch.listen({onSize:this,beforeSize:this,onResponse:this});var k;if(zk.ie7_&&(k=this.$n("pgib"))){zk(k).redoCSS()}},unbind_:function(){if(this.ebody){this.domUnlisten_(this.ebody,"onScroll")}zWatch.unlisten({onSize:this,beforeSize:this,onResponse:this});this.$supers(zul.mesh.MeshWidget,"unbind_",arguments)},clearCache:function(){this.$supers("clearCache",arguments);this.ebody=this.ehead=this.efoot=this.efrozen=this.ebodytbl=this.eheadtbl=this.efoottbl=this.ebodyrows=this.ehdfaker=this.ebdfaker=null},syncSize:function(){if(this.desktop){this.clearCachedSize_();if(this._hflex=="min"){zFlex.onFitSize.apply(this)}else{this._calcMinWds();this._fixHeaders();this.onSize()}}},onResponse:function(){if(this._shallSize){this.syncSize()}},_syncSize:function(){if(this.desktop){this._shallSize=true}},_fixHeaders:function(r){if(this.head&&this.ehead){var q=true,o=false,n=(this._hflex=="min")||this.isSizedByContent();for(var p=this.heads.length;p-->0;){for(var m=this.heads[p].firstChild;m;m=m.nextSibling){if(n&&!m._width&&!m._nhflex){m._hflex="min";m._nhflex=-65500;m._nhflexbak=true}if(!o&&m._nhflex){o=true}if(m.getLabel()||m.getImage()||m.nChildren){q=false}}}var l=this.ehead.style.display,k=(r||q)&&o&&this.isRealVisible();this.ehead.style.display=q?"none":"";for(var m=this.head.firstChild;m;m=m.nextSibling){if(k&&m._nhflex){m.fixFlex_()}if(m._nhflexbak){delete m._hflex;delete m._nhflex;delete m._nhflexbak}}return l!=this.ehead.style.display}},_adjFlexWd:function(){var k=zk.gecko,u=k>9&&k<13,s=this.ebody,p;if(u){if(s){p=s.style.height}if(p){s.style.height=""}}var q=this.head;if(q){var m=this.ehdfaker,r=this.ebdfaker,v=this.eftfaker,l=q.$n(),o=0;for(var t=q.firstChild,n;t;t=t.nextSibling){if((n=t._hflexWidth)!==undefined){e(o,n,m,r,v,l)}++o}h(this)}if(u&&p){s.style.height=p}},_bindDomNode:function(){for(var o=this.$n().firstChild;o;o=o.nextSibling){switch(o.id){case this.uuid+"-head":this.ehead=o;this.eheadtbl=jq(o).find(">table:first")[0];break;case this.uuid+"-body":this.ebody=o;this.ebodytbl=jq(o).find(">table:first")[0];break;case this.uuid+"-foot":this.efoot=o;this.efoottbl=jq(o).find(">table:first")[0];break;case this.uuid+"-frozen":this.efrozen=o;break}}if(this.ebody){var k=this.ebodytbl.tBodies,m=zk.ie7_&&k&&k.length==1&&!this.ehead&&!k[0].id;if(!k||!k.length||(this.ehead&&k.length<2||m)){if(m){jq(k[0]).remove()}var l=[];if(this.domPad_&&!this.inPagingMold()&&this._mold!="select"){this.domPad_(l,"-tpad")}l.push('<tbody id="',this.uuid,'-rows"/>');if(this.domPad_&&!this.inPagingMold()&&this._mold!="select"){this.domPad_(l,"-bpad")}jq(this.ebodytbl).append(l.join(""))}a(this)}if(this.ehead){this.ehdfaker=this.eheadtbl.tBodies[0].rows[0];this.ebdfaker=this.ebodytbl.tBodies[0].rows[0];if(this.efoottbl){this.eftfaker=this.efoottbl.tBodies[0].rows[0]}}},replaceHTML:function(){var k=this._syncingbodyrows;this._syncingbodyrows=true;try{this.$supers(zul.mesh.MeshWidget,"replaceHTML",arguments)}finally{this._syncingbodyrows=k}},replaceChildHTML_:function(){var k=this._syncingbodyrows;this._syncingbodyrows=true;try{this.$supers("replaceChildHTML_",arguments);a(this)}finally{this._syncingbodyrows=k}},fireOnRender:function(k){if(!this._pendOnRender){this._pendOnRender=true;setTimeout(this.proxy(this._onRender),k?k:100)}},_doScroll:function(){if(zk.safari&&this._ignoreDoScroll){return}if(!(this.fire("onScroll",this.ebody.scrollLeft).stopped)){if(this._currentLeft!=this.ebody.scrollLeft){if(this.ehead){this.ehead.scrollLeft=this.ebody.scrollLeft;var p=this.ebody.scrollLeft-this.ehead.scrollLeft;var o=jq(this.ehead).find("table>tbody>tr>th:last-child")[0];if(p){o.style.width=(o.offsetWidth+p)+"px";this.ehead.scrollLeft=this.ebody.scrollLeft}else{if(parseInt(o.style.width)!=0&&this.ebody.scrollLeft==0){o.style.width=""}}}if(this.efoot){this.efoot.scrollLeft=this.ebody.scrollLeft}}}var n=zul.mesh.Scrollbar.getScrollPosV(this),k=this.ebody.scrollLeft,m=(n!=this._currentTop||k!=this._currentLeft);if(m&&!this._listbox$rod&&!this._grid$rod){this._currentTop=n}if(m){this._currentLeft=k}if(!this.paging&&!this._paginal){this.fireOnRender(zk.gecko?200:60)}if(m){this._fireOnScrollPos()}},_timeoutId:null,_fireOnScrollPos:function(k){clearTimeout(this._timeoutId);this._timeoutId=setTimeout(this.proxy(this._onScrollPos),k>=0?k:(zk.gecko||zk.ie6_)?200:60)},_onScrollPos:function(){if(this.ebody){this._currentTop=zul.mesh.Scrollbar.getScrollPosV(this);this._currentLeft=this.ebody.scrollLeft;this.fire("onScrollPos",{top:this._currentTop,left:this._currentLeft})}},_onRender:function(){if(!this.$n()){return}this._pendOnRender=false;if(this._syncingbodyrows||zAu.processing()){this.fireOnRender(zk.gecko?200:60);return true}var u=this.ebodyrows;if(this.inPagingMold()&&this._autopaging&&u&&u.length){if(j(this,u)){return}}if(zk.ie8_&&(this._wsbak!==undefined)){this.$n().style.whiteSpace=this._wsbak;delete this._wsbak}if(zk.ie<8){this._syncBodyHeight()}if(!this.desktop||!this._model||!u||!u.length){return}var p=[],k=zul.mesh.Scrollbar.getScrollPosV(this),r=k+this.ebody.offsetHeight;for(var l=0,m=this.getBodyWidgetIterator({skipHidden:true}),n=u.length,s;(s=m.next())&&l<n;l++){if(!s._loaded){var t=u[l],o=zk(t),q=o.offsetTop();if(q+o.offsetHeight()<k){continue}if(q>r){break}p.push(s)}}if(p.length){this.fire("onRender",{items:p},{implicit:true})}},_syncBodyHeight:function(){var l=this.ebody,k=this.ebodytbl;if(!this.desktop||this._height||(this._vflex&&this._vflex!="min")){return}if(l.style.height=="0px"){l.style.height=""}if(l.offsetHeight-k.offsetHeight>11&&l.offsetWidth>=k.offsetWidth){l.style.height=(k.offsetHeight)+"px"}zjq.fixOnResize(0)},beforeSize:function(){var l=zk.ie6_?this.getWidth():this.$n().style.width;if(!l||l=="auto"||l.indexOf("%")>=0){var m=this.$n();if(!zk.ie6_&&m._lastsz&&m._lastsz.height==m.offsetHeight&&m._lastsz.width==m.offsetWidth){return}if(this.ebody){this.ebody.style.width=""}if(this.ehead){this.ehead.style.width=""}if(this.efoot){this.efoot.style.width=""}if(zk.ie6_&&this._hflex&&this._hflex!="min"){m.style.width=""}m._lastsz=null}if(zk.ie6_&&this._vflex&&this._vflex!="min"){var k=this.getHeight();if(!k||k=="auto"||k.indexOf("%")>=0){var m=this.$n();m.style.height="";if(this.ebody){this.ebody.style.height=""}m._lastsz=null}}},onSize:function(){if(this.isRealVisible()){var m=this.$n();if(m._lastsz&&m._lastsz.height==m.offsetHeight&&m._lastsz.width==m.offsetWidth){this.fireOnRender(155);return}this._calcSize();this.fireOnRender(155);if(this.ebody.scrollHeight>=this._currentTop){var k=this.ebody,l=this.ebodytbl;if(zk.mobile){jq(l).offset().top=jq(k).offset().top-this._currentTop}else{k.scrollTop=this._currentTop}}if(this.ebody.scrollWidth>=this._currentLeft){this.ebody.scrollLeft=this._currentLeft;if(this.ehead){this.ehead.scrollLeft=this._currentLeft}if(this.efoot){this.efoot.scrollLeft=this._currentLeft}}this._shallSize=false}},_vflexSize:function(m){var p=this.$n();if(zk.ie6_){p.style.height="";p.style.height=m}var k=0;if(this.paging){var o=this.$n("pgit"),l=this.$n("pgib");if(o){k+=o.offsetHeight}if(l){k+=l.offsetHeight}}return zk(p).revisedHeight(p.offsetHeight)-(this.ehead?this.ehead.offsetHeight:0)-(this.efoot?this.efoot.offsetHeight:0)-(this.efrozen?this.efrozen.offsetHeight:0)-k},setFlexSize_:function(l){var m=this.$n(),k=this.$n("head");if(l.height!==undefined){if(l.height=="auto"){m.style.height="";if(k){k.style.height=""}}else{if(zk.ie<8&&this._vflex=="min"&&this._vflexsz===undefined){l.height+=1}return this.$supers("setFlexSize_",arguments)}}if(l.width!==undefined){if(l.width=="auto"){if(this._hflex!="min"){m.style.width=""}if(k){k.style.width=""}}else{if(zk.ie<8&&k&&this._hflex=="min"&&this._hflexsz===undefined){l.width+=1}return this.$supers("setFlexSize_",arguments)}}return{height:m.offsetHeight,width:m.offsetWidth}},_setHgh:function(l){var k=this.ebody,o=k.style;if(this.isVflex()||(l&&l!="auto"&&l.indexOf("%")<0)){if(zk.safari&&o.height==jq.px(this._vflexSize(l))){return}o.height="";var m=this._vflexSize(l);if(m<0){m=0}if(!zk.ie||zk.ie8||this._vflex!="min"){o.height=m+"px"}if(zk.ie&&k.offsetHeight){}}else{var p=this.$n();o.height="";p.style.height=l;if(l&&l.indexOf("%")>0){var m=this._vflexSize(p.offsetHeight+"px");if(m<0){m=0}if(!zk.ie||zk.ie8||this._vflex!="min"){o.height=m+"px"}if(zk.ie&&k.offsetHeight){}}}},_ignoreHghExt:function(){return false},_calcSize:function(){this._beforeCalcSize();var r=this.$n(),p=r.style.width;if(!p||p=="auto"||p.indexOf("%")>=0){p=zk(r).revisedWidth(r.offsetWidth);if(p){p+="px"}}if(p){this.ebody.style.width=p;if(this.ehead){this.ehead.style.width=p}if(this.efoot){this.efoot.style.width=p}}if(zk.ie7_&&this.ebodytbl){var o=this.ebodytbl.style,k=o.width;if(!k){o.width="100%";o.width=k}}var q=this._getEbodyWd(),m=this.getHeight()||r.style.height,l=this.isSizedByContent();if(zk.ie){if(this.eheadtbl&&this.eheadtbl.offsetWidth!=this.ebodytbl.offsetWidth){this.ebodytbl.style.width=""}if(q&&(!this.eheadtbl||!this.ebodytbl||!this.eheadtbl.style.width||this.eheadtbl.style.width!=this.ebodytbl.style.width||this.ebody.offsetWidth==this.ebodytbl.offsetWidth)&&this.ebody.offsetWidth-q>11){this.ebodytbl.style.width=jq.px0(--q)}if(!zk.ie8&&!this.isVflex()&&(!m||m=="auto")&&!this._ignoreHghExt()){if(zk(this.ebody).hasVScroll()){this.ebody.style.height=jq.px0(this.ebodytbl.offsetHeight)}q=this.ebody.clientWidth}}if(this.ehead){if(q){this.ehead.style.width=q+"px"}if(l&&this.ebodyrows&&this.ebodyrows.length){this._adjHeadWd()}else{if(q&&this.efoot){this.efoot.style.width=q+"px"}}}else{if(this.efoot){if(q){this.efoot.style.width=q+"px"}if(this.efoottbl.rows.length&&this.ebodyrows&&this.ebodyrows.length){d(this)}}}this._adjSpanWd();c(this,true);if(this._hflexsz===undefined&&this._hflex=="min"&&this._width===undefined&&r.offsetWidth>this.ebodytbl.offsetWidth){r.style.width=this.ebodytbl.offsetWidth+"px";this._hflexsz=r.offsetWidth}if(l&&this.getRows&&this.getRows()>1&&(typeof this._calcHgh=="function")&&this.ebody.style.height){this._calcHgh()}r._lastsz={height:r.offsetHeight,width:r.offsetWidth};this._afterCalcSize()},_getEbodyWd:function(){return this.ebody.clientWidth},_beforeCalcSize:function(){this._setHgh(this.$n().style.height)},_afterCalcSize:function(){if(zk.ie8&&this.isModel()&&this.inPagingMold()){zk(this).redoCSS()}this._removeHorScrollbar();this._removeScrollbar()},_removeHorScrollbar:(zk.ie==8)?function(){var l=this._height;if(!this._vflex&&(!l||l=="auto")&&!this._rows&&this.ebody.offsetWidth>=this.ebodytbl.offsetWidth){var k=this.ebody.style.height,m=this;this.ebody.style.height=this.ebodytbl.offsetHeight+"px";setTimeout(function(){if(!m._vflex){m.ebody.style.height=k}},0)}}:zk.$void,_removeScrollbar:zk.ie?function(){if(this._vflex){return}var m=this.getHeight()||this.$n().style.height||(this.getRows&&this.getRows());if(!m||m=="auto"){var l=this.ebody,k=this.ebodytbl;if(zk.ie<8){var n;if((n=zk(l)).hasVScroll()){l.style.height=jq.px0(k.offsetHeight);if(n.hasVScroll()){l.style.height=jq.px0(k.offsetHeight+jq.scrollbarWidth())}}}else{if(!this.efrozen){l.style.overflowX=k.offsetWidth>l.offsetWidth?"scroll":""}}}}:zk.$void,_isAllWidths:function(){if(this.isSizedByContent()){return true}if(!this.head){return false}var l=true;for(var k=this.head.firstChild;k;k=k.nextSibling){if(l&&(k._width===undefined||k._width.indexOf("px")<=0)&&(k._hflex!="min"||k._hflexsz===undefined)&&k.isVisible()){l=false;break}}return l},domFaker_:function(n,m,l){var r=this.head;n.push('<tbody style="visibility:hidden;height:0px"><tr id="',r.uuid,m,'" class="',l,'-faker">');var q=true,p=0,o=zk.ie<8;for(var s=r.firstChild;s;s=s.nextSibling){n.push('<th id="',s.uuid,m,'"',s.domAttrs_(),'><div style="overflow:hidden"></div></th>');if(q&&s._width===undefined&&s._hflex===undefined&&s.isVisible()){q=false;o=false}else{if(o){var k=s._width;if(k&&k.indexOf("px")!=-1){p+=zk.parseInt(k)}else{o=false}}}}if(o){var s=this._width;if(s&&s.indexOf("px")!=-1){q=zk.parseInt(s)!=p}}n.push('<th id="',r.uuid,m,'flex"',(q||this.isSizedByContent()?"":' style="width:0px"'),"></th></tr></tbody>")},onChildAdded_:function(o){this.$supers("onChildAdded_",arguments);if(o.$instanceof(this.getHeadWidgetClass())){this.head=o;this._minWd=null}else{if(!o.$instanceof(zul.mesh.Auxhead)){return}}var m=o.nextSibling;if(m){for(var n=this.heads,l=0,k=n.length;l<k;++l){if(n[l]==m){n.splice(l,0,o);return}}}this.heads.push(o)},onChildRemoved_:function(k){this.$supers("onChildRemoved_",arguments);if(k==this.head){this._minWd=this.head=null;this.heads.$remove(k)}else{if(k.$instanceof(zul.mesh.Auxhead)){this.heads.$remove(k)}else{if(k.$instanceof(zul.mesh.Frozen)){this.efrozen=null}}}},beforeMinFlex_:function(l){if(this._hflexsz===undefined&&l=="w"&&this._width===undefined){if(this.isSizedByContent()){this._calcSize()}if(this.head){this._fixHeaders(true);for(var k=this.head.firstChild;k;k=k.nextSibling){if(k._hflex=="min"&&k.hflexsz===undefined){return null}}}c(this);return b(this)}return null},beforeParentMinFlex_:function(k){if(k=="w"){if(this.isSizedByContent()){this._calcSize()}if(this.head){this._fixHeaders()}}else{this._calcSize()}},clearCachedSize_:function(){this.$supers("clearCachedSize_",arguments);this._clearCachedSize();var p;if(!this.ebdfaker&&(p=i(this))){for(var l=p.cells,n=l.length;n--;){l[n].style.width=""}}var m=this.getHeadWidget();if(m){for(var k=m.firstChild,o;k;k=k.nextSibling){delete k._hflexsz}}},_clearCachedSize:function(){var k;if(k=this.$n()){k._lastsz=this._minWd=null}},_calcMinWds:function(){if(!this._minWd){this._minWd=f(this)}return this._minWd},_adjSpanWd:function(){if(!this._isAllWidths()||!this.isSpan()){return}var B=this.ehdfaker,z=this.ebdfaker,p=this.eftfaker;if(!B||!z||!B.cells.length||!z.cells.length){return}var q=this.head.$n();if(!q){return}this._calcMinWds();var J=this.eheadtbl,F=this.ebodytbl,u,x=[],E=0,k=this.head.$n("hdfakerflex"),o=zk(B).isRealVisible(true),t=this._minWd.wds;for(var A=this.head.firstChild,G=0;A;A=A.nextSibling){if(zk(B.cells[G]).isVisible()){u=x[G]=A._hflex=="min"?t[G]:(A._width&&A._width.indexOf("px")>0)?zk.parseInt(A._width):o?B.cells[G].offsetWidth:z.cells[G].offsetWidth;E+=u}++G}var v=zk.ie&&(F.parentNode.offsetHeight==0||(zk.ie<8&&!this.getHeight()&&!this.$n().style.height));var L=F.parentNode[v?"offsetWidth":"clientWidth"]-(zk.ie<8?1:0),n=L-E;var s=L,D=-1;if(this._nspan<0){for(var G=B.cells.length-(k?1:0);G--;){if(!zk(B.cells[G]).isVisible()){continue}x[G]=u=n<=0?x[G]:(((x[G]*L/E)+0.5)|0);var y=zk(z.cells[G]).revisedWidth(u),r=jq.px0(y);s-=u;D=G;if(z.cells[G].style.width==r){continue}z.cells[G].style.width=r;B.cells[G].style.width=r;if(p){p.cells[G].style.width=r}var m=zk(q.cells[G]).revisedWidth(y);q.cells[G].style.width=jq.px0(m);var l=q.cells[G].firstChild;l.style.width=zk(l).revisedWidth(m)+"px"}if(n>0&&s!=0&&D>=0){u=x[D]+s;var y=zk(z.cells[D]).revisedWidth(u),r=jq.px0(y);z.cells[D].style.width=r;B.cells[D].style.width=r;if(p){p.cells[D].style.width=r}var m=zk(q.cells[D]).revisedWidth(y);q.cells[D].style.width=jq.px0(m);var l=q.cells[D].firstChild;l.style.width=zk(l).revisedWidth(m)+"px"}}else{var C=zk.gecko,K=C>9&&C<13,I=this.ebody,H;if(K){if(I){H=I.style.height}if(H){I.style.height=""}}D=this._nspan-1;for(var G=B.cells.length-(k?1:0);G--;){if(!zk(B.cells[G]).isVisible()){continue}u=D==G&&n>0?(x[D]+n):x[G];var y=zk(z.cells[G]).revisedWidth(u),r=jq.px0(y);if(z.cells[G].style.width==r){continue}z.cells[G].style.width=r;B.cells[G].style.width=r;if(p){p.cells[G].style.width=r}var m=zk(q.cells[G]).revisedWidth(y);q.cells[G].style.width=jq.px0(m);var l=q.cells[G].firstChild;l.style.width=zk(l).revisedWidth(m)+"px"}if(K&&H){I.style.height=H}}if(zk.opera){zk(this.$n()).redoCSS()}},_adjHeadWd:function(){var v=this.ehdfaker,t=this.ebdfaker,n=this.eftfaker,k=this.head?this.head.$n("hdfakerflex"):null;if(!v||!t||!v.cells.length||!t.cells.length||!zk(v).isRealVisible()||!this.getBodyWidgetIterator().hasNext()){return}var A=this.ehead.firstChild,o=this.head.$n();if(!o){return}var y=this.ebody.firstChild;var C=Math.max(A.offsetWidth,y.offsetWidth),q=Math.min(y.parentNode.clientWidth,y.offsetWidth);if(C==this.ebody.offsetWidth&&this.ebody.offsetWidth>q&&this.ebody.offsetWidth-q<20){C=q}this._calcMinWds();var p=this._minWd,s=p.wds,x=p.width;for(var z=t.cells.length-(k?1:0),B=this.head.lastChild;z--;B=B.previousSibling){if(!zk(v.cells[z]).isVisible()||B._width){continue}var r=s[z],u=zk(t.cells[z]).revisedWidth(r),w=u+"px";v.cells[z].style.width=t.cells[z].style.width=w;if(n){n.cells[z].style.width=w}var m=zk(o.cells[z]).revisedWidth(u);o.cells[z].style.width=m+"px";var l=o.cells[z].firstChild;l.style.width=zk(l).revisedWidth(m)+"px"}if(C!=A.offsetWidth){C=A.offsetWidth;q=Math.min(this.ebody.clientWidth,y.offsetWidth);if(C==this.ebody.offsetWidth&&this.ebody.offsetWidth>q&&this.ebody.offsetWidth-q<20){C=q}}h(this)}});zul.mesh.Scrollbar={init:function(k){return},getScrollPosV:function(k){return k.ebody.scrollTop}}})();
(function(){var b=zk.opera?function(d){return(d=d.parent)&&d.rerender()}:zk.$void;function a(d){if((d=d.getMeshWidget())&&(d=d.frozen)){d._syncFrozen()}}var c=zul.mesh.HeadWidget=zk.$extends(zul.Widget,{$init:function(){this.$supers("$init",arguments);this.listen({onColSize:this},-1000)},$define:{sizable:function(){this.rerender()}},removeChildHTML_:function(g){this.$supers("removeChildHTML_",arguments);if(!this.$instanceof(zul.mesh.Auxhead)){for(var e,d=g.$class._faker,f=d.length;f--;){jq(g.uuid+"-"+d[f],zk).remove()}}},setVflex:function(d){d=false;this.$super(c,"setVflex",d)},setHflex:function(d){d=false;this.$super(c,"setHflex",d)},getMeshWidget:function(){return this.parent},onColSize:function(e){var d=this.parent;e.column._width=e.width;d._innerWidth=d.eheadtbl.width||d.eheadtbl.style.width;d.fire("onInnerWidth",d._innerWidth);d.fireOnRender(zk.gecko?200:60)},bind_:function(g,f,e){this.$supers(c,"bind_",arguments);var d=this;e.push(function(){a(d)})},unbind_:function(){jq(this.hdfaker).remove();jq(this.bdfaker).remove();jq(this.ftfaker).remove();this.$supers(c,"unbind_",arguments)},onChildAdded_:function(d){this.$supers("onChildAdded_",arguments);if(this.desktop){if(!b(this)&&this.parent._fixHeaders()){this.parent.onSize()}a(this);this.parent._minWd=null}},onChildRemoved_:function(){this.$supers("onChildRemoved_",arguments);if(this.desktop){if(!b(this)&&!this.childReplacing_&&this.parent._fixHeaders()){this.parent.onSize()}this.parent._minWd=null}},beforeChildrenFlex_:function(k){if(k&&!k._flexFixed){var l=this.parent,e=l.ehdfaker,i=l.ebdfaker,d=e?e.firstChild:null,g=i?i.firstChild:null,f=false;for(var j=this.firstChild;j;j=j.nextSibling){if(j._nhflex>0){f=true;if(d){d.style.width=""}if(g){g.style.width=""}}if(d){d=d.nextSibling}if(g){g=g.nextSibling}}if(zk.ie<8&&f){if(d){d.style.width="0px"}if(g){g.style.width="0px"}}}return true},afterChildrenFlex_:function(d){var e=this.parent;if(e){e._adjFlexWd();e._adjSpanWd();e._removeScrollbar()}},deferRedrawHTML_:function(d){d.push("<tr",this.domAttrs_({domClass:1}),' class="z-renderdefer"></tr>')}},{redraw:function(e){e.push("<tr",this.domAttrs_(),' align="left">');for(var d=this.firstChild;d;d=d.nextSibling){d.redraw(e)}e.push("</tr>")}})})();
(function(){zul.mesh.ColumnMenuWidget=zk.$extends(zul.mesh.HeadWidget,{_menupopup:"none",_columnshide:true,_columnsgroup:true,$define:{columnshide:_zkf=function(){if(this.desktop){this._initColMenu()}},columnsgroup:_zkf,menupopup:function(){if(this._menupopup!="auto"){this._mpop=null}this.rerender()}},bind_:function(b,d,c){this.$supers(zul.mesh.ColumnMenuWidget,"bind_",arguments);zWatch.listen({onResponse:this});var a=this;if(this._menupopup=="auto"){c.push(function(){a._initColMenu()})}},unbind_:function(){zWatch.unlisten({onResponse:this});if(this._mpop){this._mpop.parent.removeChild(this._mpop);this._shallColMenu=this._mpop=null}this.$supers(zul.mesh.ColumnMenuWidget,"unbind_",arguments)},onResponse:function(){if(this._shallColMenu){this.syncColMenu()}},_syncColMenu:function(){this._shallColMenu=true},_initColMenu:function(){if(this._mpop){this._mpop.parent.removeChild(this._mpop)}this._mpop=new zul.mesh.ColumnMenupopup({columns:this})},syncColMenu:function(){this._shallColMenu=false;if(this._mpop){this._mpop.syncColMenu()}},_onColVisi:function(c){var f=c.currentTarget,b=f.parent;b.close({sendOnOpen:true});var e=0;for(var a=b.firstChild;a;a=a.nextSibling){if(a.$instanceof(zul.menu.Menuitem)&&a.isChecked()){e++}}if(e==0){f.setChecked(true)}var d=zk.Widget.$(f._col);if(d&&d.parent==this){var g=this.getMeshWidget();if(g&&g.isSizedByContent()){g.clearCachedSize_()}d.setVisible(f.isChecked())}},_onGroup:function(a){var b;if((b=a.target.parent._ungroup)){b.setVisible(true)}this._mref.fire("onGroup","ascending"!=this._mref.getSortDirection(),{toServer:!this.getMeshWidget().getModel()})},_onUngroup:zk.$void,_onAsc:function(a){this._mref.fire("onSort",true)},_onDesc:function(a){this._mref.fire("onSort",false)},_onMenuPopup:function(a){if(this._mref){var b=this._mref.getZclass(),c=this._mref.$n();jq(c).removeClass(b+"-visi").removeClass(b+"-over")}this._mref=a.data.reference},onChildAdded_:function(b){this.$supers("onChildAdded_",arguments);this._syncColMenu();var a=this.getMeshWidget();if(a&&a._syncEmpty){a._syncEmpty()}},onChildRemoved_:function(b){this.$supers("onChildRemoved_",arguments);if(!this.childReplacing_){this._syncColMenu()}var a=this.getMeshWidget();if(a){a._syncEmpty()}},getGroupPackage_:zk.$void});zul.mesh.ColumnMenupopup=zk.$extends(zul.menu.Menupopup,{$define:{columns:null},$init:function(){this.$supers("$init",arguments);this.afterInit(this._init)},getAscitem:function(){return this._asc},getDescitem:function(){return this._desc},getGroupitem:function(){return this._group},getUngroupitem:zk.$void,_init:function(){var a=this._columns,e=a.getZclass();this.listen({onOpen:[a,a._onMenuPopup]});if(zk.feature.pe&&a.isColumnsgroup()){if(!zk.isLoaded(a.getGroupPackage_())){zk.load(a.getGroupPackage_())}var c=new zul.menu.Menuitem({label:msgzul.GRID_GROUP,visible:false});c.setSclass(e+"-menu-grouping");c.listen({onClick:[a,a._onGroup]});this.appendChild(c);this._group=c;if(zk.feature.ee){var f=new zul.menu.Menuitem({label:msgzul.GRID_UNGROUP,visible:false});f.setSclass(e+"-menu-ungrouping");f.listen({onClick:[a,a._onUngroup]});this.appendChild(f);this._ungroup=f}}var b=new zul.menu.Menuitem({label:msgzul.GRID_ASC});b.setSclass(e+"-menu-asc");b.listen({onClick:[a,a._onAsc]});this._asc=b;this.appendChild(b);var d=new zul.menu.Menuitem({label:msgzul.GRID_DESC});d.setSclass(e+"-menu-dsc");d.listen({onClick:[a,a._onDesc]});this._desc=d;this.appendChild(d);this.syncColMenu();a.getPage().appendChild(this)},syncColMenu:function(){var a=this._columns;for(var f=this.lastChild,e;f!=this._desc;){e=f.previousSibling;this.removeChild(f);f=e}if(a&&a.isColumnshide()){var b=new zul.menu.Menuseparator();this.appendChild(b);for(var d,f=a.firstChild;f;f=f.nextSibling){d=new zul.menu.Menuitem({label:f.getLabel(),autocheck:true,checkmark:true,checked:f.isVisible()});d._col=f.uuid;d.listen({onClick:[a,a._onColVisi]});this.appendChild(d)}}}})})();
zul.mesh.HeaderWidget=zk.$extends(zul.LabelImageWidget,{_sumWidth:true,$define:{align:function(a){this.updateMesh_("align",a)},valign:function(a){this.updateMesh_("valign",a)},width:_zkf=function(){this.updateMesh_()},height:_zkf},updateMesh_:function(a,c){if(this.desktop){var b=this.getMeshWidget();if(b){b.rerender()}}},setFlexSize_:function(b){if((b.width!==undefined&&b.width!="auto"&&b.width!="")||b.width==0){var a=this._hflex=="min"&&this.firstChild&&this.isRealVisible()?zk(this.$n("cave")).revisedWidth(b.width):b.width;this._hflexWidth=a;return{width:a}}else{return this.$supers("setFlexSize_",arguments)}},domStyle_:function(b){var a="";if(this._hflexWidth){a="width: "+this._hflexWidth+"px;";if(b){b.width=true}else{b={width:true}}}if(zk.ie8&&this._align){a+="text-align:"+this._align+";"}return a+this.$super("domStyle_",b)},getMeshWidget:function(){return this.parent?this.parent.parent:null},isSortable_:function(){return false},getColAttrs:function(){return(this._align?' align="'+this._align+'"':"")+(this._valign?' valign="'+this._valign+'"':"")},setVisible:function(a){if(this.isVisible()!=a){this.$supers("setVisible",arguments);this.updateMesh_("visible",a)}},domAttrs_:function(b){var a=this.$supers("domAttrs_",arguments);return a+this.getColAttrs()},getTextNode:function(){return jq(this.$n()).find(">div:first")[0]},bind_:function(){this.$supers(zul.mesh.HeaderWidget,"bind_",arguments);if(this.parent.isSizable()){this._initsz()}this.fixFaker_()},unbind_:function(){if(this._dragsz){this._dragsz.destroy();this._dragsz=null}this.$supers(zul.mesh.HeaderWidget,"unbind_",arguments)},_initsz:function(){var b=this.$n();if(b&&!this._dragsz){var a=this.$class;this._dragsz=new zk.Draggable(this,null,{revert:true,constraint:"horizontal",ghosting:a._ghostsizing,endghosting:a._endghostsizing,snap:a._snapsizing,ignoredrag:a._ignoresizing,zIndex:99999,endeffect:a._aftersizing})}},fixFaker_:function(){var f=this.$n(),d=zk(f).cellIndex(),b=this.getMeshWidget();for(var c,a=this.$class._faker,e=a.length;e--;){c=b["e"+a[e]];if(c&&!this.$n(a[e])){c[c.cells.length>d?"insertBefore":"appendChild"](this._createFaker(f,a[e]),c.cells[d])}}},_createFaker:function(e,c){var a=document.createElement("th"),b=document.createElement("div");a.id=e.id+"-"+c;a.className=e.className;a.style.cssText=e.style.cssText;b.style.overflow="hidden";a.appendChild(b);return a},doClick_:function(a){var c=zk.Widget.$(a.domTarget),d=this.$n(),b=this._dragsz?zk(d).revisedOffset():false;if(!zk.dragging&&(c==this||c.$instanceof(zul.wgt.Label))&&this.isSortable_()&&!jq.nodeName(a.domTarget,"input")&&(!this._dragsz||!this._insizer(a.pageX-b[0]))){this.fire("onSort","ascending"!=this.getSortDirection());a.stop()}else{if(jq.nodeName(a.domTarget,"input")){a.stop({propagation:true})}this.$supers("doClick_",arguments)}},doDoubleClick_:function(c){if(this._dragsz){var h=this.$n(),d=zk(h),e=d.revisedOffset();if(this._insizer(c.pageX-e[0])){var g=this.getMeshWidget(),b=zk(this.$n("cave")).textSize()[0],a=d.cellIndex();g._calcMinWds();var f=g._minWd.wds[a];this.$class._aftersizing({control:this,_zszofs:f},c)}else{this.$supers("doDoubleClick_",arguments)}}else{this.$supers("doDoubleClick_",arguments)}},doMouseMove_:function(a){if(zk.dragging||!this.parent.isSizable()){return}var c=this.$n(),b=zk(c).revisedOffset();if(this._insizer(a.pageX-b[0])){jq(c).addClass(this.getZclass()+"-sizing")}else{jq(c).removeClass(this.getZclass()+"-sizing")}},doMouseOut_:function(a){if(this.parent.isSizable()){var b=this.$n();jq(b).removeClass(this.getZclass()+"-sizing")}this.$supers("doMouseOut_",arguments)},ignoreDrag_:function(b){if(this.parent.isSizable()){var c=this.$n(),a=zk(c).revisedOffset();return this._insizer(b[0]-a[0])}return false},ignoreChildNodeOffset_:function(a){return true},listenOnFitSize_:zk.$void,unlistenOnFitSize_:zk.$void,beforeMinFlex_:function(d){if(d=="w"){var c=this.getMeshWidget();if(c){c._calcMinWds();if(c._minWd){var e=this.$n(),b=zk(e),a=b.cellIndex();return b.revisedWidth(c._minWd.wds[a])}}}return null},clearCachedSize_:function(){this.$supers("clearCachedSize_",arguments);var a;if(a=this.getMeshWidget()){a._clearCachedSize()}},getParentSize_:function(){var f=this.getMeshWidget(),d=f.$n(),e=d?zk(d):null;if(e){var b=e.revisedWidth(d.offsetWidth);if(f.ebody){var a=zk(f.ebody).hasVScroll();if(a>11){b-=a}if(zk.ie){if(a>11||!f.ebody.clientWidth){var c=jq(f.ehead).find("table>tbody>tr>th:last-child")[0];c.style.width="";if(f.ebodytbl){f.ebodytbl.width=""}}else{if(f.ebodytbl&&!f.ebodytbl.width){f.ebodytbl.width="100%"}}}}return{height:e.revisedHeight(d.offsetHeight),width:b}}return{}},isWatchable_:function(b,d,a){var c;return this._visible&&(c=this.parent)&&c._visible&&(c=c.parent)&&c.isWatchable_(b,d,a)},_insizer:function(a){return a>=this.$n().offsetWidth-10},deferRedrawHTML_:function(a){a.push("<th",this.domAttrs_({domClass:1}),' class="z-renderdefer"></th>')}},{_faker:["hdfaker","bdfaker","ftfaker"],_ghostsizing:function(d,c,a){var f=d.control,b=f.getMeshWidget().eheadtbl,e=zk(b).revisedOffset(),g=f.$n();c[1]=e[1];c[0]+=zk(g).offsetWidth();jq(document.body).append('<div id="zk_hdghost" style="position:absolute;top:'+c[1]+"px;left:"+c[0]+"px;width:3px;height:"+zk(b.parentNode.parentNode).offsetHeight()+'px;background:darkgray"></div>');return jq("#zk_hdghost")[0]},_endghostsizing:function(b,a){b._zszofs=zk(b.node).revisedOffset()[0]-zk(a).revisedOffset()[0]},_snapsizing:function(c,d){var e=c.control.$n(),a=zk(e),b=a.revisedOffset();d[0]+=a.offsetWidth();if(b[0]+c._zmin>=d[0]){d[0]=b[0]+c._zmin}return d},_ignoresizing:function(d,f,a){var e=d.control,g=e.$n(),b=zk(g),c=b.revisedOffset();if(e._insizer(f[0]-c[0])){d._zmin=10+b.padBorderWidth();return false}return true},_aftersizing:function(G,y){var s=G.control,z=s.$n(),H=zk(z),a=s.getMeshWidget(),p=G._zszofs,F=a.eheadtbl,k=F.tBodies[0].rows[0],t=H.revisedWidth(p),o=H.cellIndex();var x=zk.gecko,J=x>9&&x<13,K=s.getMeshWidget(),D=K&&K.ebody,E;if(J&&D){if(D){E=D.style.height}if(E){D.style.height=""}}if(a.efoottbl){a.eftfaker.cells[o].style.width=p+"px"}var j,B;if(a.ebodytbl){if(zk.opera&&!a.ebodytbl.style.tableLayout){j="auto";a.ebodytbl.style.tableLayout="fixed"}a.ebdfaker.cells[o].style.width=p+"px"}k.cells[o].style.width=p+"px";z.style.width=t+"px";var d=z.firstChild;d.style.width=zk(d).revisedWidth(t)+"px";var f=a.ehdfaker.cells,e=a.ebdfaker.cells,r=[],C=0;for(var u=a.head.firstChild,C=0;u;u=u.nextSibling){var m=f[C].style.width,b=u._origWd;u._width=r[C]=b?b:m?m:jq.px0(f[C].offsetWidth);if(!m){e[C].style.width=f[C].style.width=u._width}++C}delete a._span;delete a._sizedByContent;for(var u=a.head.firstChild;u;u=u.nextSibling){u.setHflex_(null)}var g=jq(a.ehead).find("table>tbody>tr>th:last-child")[0],q=jq(a.ebody).find("table>tbody>tr>th:last-child")[0],c=g.style.width;g.style.width="";if(zk.ie<8){if(g.offsetWidth==1){g.style.width=c}}if(q){var A=q.style.width;q.style.width="";if(zk.ie<8){if(q.offsetWidth==1){q.style.width=A}}}var I=a.$n();if(zk.opera){if(j){a.ebodytbl.style.tableLayout=j}var v=I.style.display;I.style.display="none";var l=I.offsetHeight;I.style.display=v}if(J&&E&&D){D.style.height=E}s.parent.fire("onColSize",zk.copy({index:o,column:s,width:p+"px",widths:r},y.data),null,0);I._lastsz=null;zUtl.fireSized(a,-1);if(zk.ie<8){zk(a).redoCSS()}},redraw:function(c){var d=this.uuid,e=this.getZclass(),b=this.domContent_();c.push("<th",this.domAttrs_(),'><div id="',d,'-cave" class="',e,'-cnt"',this.domTextStyleAttr_(),'><div class="',e,'-sort-img"></div>',((!this.firstChild&&b=="")?"&nbsp;":b));if(this.parent._menupopup&&this.parent._menupopup!="none"){c.push('<a id="',d,'-btn"  href="javascript:;" class="',e,'-btn"></a>')}for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(c)}c.push("</div></th>")}});
zul.mesh.SortWidget=zk.$extends(zul.mesh.HeaderWidget,{_sortDirection:"natural",_sortAscending:"none",_sortDescending:"none",$define:{sortDirection:function(a){var d=this.$n();if(d){var c=this.getZclass(),b=jq(d);b.removeClass(c+"-sort-dsc").removeClass(c+"-sort-asc").addClass(c+"-sort");switch(a){case"ascending":b.addClass(c+"-sort-asc");break;case"descending":b.addClass(c+"-sort-dsc")}}},sortAscending:function(a){if(!a){this._sortAscending=a="none"}var d=this.$n(),c=this.getZclass();if(d){var b=jq(d);if(a=="none"){b.removeClass(c+"-sort-asc");if(this._sortDescending=="none"){b.removeClass(c+"-sort")}}else{b.addClass(c+"-sort")}}},sortDescending:function(a){if(!a){this._sortDescending=a="none"}var d=this.$n(),c=this.getZclass();if(d){var b=jq(d);if(a=="none"){b.removeClass(c+"-sort-dsc");if(this._sortAscending=="none"){b.removeClass(c+"-sort")}}else{b.addClass(c+"-sort")}}}},$init:function(){this.$supers("$init",arguments);this.listen({onSort:this},-1000)},setSort:function(a){if(a&&a.startsWith("client")){this.setSortAscending(a);this.setSortDescending(a)}else{this.setSortAscending("none");this.setSortDescending("none")}},isSortable_:function(){return this._sortAscending!="none"||this._sortDescending!="none"},sort:function(b,a){if(!this.checkClientSort_(b)){return false}a.stop();this.replaceCavedChildrenInOrder_(b);return true},checkClientSort_:function(b){var a=this.getSortDirection();if(b){if("ascending"==a){return false}}else{if("descending"==a){return false}}var d=b?this._sortAscending:this._sortDescending;if(d=="fromServer"){return false}else{if(d=="none"){evt.stop();return false}}var c=this.getMeshWidget();if(!c||c.isModel()){return false}return true},replaceCavedChildrenInOrder_:function(c){var a=this.getMeshWidget(),m=this.getMeshBody(),o=this.getSortDirection(),q=c?this._sortAscending:this._sortDescending,t=m.desktop,p=m.$n();try{m.unbind();var u=[],e=this.getChildIndex();for(var s=0,j=0,f=a.getBodyWidgetIterator(),l;(l=f.next());j++){for(var r=0,b=l.firstChild;b;b=b.nextSibling,r++){if(r==e){u[s++]={wgt:b,index:j}}}}var g=o=="ascending"?-1:1,h=this.sorting,n=q=="client(number)";u.sort(function(i,d){var k=h(i.wgt,d.wgt,n)*g;if(k==0){k=(i.index<d.index?-1:1)}return k});for(var s=0,r=u.length;s<r;s++){m.appendChild(u[s].wgt.parent)}this._fixDirection(c)}finally{m.replaceHTML(p,t)}},sorting:function(d,c,e){var g,f;if(typeof d.getLabel=="function"){g=d.getLabel()}else{if(typeof d.getValue=="function"){g=d.getValue()}else{g=d}}if(typeof c.getLabel=="function"){f=c.getLabel()}else{if(typeof c.getValue=="function"){f=c.getValue()}else{f=c}}if(e){return g-f}return g>f?1:(g<f?-1:0)},_fixDirection:function(b){for(var a=this.parent.firstChild;a;a=a.nextSibling){a.setSortDirection(a!=this?"natural":b?"ascending":"descending")}},onSort:function(a){var b=this.getSortDirection();if("ascending"==b){this.sort(false,a)}else{if("descending"==b){this.sort(true,a)}else{if(!this.sort(true,a)){this.sort(false,a)}}}},domClass_:function(d){var b=this.$supers("domClass_",arguments);if(!d||!d.zclass){var c=this.getZclass(),a;if(this._sortAscending!="none"||this._sortDescending!="none"){switch(this._sortDirection){case"ascending":a=c+"-sort "+c+"-sort-asc";break;case"descending":a=c+"-sort "+c+"-sort-dsc";break;default:a=c+"-sort";break}}return b!=null?b+(a?" "+a:""):a||""}return b},getColumnMenuPopup_:zk.$void,_doMenuClick:function(j){if(this.parent._menupopup&&this.parent._menupopup!="none"){var c=this.parent._menupopup,d=this.$n(),b=this.$n("btn"),a=this.getZclass();jq(d).addClass(a+"-visi");if(c=="auto"&&this.parent._mpop){c=this.parent._mpop}else{c=this.$f(this.parent._menupopup)}if(zul.menu.Menupopup.isInstance(c)){var h=zk(b).revisedOffset(),i=this.getSortAscending()!="none",g=this.getSortDescending()!="none",k=this.getMeshWidget();if(c.$instanceof(zul.mesh.ColumnMenupopup)){c.getAscitem().setVisible(i);c.getDescitem().setVisible(g);var f=k.getModel();if(zk.feature.pe&&c.getGroupitem()){if(f=="group"||!f||this.isListen("onGroup",{asapOnly:1})){c.getGroupitem().setVisible((i||g))}else{c.getGroupitem().setVisible(false)}}if(zk.feature.ee&&c.getUngroupitem()){var e=!f||this.isListen("onUngroup",{asapOnly:1});c.getUngroupitem().setVisible(e&&k.hasGroup())}var l=c.getDescitem().nextSibling;if(l){l.setVisible((i||g))}}else{c.listen({onOpen:[this.parent,this.parent._onMenuPopup]})}c.open(b,[h[0],h[1]+b.offsetHeight-4],null,{sendOnOpen:true})}j.stop()}}});
zul.mesh.FooterWidget=zk.$extends(zul.LabelImageWidget,{_span:1,$define:{span:function(a){var b=this.$n();if(b){b.colSpan=a}},align:function(a){var b=this.$n();if(b){b.align=a}},valign:function(a){var b=this.$n();if(b){b.vAlign=a}}},getMeshWidget:function(){return this.parent?this.parent.parent:null},getHeaderWidget:function(){var a=this.getMeshWidget();if(a){var b=a.getHeadWidget();if(b){return b.getChildAt(this.getChildIndex())}}return null},getAlignAttrs:function(){return(this._align?' align="'+this._align+'"':"")+(this._valign?' valign="'+this._valign+'"':"")},domStyle_:function(b){var a="";if(zk.ie8&&this._align){a+="text-align:"+this._align+";"}return a+this.$super("domStyle_",b)},domAttrs_:function(){var a=this.getHeaderWidget(),b;if(a){b=a.getColAttrs()}if(this._align||this._valign){b=this.getAlignAttrs()}return this.$supers("domAttrs_",arguments)+(this._span>1?' colspan="'+this._span+'"':"")+(b?" "+b:"")},deferRedrawHTML_:function(a){a.push("<td",this.domAttrs_({domClass:1}),' class="z-renderdefer"></td>')}});
(function(){function b(c){if(c.isBothPaging()){c.parent.rerender();return true}}function a(c){return(c.toString().search(/^[0-9]+$/)==0)}zul.mesh.Paging=zk.$extends(zul.Widget,{_pageSize:20,_totalSize:0,_pageCount:1,_activePage:0,_pageIncrement:zk.mobile?5:10,$define:{totalSize:function(){this._updatePageNum();if(this._detailed){if(!b(this)){var c=this.$n("info");if(c){c.innerHTML=this.infoText_()}}}},pageIncrement:_zkf=function(){this.rerender()},detailed:_zkf,pageCount:_zkf,activePage:_zkf,pageSize:function(){this._updatePageNum()},autohide:function(){if(this._pageCount==1){this.rerender()}}},setStyle:function(){this.$supers("setStyle",arguments);b(this)},setSclass:function(){this.$supers("setSclass",arguments);b(this)},setWidth:function(){this.$supers("setWidth",arguments);b(this)},setHeight:function(){this.$supers("setHeight",arguments);b(this)},setLeft:function(){this.$supers("setLeft",arguments);b(this)},setTop:function(){this.$supers("setTop",arguments);b(this)},setTooltiptext:function(){this.$supers("setTooltiptext",arguments);b(this)},replaceHTML:function(){if(!b(this)){this.$supers("replaceHTML",arguments)}},isBothPaging:function(){return this.parent&&this.parent.getPagingPosition&&"both"==this.parent.getPagingPosition()},_updatePageNum:function(){var c=Math.floor((this._totalSize-1)/this._pageSize+1);if(c==0){c=1}if(c!=this._pageCount){this._pageCount=c;if(this._activePage>=this._pageCount){this._activePage=this._pageCount-1}if(this.desktop&&this.parent){if(!b(this)){this.rerender();if(this.parent.$instanceof(zul.mesh.MeshWidget)){var d=this.parent.$n();if(d&&d._lastsz){d._lastsz=null}this.parent.onSize()}}}}},infoText_:function(){var c=(this._activePage+1)*this._pageSize;return"[ "+(this._activePage*this._pageSize+1)+("os"!=this.getMold()?" - "+(c>this._totalSize?this._totalSize:c):"")+" / "+this._totalSize+" ]"},_infoTags:function(){if(this._totalSize==0){return""}var d=(this._activePage+1)*this._pageSize,c=[];c.push('<div id="',this.uuid,'-info" class="',this.getZclass(),'-info">',this.infoText_(),"</div>");return c.join("")},_innerTags:function(){var e=[];var h=Math.round(this._pageIncrement/2),f,d=this._activePage+h-1;if(d>=this._pageCount){d=this._pageCount-1;f=d-this._pageIncrement+1;if(f<0){f=0}}else{f=this._activePage-h;if(f<0){f=0}d=f+this._pageIncrement-1;if(d>=this._pageCount){d=this._pageCount-1}}var c=this.getZclass();if(this._activePage>0){if(f>0){this.appendAnchor(c,e,msgzul.FIRST,0)}this.appendAnchor(c,e,msgzul.PREV,this._activePage-1)}var g=this._activePage<this._pageCount-1;for(;f<=d;++f){if(f==this._activePage){this.appendAnchor(c,e,f+1,f,true)}else{this.appendAnchor(c,e,f+1,f)}}if(g){this.appendAnchor(c,e,msgzul.NEXT,this._activePage+1);if(d<this._pageCount-1){this.appendAnchor(c,e,msgzul.LAST,this._pageCount-1)}}if(this._detailed){e.push('<span id="',this.uuid,'-info">',this.infoText_(),"</span>")}return e.join("")},appendAnchor:function(g,d,c,i,e){var h=g+"-cnt"+(e?" "+g+"-seld":""),f=a(c);g+="-cnt"+(e?"-seld":"");if(f){d.push('<div class="',g,'-l"><div class="',g,'-r"><div class="',g,'-m">')}d.push('<a class="',h,'" href="javascript:;" onclick="zul.mesh.Paging.go(this,',i,')">',c,"</a>");if(f){d.push("</div></div></div>")}},_doMouseEvt:function(c){var d=this.getZclass()+"-cnt-l";jq(c.domTarget).parents("."+d)[c.name=="onMouseOver"?"addClass":"removeClass"](d+"-over")},getZclass:function(){var c="os"==this.getMold()?"-os":"";return this._zclass==null?"z-paging"+c:this._zclass},isVisible:function(){var c=this.$supers("isVisible",arguments);return c&&(this._pageCount>1||!this._autohide)},bind_:function(){this.$supers(zul.mesh.Paging,"bind_",arguments);if(this.getMold()=="os"){var n=jq(this.$n()).find("div a"),l=n.length;while(l-->0){this.domListen_(n[l],"onMouseOver","_doMouseEvt").domListen_(n[l],"onMouseOut","_doMouseEvt")}return}var c=this.uuid,m=jq.$$(c,"real"),d=this.getZclass(),h=this.$class;if(!this.$weave){for(var l=m.length;l--;){jq(m[l]).keydown(h._domKeyDown).blur(h._domBlur)}}for(var o=["first","prev","last","next"],f=o.length;f--;){var e=jq.$$(c,o[f]);for(var g=e.length;g--;){if(!this.$weave){jq(e[g]).mouseover(h._domMouseOver).mouseout(h._domMouseOut).bind("zmousedown",h._domMouseDown).click(h["_dom"+o[f]+"Click"])}if(this._pageCount==1){jq(e[g]).addClass(d+"-btn-disd")}else{if(o[f]=="first"||o[f]=="prev"){if(this._activePage==0){jq(e[g]).addClass(d+"-btn-disd")}}else{if(this._activePage==this._pageCount-1){jq(e[g]).addClass(d+"-btn-disd")}}}}}},unbind_:function(){if(this.getMold()!="os"){var c=this.uuid,l=jq.$$(c,"real"),g=this.$class;for(var h=l.length;h--;){jq(l[h]).unbind("keydown",g._domKeyDown).unbind("blur",g._domBlur)}for(var n=["first","prev","last","next"],e=n.length;e--;){var d=jq.$$(c,n[e]);for(var f=d.length;f--;){jq(d[f]).unbind("mouseover",g._domMouseOver).unbind("mouseout",g._domMouseOut).unbind("zmousedown",g._domMouseDown).unbind("click",g["_dom"+n[e]+"Click"])}}}else{var m=jq(this.$n()).find("div a"),h=m.length;while(h-->0){this.domUnlisten_(m[h],"onMouseOver","_doMouseEvt").domUnlisten_(m[h],"onMouseOut","_doMouseEvt")}}this.$supers(zul.mesh.Paging,"unbind_",arguments)}},{go:function(c,e){var d=zk.Widget.isInstance(c)?c:zk.Widget.$(c);if(d&&d.getActivePage()!=e){d.fire("onPaging",e)}},_domKeyDown:function(c){var e=c.target,f=zk.Widget.$(e);if(e.disabled||e.readOnly){return}var d=c.keyCode;switch(d){case 48:case 96:case 49:case 97:case 50:case 98:case 51:case 99:case 52:case 100:case 53:case 101:case 54:case 102:case 55:case 103:case 56:case 104:case 57:case 105:break;case 37:break;case 38:case 33:f.$class._increase(e,f,1);c.stop();break;case 39:break;case 40:case 34:f.$class._increase(e,f,-1);c.stop();break;case 36:f.$class.go(f,0);c.stop();break;case 35:f.$class.go(f,f._pageCount-1);c.stop();break;case 9:case 8:case 46:break;case 13:f.$class._increase(e,f,0);f.$class.go(f,e.value-1);c.stop();break;default:if(!(d>=112&&d<=123)&&!c.ctrlKey&&!c.altKey){c.stop()}}},_domBlur:function(c){var d=c.target,e=zk.Widget.$(d);if(d.disabled||d.readOnly){return}e.$class._increase(d,e,0);e.$class.go(e,d.value-1);c.stop()},_increase:function(c,f,e){var d=zk.parseInt(c.value);d+=e;if(d<1){d=1}else{if(d>f._pageCount){d=f._pageCount}}c.value=d},_domfirstClick:function(c){var j=zk.Widget.$(c),h=j.getZclass();if(j.getActivePage()!=0){j.$class.go(j,0);var g=j.uuid;for(var l=["first","prev"],d=l.length;d--;){for(var f=jq.$$(g,l[d]),e=f.length;e--;){jq(f[e]).addClass(h+"-btn-disd")}}}},_domprevClick:function(j){var m=zk.Widget.$(j),g=m.getActivePage(),d=m.getZclass();if(g>0){m.$class.go(m,g-1);if(g-1==0){var c=m.uuid;for(var l=["first","prev"],f=l.length;f--;){for(var e=jq.$$(c,l[f]),h=e.length;h--;){jq(e[h]).addClass(d+"-btn-disd")}}}}},_domnextClick:function(l){var n=zk.Widget.$(l),g=n.getActivePage(),j=n.getPageCount(),d=n.getZclass();if(g<j-1){n.$class.go(n,g+1);if(g+1==j-1){var c=n.uuid;for(var m=["last","next"],f=m.length;f--;){for(var e=jq.$$(c,m[f]),h=e.length;h--;){jq(e[h]).addClass(d+"-btn-disd")}}}}},_domlastClick:function(j){var m=zk.Widget.$(j),h=m.getPageCount(),d=m.getZclass();if(m.getActivePage()<h-1){m.$class.go(m,h-1);var c=m.uuid;for(var l=["last","next"],f=l.length;f--;){for(var e=jq.$$(c,l[f]),g=e.length;g--;){jq(e[g]).addClass(d+"-btn-disd")}}}},_domMouseOver:function(c){var e=c.target,d=jq(e).parents("table:first"),f=zk.Widget.$(e).getZclass();if(!d.hasClass(f+"-btn-disd")){d.addClass(f+"-btn-over")}},_domMouseOut:function(c){var e=c.target,d=jq(e).parents("table:first"),f=zk.Widget.$(e);if(!zk.ie||!jq.isAncestor(d[0],c.relatedTarget||c.toElement)){d.removeClass(f.getZclass()+"-btn-over")}},_domMouseDown:function(c){var e=c.target,d=jq(e).parents("table:first"),g=zk.Widget.$(e),f=g.getZclass();if(!d.hasClass(f+"-btn-disd")){d.addClass(f+"-btn-clk");g.$class._downbtn=d[0];jq(document).bind("zmouseup",g.$class._domMouseUp)}},_domMouseUp:function(c){if(zul.mesh.Paging._downbtn){var d=zk.Widget.$(zul.mesh.Paging._downbtn).getZclass();jq(zul.mesh.Paging._downbtn).removeClass(d+"-btn-clk")}zul.mesh.Paging._downbtn=null;jq(document).unbind("zmouseup",zul.mesh.Paging._domMouseUp)}})})();
zkreg('zul.mesh.Paging');zk._m={};
zk._m['os']=function(a){if(this.getMold()=="os"){a.push("<div",this.domAttrs_(),">",this._innerTags(),"</div>");return}var b=this.uuid,c=this.getZclass();a.push('<div name="',b,'"',this.domAttrs_(),">","<table",zUtl.cellps0,'><tbody><tr><td><table id="',b,'-first" name="',b,'-first"',zUtl.cellps0,' class="',c,'-btn"><tbody><tr>','<td class="',c,'-btn-l"></td>','<td class="',c,'-btn-m"><em unselectable="on">','<button type="button" class="',c,'-first"> </button></em></td>','<td class="',c,'-btn-r"></td></tr></tbody></table></td>','<td><table id="',b,'-prev" name="',b,'-prev"',zUtl.cellps0,' class="',c,'-btn"><tbody><tr><td class="',c,'-btn-l"></td>','<td class="',c,'-btn-m"><em unselectable="on"><button type="button" class="',c,'-prev"> </button></em></td><td class="',c,'-btn-r"></td>','</tr></tbody></table></td><td><span class="',c,'-sep"></span></td>','<td><span class="',c,'-text"></span></td><td><input id="',b,'-real" name="',b,'-real" type="text" class="',c,'-inp" value="',this.getActivePage()+1,'" size="3"/></td>','<td><span class="',c,'-text">/ ',this.getPageCount(),"</span></td>",'<td><span class="',c,'-sep"></span></td><td><table id="',b,'-next" name="',b,'-next"',zUtl.cellps0,' class="',c,'-btn">','<tbody><tr><td class="',c,'-btn-l"></td><td class="',c,'-btn-m"><em unselectable="on"><button type="button" class="',c,'-next"> </button></em></td><td class="',c,'-btn-r"></td>','</tr></tbody></table></td><td><table id="',b,'-last" name="',b,'-last"',zUtl.cellps0,' class="',c,'-btn"><tbody><tr>','<td class="',c,'-btn-l"></td><td class="',c,'-btn-m"><em unselectable="on"><button type="button" class="',c,'-last"> </button></em></td><td class="',c,'-btn-r"></td>',"</tr></tbody></table></td></tr></tbody></table>");if(this.isDetailed()){a.push(this._infoTags())}a.push("</div>")};
;zk._m['default']=[zk._p.p.Paging,'os'];zkmld(zk._p.p.Paging,zk._m);zul.mesh.Auxhead=zk.$extends(zul.mesh.HeadWidget,{});
zkreg('zul.mesh.Auxhead');zk._m={};
zk._m['default']=function(b){b.push("<tr",this.domAttrs_(),' align="left">');for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</tr>")};
;zkmld(zk._p.p.Auxhead,zk._m);zul.mesh.Auxheader=zk.$extends(zul.mesh.HeaderWidget,{_colspan:1,_rowspan:1,$define:{colspan:function(a){var b=this.$n();if(b){b.colSpan=a;if(zk.ie){this.rerender()}}},rowspan:function(a){var b=this.$n();if(b){b.rowSpan=a;if(zk.ie){this.rerender()}}}},fixFaker_:zk.$void,domAttrs_:function(){var b=this.$supers("domAttrs_",arguments),a;if((a=this._colspan)!=1){b+=' colspan="'+a+'"'}if((a=this._rowspan)!=1){b+=' rowspan="'+a+'"'}return b}});
zkreg('zul.mesh.Auxheader',true);zk._m={};
zk._m['default']=function(b){b.push("<th",this.domAttrs_(),'><div id="',this.uuid,'-cave" class="',this.getZclass(),'-cnt"',this.domTextStyleAttr_(),">",this.domContent_());for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div></th>")};
;zkmld(zk._p.p.Auxheader,zk._m);(function(){function b(e){var d=zk.Widget.$(e)._colspan;return d?d:1}function c(o,h,i){for(var e=0,d=0,m=o.length;e<m;++e){var f=d+b(zk.Widget.$(o[e]));if(h>=d&&f>h){for(;e<m&&d<i;++e,d=f){var n=o[e],f=d+b(n),l=h-d,g=f-i;l=(l>0?l:0)+(g>0?g:0);if(l){n.style.width=""}else{n.style.width="0px"}}for(;e<m;++e){var n=o[e];if(parseInt(n.style.width)!=0){break}n.style.width=""}return}d=f}}function a(m){var l=m.parent,j;if(!(j=l.ebdfaker)&&(j=l.ebodyrows[0])){j=j.$n()}if(j){var f=0;for(var g=m._columns,e=j.firstChild;e&&g--;e=e.nextSibling){f+=e.offsetWidth}m.$n("cave").style.width=jq.px0(f);var k=m.$n("scrollX"),d=l.$n("body").offsetWidth;d-=f;k.style.width=jq.px0(d);var h=j.childNodes.length-m._columns-2;k.firstChild.style.width=jq.px0(d+50*h);m.syncScroll()}}zul.mesh.Frozen=zk.$extends(zul.Widget,{_start:0,$define:{columns:[function(d){return d<0?0:d},function(d){if(this._columns){if(this.desktop){this.onSize();this.syncScroll()}}else{this.rerender()}}],start:function(){this.syncScroll()}},syncScroll:function(){var d=this.$n("scrollX");if(d){d.scrollLeft=this._start*50}},beforeSize:function(){if(this._start!=0){this._doScrollNow(0,true)}},onSize:function(){if(!this._columns){return}var d=this;setTimeout(function(){a(d);d._syncFrozenNow()})},_onScroll:function(d){if(!d.data||!zk.currentFocus){return}var h,e,i,g=this,f=function(){if(zk.currentFocus&&(i=h.getFocusCell(zk.currentFocus.$n()))&&(e=i.cellIndex-g._columns)>=0){g.setStart(e);h.ebody.scrollLeft=0}};if(h=this.parent){if(zk.ie){setTimeout(f,0)}else{f()}}d.stop()},bind_:function(){this.$supers(zul.mesh.Frozen,"bind_",arguments);zWatch.listen({onSize:this,beforeSize:this});var d=this.$n("scrollX"),f=this.parent,e=f.$n("body");this.$n().style.height=this.$n("cave").style.height=d.style.height=d.firstChild.style.height=jq.px0(jq.scrollbarWidth());f.listen({onScroll:this.proxy(this._onScroll)},-1000);this.domListen_(d,"onScroll");if(e){jq(e).addClass("z-word-nowrap").css("overflow-x","hidden");f._currentLeft=0}},unbind_:function(){zWatch.unlisten({onSize:this,beforeSize:this});var f,d,e;if(f=this.parent){f.unlisten({onScroll:this.proxy(this._onScroll)});if(d=f.$n("body")){jq(d).removeClass("z-word-nowrap").css("overflow-x","")}if(f.head&&(e=f.head.$n("hdfakerflex"))){e.style.width=""}}if((f=this.parent)&&(f=f.$n("body"))){jq(f).removeClass("z-word-nowrap").css("overflow-x","")}this.$supers(zul.mesh.Frozen,"unbind_",arguments)},beforeParentChanged_:function(d){if(this._lastScale){this._doScrollNow(0)}this.$supers("beforeParentChanged_",arguments)},_doScroll:function(e){var d=this.$n("scrollX"),f=Math.ceil(d.scrollLeft/50);if(this._lastScale==f){return}this._lastScale=f;this._doScrollNow(f);this.smartUpdate("start",f);this._start=f},_syncFrozen:function(){this._shallSync=true},_syncFrozenNow:function(){var d;if(this._shallSync&&(d=this._start)){this._doScrollNow(d,true)}this._shallSync=false},_doScrollNow:function(l,e){var w=this.desktop?this.$n("cave").offsetWidth:null,d=this.parent,A=l,p=d.ebodyrows;if(d.head){for(var q,v=d.head.firstChild.$n("hdfaker");v;v=v.nextSibling){if(v.style.width.indexOf("px")==-1){var t=v.style.width=jq.px0(v.offsetWidth),o=zk.Widget.$(v);if(!o.$instanceof(zul.mesh.HeadWidget)){if((q=o.$n("bdfaker"))){q.style.width=t}if((q=o.$n("ftfaker"))){q.style.width=t}}}}var u=d.head.getChildAt(this._columns).$n(),x,D,G,z;for(var y,q,j=this._columns,m=d.head.nChildren-j,v=u;v;v=v.nextSibling,j++,m--){x=(D=zk.Widget.$(v))&&D.isVisible();G=false;if(A--<=0){if(e||parseInt(v.style.width)==0){z=D._origWd||v.style.width||jq.px0(jq(v).outerWidth());D._origWd=null;G=true}}else{if(e||parseInt(v.style.width)!=0){q=jq("#"+v.id+"-hdfaker")[0];D._origWd=D._origWd||q.style.width||jq.px0(jq(q).outerWidth());z="0px";G=true}}if(e||G){v.style.width=z;if((q=jq("#"+v.id+"-hdfaker")[0])){q.style.width=z}if((q=jq("#"+v.id+"-bdfaker")[0])&&x){q.style.width=z}if((q=jq("#"+v.id+"-ftfaker")[0])){q.style.width=z}if(d.foot){var E=d.efoottbl;if(E){var k=E.tBodies;if(k){k[k.length-1].rows[0].cells[j].style.width=z}}}}}for(var f=u.parentNode,g=f.parentNode.rows,B=g.length,s;B--;){if((s=g[B])!=f){c(s.cells,this._columns,this._columns+l)}}if(w){for(var v=d.head.getChildAt(this._columns+l).$n("hdfaker");v;v=v.nextSibling){if(v.style.display!="none"){w+=zk.parseInt(v.style.width)}}}}else{if(!p||!p.length){return}else{for(var j=this._columns,F=p[0].firstChild;F;F=F.nextSibling){if(F.style.width.indexOf("px")==-1){F.style.width=jq.px0(zk(F).revisedWidth(F.offsetWidth))}}for(var h=p[0],y,j=this._columns,C=h.childNodes.length;j<C;j++){y=A--<=0?"":"none";for(var s=h;s;s=s.nextSibling){s.cells[j].style.display=y}}for(var F=p[0].cells[this._columns+l];F;F=F.nextSibling){w+=zk.parseInt(F.style.width)}}}w=w?jq.px0(w):"";if(d.eheadtbl){d.eheadtbl.style.width=w}if(d.ebodytbl){d.ebodytbl.style.width=w}if(d.efoottbl){d.efoottbl.style.width=w}d._restoreFocus();if(zk.ie==8){zk(d).redoCSS()}}})})();
zkreg('zul.mesh.Frozen',true);zk._m={};
zk._m['default']=function(c){var d=this.uuid,e=this.getZclass();c.push("<div",this.domAttrs_(),'><div id="',d,'-cave" class="',e,'-body">');for(var b=0,a=this.firstChild;a;a=a.nextSibling,b++){a.redraw(c)}c.push('</div><div id="',d,'-scrollX" class="',e,'-inner" tabindex="-1"><div></div></div>','<div class="z-clear"></div></div>')};
;zkmld(zk._p.p.Frozen,zk._m);
}finally{zk.setLoaded(zk._p.n);}});zk.setLoaded('zul.mesh',1);
zk.load('zul',function(){if(zk._p=zkpi('zul.utl'))try{
zul.utl.Script=zk.$extends(zk.Widget,{$define:{content:function(a){if(a){this._fn=typeof a=="function"?a:new Function(a);if(this.desktop){this._exec()}}else{this._fn=null}},src:function(a){if(a){this._srcrun=false;if(this.desktop){this._exec()}}},charset:null},_exec:function(){var a=this.packages;if(!a){return this._exec0()}this.packages=null;zk.load(a);if(zk.loading){zk.afterLoad(this.proxy(this._exec0))}else{this._exec0()}},_exec0:function(){var b=this,a=this._fn;if(a){this._fn=null;zk.afterMount(function(){a.apply(b)})}if(this._src&&!this._srcrun){this._srcrun=true;zk.loadScript(this._src,null,this._charset)}},redraw:function(){},bind_:function(){this.$supers(zul.utl.Script,"bind_",arguments);this._exec()}});
zkreg('zul.utl.Script');zul.utl.Timer=zk.$extends(zk.Widget,{_running:true,_delay:0,$define:{repeats:_zkf=function(){if(this.desktop){this._sync()}},delay:_zkf,running:_zkf},play:function(){this.setRunning(true)},stop:function(){this.setRunning(false)},_sync:function(){this._stop();this._play()},_play:function(){if(this._running){var a=this.proxy(this._tmfn);if(this._repeats){this._iid=setInterval(a,this._delay);zAu.onError(this.proxy(this._onErr))}else{this._tid=setTimeout(a,this._delay)}}},_stop:function(){var a=this._iid;if(a){this._iid=null;clearInterval(a)}a=this._tid;if(a){this._tid=null;clearTimeout(a)}zAu.unError(this.proxy(this._onErr))},_onErr:function(b,a){if(a==410||a==404||a==405){this._stop()}},_tmfn:function(){if(!this._repeats){this._running=false}this.fire("onTimer",null,{ignorable:true})},redraw:function(){},bind_:function(){this.$supers(zul.utl.Timer,"bind_",arguments);if(this._running){this._play()}},unbind_:function(){this._stop();this.$supers(zul.utl.Timer,"unbind_",arguments)}});
zkreg('zul.utl.Timer');zul.utl.Style=zk.$extends(zk.Widget,{$define:{src:function(){this._content=null;this.rerender()},content:function(){this._src=null;this.rerender()},media:function(a){var b=this.$n("real");if(b){b.media=a}}}});if(zk.ie<9){zul.utl.Style.prototype.bind_=function(){this.$supers(zul.utl.Style,"bind_",arguments);if(this._src){var a=this;setTimeout(function(){var b=a.$n("real");if(b){b.href=a._src}})}}};
zkreg('zul.utl.Style');zk._m={};
zk._m['default']=function(b){var c,a;b.push('<div style="display:none" id="',this.uuid,'">&#160;');if(c=this._src){b.push('<link id="',this.uuid,'-real" rel="stylesheet" type="text/css" href="',c,'"')}else{b.push('<style id="',this.uuid,'-real"')}if(a=this._media){b.push(' media="',a,'"')}b.push(this.domAttrs_({id:true}));if(c){b.push("/>")}else{b.push(">");if(a=this._content){b.push(a)}b.push("</style>")}b.push("</div>")};
;zkmld(zk._p.p.Style,zk._m);zul.utl.Iframe=zk.$extends(zul.Widget,{_scrolling:"auto",$define:{src:function(a){var b=this.$n();if(b){b.src=a||""}},scrolling:function(a){if(!a){this._scrolling=a="auto"}var b=this.$n();if(b){if(zk.ie||zk.safari){this.rerender()}else{b.scrolling=a}}},align:function(a){var b=this.$n();if(b){b.align=a||""}},name:function(a){var b=this.$n();if(b){b.name=a||""}},autohide:function(a){var b=this.$n();if(b){jq(b).attr("z_autohide",a)}}},bind_:function(d,c,b){this.$supers(zul.utl.Iframe,"bind_",arguments);if(this._src){var a=this;b.push(function(){a.$n().src=a._src})}},domAttrs_:function(c){var a=this.$supers("domAttrs_",arguments)+' src="'+zjq.src0+'" frameborder="0"',b=this._scrolling;if("auto"!=b){a+=' scrolling="'+("true"==b?"yes":"false"==b?"no":b)+'"'}if(b=this._align){a+=' align="'+b+'"'}if(b=this._name){a+=' name="'+b+'"'}if(b=this._autohide){a+=' z_autohide="'+b+'"'}return a}});
zkreg('zul.utl.Iframe');zk._m={};
zk._m['default']=function(a){a.push("<iframe",this.domAttrs_(),">","</iframe>")};
;zkmld(zk._p.p.Iframe,zk._m);
}finally{zk.setLoaded(zk._p.n);}});zk.setLoaded('zul.utl',1);
zk.load('zul',function(){if(zk._p=zkpi('zul.layout'))try{
(function(){var c={north:function(f,e,g,d){f.w=g-f.w;e.y=f.ts;e.h-=f.ts},south:function(f,e,g,d){f.w=g-f.w;f.y=d-f.y;e.h-=f.ts},east:function(e,d,f){e.y+=d.y;e.h=d.h-e.h;e.x=f-e.x;d.w-=e.ts},west:function(e,d){e.y+=d.y;e.h=d.h-e.h;d.x+=e.ts;d.w-=e.ts}};function b(h,k,e){if(!h){return 0}var j=h.$n("real"),f=k?"offsetWidth":"offsetHeight",d=j[f];if(e){var i=h.$n("colled"),g=h.$n("split");if(i){d+=i[f]}if(g){d+=g[f]}}return d}var a=zul.layout.Borderlayout=zk.$extends(zul.Widget,{_ignoreOffsetTop:zk.ie<8,setResize:function(){this.resize()},onChildAdded_:function(e){this.$supers("onChildAdded_",arguments);var d=zul.layout.Borderlayout;if(e.getPosition()==d.NORTH){this.north=e}else{if(e.getPosition()==d.SOUTH){this.south=e}else{if(e.getPosition()==d.CENTER){this.center=e}else{if(e.getPosition()==d.WEST){this.west=e}else{if(e.getPosition()==d.EAST){this.east=e}}}}}this.resize()},onChildRemoved_:function(d){this.$supers("onChildRemoved_",arguments);if(d==this.north){this.north=null}else{if(d==this.south){this.south=null}else{if(d==this.center){this.center=null}else{if(d==this.west){this.west=null}else{if(d==this.east){this.east=null}}}}}if(!this.childReplacing_){this.resize()}},bind_:function(){this.$supers(a,"bind_",arguments);zWatch.listen({onSize:this})},unbind_:function(){zWatch.unlisten({onSize:this});this.$supers(a,"unbind_",arguments)},beforeMinFlex_:function(i){var g=this.east,e=this.west,h=this.north,f=this.south,d=this.center;return i=="w"?Math.max(b(h,true),b(f,true),b(g,true,true)+b(e,true,true)+b(d,true)):b(h,false,true)+b(f,false,true)+Math.max(b(g),b(e),b(d))},afterChildrenFlex_:function(){if(this._isOnSize){this._resize(true)}},resize:function(){if(this.desktop){this._resize()}},_resize:function(m){this._isOnSize=m;if(!this.isRealVisible()){return}var h=["north","south","west","east"],i=h.length;for(var n,l=0;l<i;++l){n=this[h[l]];if(n&&zk(n.$n()).isVisible()&&((n._nvflex&&n._vflexsz===undefined)||(n._nhflex&&n._hflexsz===undefined))){return}}var f=this.$n(),e=f.offsetWidth,q=f.offsetHeight,d={x:0,y:0,w:e,h:q};if(zk.opera&&!q&&(!f.style.height||f.style.height=="100%")){var o=f.parentNode;d.h=q=zk(o).revisedHeight(o.offsetHeight)}for(var n,p,g,l=0;l<i;++l){n=this[h[l]];if(n&&zk(n.$n()).isVisible()){p=n._ambit();c[h[l]](p,d,e,q);this._resizeWgt(n,p)}}if(this.center&&zk(this.center.$n()).isVisible()){var r=this.center.getCurrentMargins_();d.x+=r.left;d.y+=r.top;d.w-=r.left+r.right;d.h-=r.top+r.bottom;this._resizeWgt(this.center,d)}this._isOnSize=false},_resizeWgt:function(g,d,h){if(g._open){if(!h&&g.$n("split")){g._fixSplit();d=g._reszSplt(d)}zk.copy(g.$n("real").style,{left:jq.px(d.x),top:jq.px(d.y)});this._resizeBody(g,d)}else{g.$n("split").style.display="none";var e=g.$n("colled");if(e){var f=zk(e);zk.copy(e.style,{left:jq.px(d.x),top:jq.px(d.y),width:jq.px0(f.revisedWidth(d.w)),height:jq.px0(f.revisedHeight(d.h))})}}},_resizeBody:function(i,d){d.w=Math.max(0,d.w);d.h=Math.max(0,d.h);var g=i.$n("real"),h=i.isFlex()&&i.getFirstChild(),f=h?i.getFirstChild().$n():i.$n("cave");if(!this._ignoreResize(g,d.w,d.h)){d.w=zk(g).revisedWidth(d.w);g.style.width=jq.px0(d.w);d.w=zk(f).revisedWidth(d.w);f.style.width=jq.px0(d.w);d.h=zk(g).revisedHeight(d.h);g.style.height=jq.px0(d.h);if(i.$n("cap")){d.h=Math.max(0,d.h-i.$n("cap").offsetHeight)}if(h){var e;if(e=i.$n("cave")){e.style.height=jq.px0(d.h)}}d.h=zk(f).revisedHeight(d.h);f.style.height=jq.px0(d.h);if(i.isAutoscroll()){f.style.overflow="auto";f.style.position="relative"}else{f.style.overflow="hidden";f.style.position=""}if(!this._isOnSize){zUtl.fireSized(i)}}},_ignoreResize:function(f,d,e){if(f._lastSize&&f._lastSize.width==d&&f._lastSize.height==e){return true}else{f._lastSize={width:d,height:e};return false}},onSize:function(){this._resize(true)}},{NORTH:"north",SOUTH:"south",EAST:"east",WEST:"west",CENTER:"center"})})();
zkreg('zul.layout.Borderlayout');zk._m={};
zk._m['default']=function(b){b.push("<div",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div>")};
;zkmld(zk._p.p.Borderlayout,zk._m);(function(){function a(e,c,b){var d=e.getFirstChild();if(d){if(c){e._fcvflex=d.getVflex();e._fchflex=d.getHflex();if(!b||d._vflex!="min"){d.setVflex(true)}if(!b||d._hflex!="min"){d.setHflex(true)}}else{d.setVflex(e._fcvflex);d.setHflex(e._fchflex);delete e._fcvflex;delete e._fchflex}}}zul.layout.LayoutRegion=zk.$extends(zul.Widget,{_open:true,_border:"normal",_maxsize:2000,_minsize:0,$init:function(){this.$supers("$init",arguments);this._margins=[0,0,0,0];this._cmargins=[3,3,3,3]},$define:{flex:function(b){a(this,b);this.rerender()},border:function(b){if(!b||"0"==b){this._border=b="none"}if(this.desktop){(this.$n("real")||{})._lastSize=null}this.updateDomClass_()},title:function(){this.rerender()},splittable:function(b){if(this.parent&&this.desktop){this.parent.resize()}},maxsize:null,minsize:null,collapsible:function(c){var b=this.$n(this._open?"btn":"btned");if(b){b.style.display=c?"":"none"}},autoscroll:function(c){var d=this.$n("cave");if(d){var b=this.isFlex()&&this.getFirstChild()?this.getFirstChild().$n():d;if(c){b.style.overflow="auto";b.style.position="relative";this.domListen_(b,"onScroll")}else{b.style.overflow="hidden";b.style.position="";this.domUnlisten_(b,"onScroll")}}},open:function(e,d,b){if(!this.$n()||!this.isCollapsible()||!this.parent){return}b=this.parent._animationDisabled||b;var c=this.$n("colled"),g=this.$n("real");if(e){if(d){if(!zk(this.$n()).isRealVisible()){if(c){jq(g).show();jq(c).hide()}return}var f=this.$n("real").style;f.visibility="hidden";f.display="";this._syncSize(true);f.visibility="";f.display="none";this._open=true}if(c){if(!b){zk(c).slideOut(this,{anchor:this.sanchor,duration:200,afterAnima:d?this.$class.afterSlideOut:this.$class._afterSlideOutX})}else{jq(g).show();jq(c).hide();zUtl.fireShown(this)}}}else{if(c&&!b){zk(g).slideOut(this,{anchor:this.sanchor,beforeAnima:this.$class.beforeSlideOut,afterAnima:d?this.$class.afterSlideOut:this.$class._afterSlideOutX})}else{if(c){jq(c).show()}jq(g).hide()}}if(b){this.parent.resize()}if(!d&&b){this.fire("onOpen",{open:e})}}},setVflex:function(b){if(b!="min"){b=false}this.$super(zul.layout.LayoutRegion,"setVflex",b)},setHflex:function(b){if(b!="min"){b=false}this.$super(zul.layout.LayoutRegion,"setHflex",b)},getChildMinSize_:function(c,b){return(c=="h"&&this.$n("cap")?this.$n("cap").offsetHeight:0)+this.$supers("getChildMinSize_",arguments)},getCmargins:function(){return zUtl.intsToString(this._open?this._margins:this._cmargins)},setCmargins:function(b){if(this.getCmargins()!=b){this._cmargins=zUtl.stringToInts(b,0);if(this.parent&&this.desktop){this.parent.resize()}}},getCurrentMargins_:function(){return zul.layout.LayoutRegion._aryToObject(this._open?this._margins:this._cmargins)},getMargins:function(){return zUtl.intsToString(this._margins)},setMargins:function(b){if(this.getMargins()!=b){this._margins=zUtl.stringToInts(b,0);if(this.parent&&this.desktop){this.parent.resize()}}},domClass_:function(d){var c=this.$supers("domClass_",arguments);if(!d||!d.zclass){var b="normal"==this.getBorder()?"":this.getZclass()+"-noborder";if(b){c+=(c?" ":"")+b}}return c},getZclass:function(){return this._zclass==null?"z-"+this.getPosition():this._zclass},getMarginSize_:function(b){return zk(this.$n("real")).sumStyles(b=="h"?"tb":"lr",jq.margins)},setWidth:function(b){this._width=b;var c=this.$n("real");if(c){c.style.width=b?b:"";c._lastSize=null;this.parent.resize()}return this},setHeight:function(b){this._height=b;var c=this.$n("real");if(c){c.style.height=b?b:"";c._lastSize=null;this.parent.resize()}return this},setVisible:function(c){if(this._visible!=c){this.$supers("setVisible",arguments);var d=this.$n("real");var b=this.$n("colled");if(d){if(this._visible){if(this._open){jq(d).show();if(b){jq(b).hide()}}else{jq(d).hide();if(b){jq(b).show()}}}else{jq(d).hide();if(b){jq(b).hide()}}this.parent.resize()}}return this},setFlexSize_:function(d){var f=this.$n("real");if(d.height!==undefined){if(d.height=="auto"){f.style.height=""}else{if(d.height==""){f.style.height=this._height?this._height:""}else{var e=this.$n("cave"),c=e&&this._vflex!="min"?(e.offsetHeight+e.offsetTop):zk(f).revisedHeight(d.height,true);if(zk.ie){f.style.height=""}f.style.height=jq.px0(c)}}}if(d.width!==undefined){if(d.width=="auto"){f.style.width=""}else{if(d.width==""){f.style.width=this._width?this._width:""}else{var b=zk(f).revisedWidth(d.width,true);if(zk.ie){f.style.width=""}f.style.width=jq.px0(b)}}}return{height:f.offsetHeight,width:f.offsetWidth}},updateDomClass_:function(){if(this.desktop){var b=this.$n("real");if(b){b.className=this.domClass_();if(this.parent){this.parent.resize()}}}},updateDomStyle_:function(){if(this.desktop){var b=this.$n("real");if(b){zk(b).clearStyles().jq.css(jq.parseStyle(this.domStyle_()));if(this.parent){this.parent.resize()}}}},onChildAdded_:function(b){this.$supers("onChildAdded_",arguments);if(b.$instanceof(zul.layout.Borderlayout)){this.setFlex(true);jq(this.$n()).addClass(this.getZclass()+"-nested")}if(this.isFlex()){a(this,true,true)}(this.$n("real")||{})._lastSize=null;if(this.parent&&this.desktop){this.parent.resize()}},onChildRemoved_:function(b){this.$supers("onChildRemoved_",arguments);if(this.isFlex()){a(this,false)}if(b.$instanceof(zul.layout.Borderlayout)){this.setFlex(false);jq(this.$n()).removeClass(this.getZclass()+"-nested")}(this.$n("real")||{})._lastSize=null;if(this.parent&&this.desktop&&!this.childReplacing_){this.parent.resize()}},rerender:function(){this.$supers("rerender",arguments);if(this.parent){this.parent.resize()}return this},bind_:function(){this.$supers(zul.layout.LayoutRegion,"bind_",arguments);if(this.getPosition()!=zul.layout.Borderlayout.CENTER){var f=this.$n("split");if(f){this._fixSplit();var d=this._isVertical(),e=this.$class;this._drag=new zk.Draggable(this,f,{constraint:d?"vertical":"horizontal",ghosting:e._ghosting,snap:e._snap,zIndex:12000,overlay:true,initSensitivity:0,ignoredrag:e._ignoredrag,endeffect:e._endeffect});if(!this._open){var c=this.$n("colled"),g=this.$n("real");if(c){jq(c).show()}jq(g).hide()}if(!this._visible){var c=this.$n("colled"),g=this.$n("real");jq(g).hide();if(c){jq(c).hide()}}}}if(this._open&&!this.isVisible()){this.$n().style.display="none"}if(this.isAutoscroll()){var b=this.isFlex()&&this.getFirstChild()?this.getFirstChild().$n():this.$n("cave");this.domListen_(b,"onScroll")}if(this.isFlex()){a(this,true,true)}},unbind_:function(){if(this.isAutoscroll()){var b=this.isFlex()&&this.getFirstChild()?this.getFirstChild().$n():this.$n("cave");this.domUnlisten_(b,"onScroll")}if(this.$n("split")){if(this._drag){this._drag.destroy();this._drag=null}}if(this.isFlex()){a(this,false)}this.$supers(zul.layout.LayoutRegion,"unbind_",arguments)},doMouseOver_:function(b){var c=b.domTarget;if(!c.id){c=c.parentNode}switch(c){case this.$n("btn"):jq(this.$n("btn")).addClass(this.getZclass()+"-colps-over");break;case this.$n("btned"):jq(this.$n("btned")).addClass(this.getZclass()+"-exp-over");case this.$n("colled"):jq(this.$n("colled")).addClass(this.getZclass()+"-colpsd-over");break;case this.$n("splitbtn"):jq(this.$n("splitbtn")).addClass(this.getZclass()+"-splt-btn-over");break}this.$supers("doMouseOver_",arguments)},doMouseOut_:function(b){var c=b.domTarget;if(!c.id){c=c.parentNode}switch(c){case this.$n("btn"):jq(this.$n("btn")).removeClass(this.getZclass()+"-colps-over");break;case this.$n("btned"):jq(this.$n("btned")).removeClass(this.getZclass()+"-exp-over");case this.$n("colled"):jq(this.$n("colled")).removeClass(this.getZclass()+"-colpsd-over");break;case this.$n("splitbtn"):jq(this.$n("splitbtn")).removeClass(this.getZclass()+"-splt-btn-over");break}this.$supers("doMouseOut_",arguments)},doClick_:function(b){var d=b.domTarget;if(!d.id){d=d.parentNode}switch(d){case this.$n("btn"):case this.$n("btned"):case this.$n("splitbtn"):if(this._isSlide||zk.animating()){return}if(this.$n("btned")==d){var c=this.$n("real").style;c.visibility="hidden";c.display="";this._syncSize(true);c.visibility="";c.display="none"}this.setOpen(!this._open);break;case this.$n("colled"):if(this._isSlide){return}this._isSlide=true;var e=this.$n("real"),c=e.style;c.visibility="hidden";c.display="";this._syncSize();this._original=[c.left,c.top];this._alignTo();c.zIndex=100;if(this.$n("btn")){this.$n("btn").style.display="none"}c.visibility="";c.display="none";zk(e).slideDown(this,{anchor:this.sanchor,afterAnima:this.$class.afterSlideDown});break}this.$supers("doClick_",arguments)},_docClick:function(c){var d=c.target;if(this._isSlide&&!jq.isAncestor(this.$n("real"),d)){var b=this.$n("btned");if(b==d||b==d.parentNode){this.$class.afterSlideUp.apply(this,[d]);this.setOpen(true,false,true);this.$n("real").style.zIndex=""}else{if((!this._isSlideUp&&this.$class.uuid(d)!=this.uuid)||!zk.animating()){this._isSlideUp=true;zk(this.$n("real")).slideUp(this,{anchor:this.sanchor,afterAnima:this.$class.afterSlideUp})}}}},_syncSize:function(o){var l=this.parent,d=l.$n(),c=d.offsetWidth,q=d.offsetHeight,b={x:0,y:0,w:c,h:q};this._open=true;for(var n,p,g,f=["north","south","west","east"],i=0,e=f.length;i<e;++i){n=l[f[i]];if(n&&(zk(n.$n()).isVisible()||zk(n.$n("colled")).isVisible())){var m=n==this,p=n._ambit(m),r=this.$class;switch(f[i]){case"north":case"south":p.w=c-p.w;if(f[i]=="north"){b.y=p.ts}else{p.y=q-p.y}b.h-=p.ts;if(m){p.w=this.$n("colled").offsetWidth;if(o){var h=r._aryToObject(this._cmargins);p.w+=h.left+h.right}l._resizeWgt(n,p,true);this._open=false;return}break;default:p.y+=b.y;p.h=b.h-p.h;if(f[i]=="east"){p.x=c-p.x}else{b.x+=p.ts}b.w-=p.ts;if(m){p.h=this.$n("colled").offsetHeight;if(o){var h=r._aryToObject(this._cmargins);p.h+=h.top+h.bottom}l._resizeWgt(n,p,true);this._open=false;return}break}}}},_alignTo:function(){var d=this.$n("colled"),c=this.$n("real"),b=zul.layout.Borderlayout;switch(this.getPosition()){case b.NORTH:c.style.top=jq.px(d.offsetTop+d.offsetHeight);c.style.left=jq.px(d.offsetLeft);break;case b.SOUTH:c.style.top=jq.px(d.offsetTop-c.offsetHeight);c.style.left=jq.px(d.offsetLeft);break;case b.WEST:c.style.left=jq.px(d.offsetLeft+d.offsetWidth);c.style.top=jq.px(d.offsetTop);break;case b.EAST:c.style.left=jq.px(d.offsetLeft-c.offsetWidth);c.style.top=jq.px(d.offsetTop);break}},_doScroll:function(){zWatch.fireDown("onScroll",this)},_fixSplit:function(){jq(this.$n("split"))[this._splittable?"show":"hide"]()},_isVertical:function(){var b=zul.layout.Borderlayout;return this.getPosition()!=b.WEST&&this.getPosition()!=b.EAST},_ambit:function(g){var k,l=this.getCurrentMargins_(),i=this.getPosition();if(i&&!this._open){var e=this.$n("colled");k={x:l.left,y:l.top,w:e?e.offsetWidth:0,h:e?e.offsetHeight:0};g=true}else{var c=this.parent.$n(),j=this.getWidth()||"",d=this.getHeight()||"",b;k={x:l.left,y:l.top,w:(b=j.indexOf("%"))>0?Math.max(Math.floor(c.offsetWidth*zk.parseInt(j.substring(0,b))/100),0):this.$n("real").offsetWidth,h:(b=d.indexOf("%"))>0?Math.max(Math.floor(c.offsetHeight*zk.parseInt(d.substring(0,b))/100),0):this.$n("real").offsetHeight};if(zk.ie==9&&(i=="west"||i=="east")&&!this._width&&!this._hflex){k.w++}}var f=g?{offsetHeight:0,offsetWidth:0}:this.$n("split")||{offsetHeight:0,offsetWidth:0};if(!g){this._fixSplit()}this._ambit2(k,l,f);return k},_ambit2:zk.$void,setBtnPos_:function(d,c){var b=this.$n("splitbtn");if(c){b.style.marginLeft=jq.px0(((d.w-b.offsetWidth)/2))}else{b.style.marginTop=jq.px0(((d.h-b.offsetHeight)/2))}},_reszSplt:function(c){var d=this.$n("split"),b=this.$n("splitbtn");if(zk(d).isVisible()){if(zk(b).isVisible()){this.setBtnPos_(c,this._isVertical())}zk.copy(d.style,this._reszSp2(c,{w:d.offsetWidth,h:d.offsetHeight}))}return c},_reszSp2:zk.$void,titleRenderer_:function(b){if(this._title){var c=this.uuid,e=this.getZclass(),d=this.getPosition()!=zul.layout.Borderlayout.CENTER,f=this.parent.getZclass();b.push('<div id="',c,'-cap" class="',e,'-header">');if(d){b.push('<div id="',c,'-btn" class="',f,"-icon ",e,'-colps"');if(!this._collapsible){b.push(' style="display:none;"')}b.push('><div class="',f,'-icon-img"></div></div>')}b.push(zUtl.encodeXML(this._title),"</div>")}},getFirstChild:function(){return this.firstChild}},{_aryToObject:function(b){return{top:b[0],left:b[1],right:b[2],bottom:b[3]}},beforeSlideOut:function(c){var b=this.$n("colled").style;b.display="";b.visibility="hidden";b.zIndex=1;this.parent.resize()},_afterSlideOutX:function(b){this.$class.afterSlideOut.call(this,b,true)},afterSlideOut:function(e,b){if(this._open){zk(this.$n("real")).slideIn(this,{anchor:this.sanchor,afterAnima:b?this.$class._afterSlideInX:this.$class.afterSlideIn})}else{var c=this.$n("colled"),d=c.style;d.zIndex="";d.visibility="";zk(c).slideIn(this,{anchor:this.sanchor,duration:200,afterAnima:b?function(f){this.fire("onOpen",{open:this._open})}:zk.$void})}},_afterSlideInX:function(b){this.$class.afterSlideIn.call(this,b);this.fire("onOpen",{open:this._open})},afterSlideIn:function(b){this.parent.resize()},afterSlideDown:function(b){jq(document).click(this.proxy(this._docClick))},afterSlideUp:function(c){var b=c.style;b.left=this._original[0];b.top=this._original[1];c._lastSize=null;b.zIndex="";if(this.$n("btn")){this.$n("btn").style.display=""}jq(document).unbind("click",this.proxy(this._docClick));this._isSlideUp=this._isSlide=false},_ignoredrag:function(v,q,m){var w=m.domTarget,j=v.control;if(!w||w!=j.$n("split")){return true}if(j.isSplittable()&&j._open){var u=zul.layout.Borderlayout,e=j.getPosition(),d=j.getMaxsize(),f=j.getMinsize(),k=j.parent,n=j.$n("real"),b=zul.layout.LayoutRegion._aryToObject(j._margins),t=zk(n).padBorderWidth(),g=t+(e==u.WEST?b.left:b.right),i=t+(e==u.NORTH?b.top:b.bottom),p=0,s=j.uuid;switch(e){case u.NORTH:case u.SOUTH:var l=k.center||(e==u.NORTH?k.south:k.north);if(l){if(u.CENTER==l.getPosition()){var h=k.east,c=k.west;d=Math.min(d,(n.offsetHeight+l.$n("real").offsetHeight)-p)}else{d=Math.min(d,k.$n().offsetHeight-l.$n("real").offsetHeight-l.$n("split").offsetHeight-j.$n("split").offsetHeight-p)}}else{d=k.$n().offsetHeight-j.$n("split").offsetHeight}break;case u.WEST:case u.EAST:var l=k.center||(e==u.WEST?k.east:k.west);if(l){if(u.CENTER==l.getPosition()){d=Math.min(d,(n.offsetWidth+zk(l.$n("real")).revisedWidth(l.$n("real").offsetWidth))-p)}else{d=Math.min(d,k.$n().offsetWidth-l.$n("real").offsetWidth-l.$n("split").offsetWidth-j.$n("split").offsetWidth-p)}}else{d=k.$n().offsetWidth-j.$n("split").offsetWidth}break}var o=zk(n).cmOffset();v._rootoffs={maxs:d,mins:f,top:o[1]+i,left:o[0]+g,right:n.offsetWidth,bottom:n.offsetHeight};return false}return true},_endeffect:function(d,b){var e=d.control,c="";if(e._isVertical()){e.setHeight(d._point[1]+"px")}else{e.setWidth(d._point[0]+"px")}e.$n().style.zIndex="";d._rootoffs=d._point=null;e.parent.resize();e.fire("onSize",zk.copy({width:e.$n("real").style.width,height:e.$n("real").style.height},b.data))},_snap:function(g,c){var m=g.control,k=c[0],f=c[1],i=zul.layout.Borderlayout,e=m.$n("split"),j=g._rootoffs,l,d;switch(m.getPosition()){case i.NORTH:if(f>j.maxs+j.top){f=j.maxs+j.top}if(f<j.mins+j.top){f=j.mins+j.top}l=k;d=f-j.top;break;case i.SOUTH:if(j.top+j.bottom-f-e.offsetHeight>j.maxs){f=j.top+j.bottom-j.maxs-e.offsetHeight;d=j.maxs}else{if(j.top+j.bottom-j.mins-e.offsetHeight<=f){f=j.top+j.bottom-j.mins-e.offsetHeight;d=j.mins}else{d=j.top-f+j.bottom-e.offsetHeight}}l=k;break;case i.WEST:if(k>j.maxs+j.left){k=j.maxs+j.left}if(k<j.mins+j.left){k=j.mins+j.left}l=k-j.left;d=f;break;case i.EAST:if(j.left+j.right-k-e.offsetWidth>j.maxs){k=j.left+j.right-j.maxs-e.offsetWidth;l=j.maxs}else{if(j.left+j.right-j.mins-e.offsetWidth<=k){k=j.left+j.right-j.mins-e.offsetWidth;l=j.mins}else{l=j.left-k+j.right-e.offsetWidth}}d=f;break}g._point=[l,d];return[k,f]},_ghosting:function(f,e,b){var d=f.node,c=zk(d);jq(document.body).prepend('<div id="zk_layoutghost" style="font-size:0;line-height:0;background:#AAA;position:absolute;top:'+e[1]+"px;left:"+e[0]+"px;width:"+c.offsetWidth()+"px;height:"+c.offsetHeight()+"px;cursor:"+d.style.cursor+';"></div>');return jq("#zk_layoutghost")[0]}})})();
zkreg('zul.layout.LayoutRegion');zk._m={};
zk._m['default']=function(a){var b=this.uuid,e=this.getZclass(),c=this.getPosition()!=zul.layout.Borderlayout.CENTER,f=this.parent.getZclass();a.push('<div id="',b,'">','<div id="',b,'-real"',this.domAttrs_({id:1}),">");this.titleRenderer_(a);a.push('<div id="',b,'-cave" class="',e,'-body">');var d=this.getFirstChild();if(d){d.redraw(a)}a.push("</div></div>");if(c){a.push('<div id="',b,'-split" class="',e,'-splt"><span id="',b,'-splitbtn" class="',e,'-splt-btn"');if(!this._collapsible){a.push(' style="display:none;"')}a.push("></span></div>",'<div id="',b,'-colled" class="',e,'-colpsd" style="display:none"><div id="',b,'-btned" class="',f,"-icon ",e,'-exp"');if(!this._collapsible){a.push(' style="display:none;"')}a.push('><div class="',f,'-icon-img"></div></div></div>')}a.push("</div>")};
;zkmld(zk._p.p.LayoutRegion,zk._m);zul.layout.North=zk.$extends(_zkf=zul.layout.LayoutRegion,{_sumFlexHeight:true,setWidth:zk.$void,sanchor:"t",$init:function(){this.$supers("$init",arguments);this._cmargins=[3,0,0,3]},getPosition:function(){return zul.layout.Borderlayout.NORTH},getSize:_zkf.prototype.getHeight,setSize:_zkf.prototype.setHeight,_ambit2:function(a,b,c){a.w=b.left+b.right;a.h+=c.offsetHeight;a.ts=a.y+a.h+b.bottom},_reszSp2:function(a,b){a.h-=b.h;return{left:jq.px0(a.x),top:jq.px0(a.y+a.h),width:jq.px0(a.w)}}});
zkreg('zul.layout.North');zul.layout.South=zk.$extends(_zkf=zul.layout.LayoutRegion,{_sumFlexHeight:true,setWidth:zk.$void,sanchor:"b",$init:function(){this.$supers("$init",arguments);this._cmargins=[3,0,0,3]},getPosition:function(){return zul.layout.Borderlayout.SOUTH},getSize:_zkf.prototype.getHeight,setSize:_zkf.prototype.setHeight,_ambit2:function(a,b,c){a.w=b.left+b.right;a.h+=c.offsetHeight;a.ts=a.y+a.h+b.bottom;a.y=a.h+b.bottom},_reszSp2:function(a,b){a.h-=b.h;a.y+=b.h;return{left:jq.px0(a.x),top:jq.px0(a.y-b.h),width:jq.px0(a.w)}}});
zkreg('zul.layout.South');zul.layout.Center=zk.$extends(zul.layout.LayoutRegion,{_sumFlexWidth:true,_maxFlexHeight:true,setHeight:zk.$void,setWidth:zk.$void,setVisible:zk.$void,getSize:zk.$void,setSize:zk.$void,setCmargins:zk.$void,setSplittable:zk.$void,setOpen:zk.$void,setCollapsible:zk.$void,setMaxsize:zk.$void,setMinsize:zk.$void,doMouseOver_:zk.$void,doMouseOut_:zk.$void,doClick_:zk.$void,getPosition:function(){return zul.layout.Borderlayout.CENTER}});
zkreg('zul.layout.Center');zul.layout.East=zk.$extends(_zkf=zul.layout.LayoutRegion,{_sumFlexWidth:true,_maxFlexHeight:true,setHeight:zk.$void,sanchor:"r",$init:function(){this.$supers("$init",arguments);this._cmargins=[0,3,3,0]},getPosition:function(){return zul.layout.Borderlayout.EAST},getSize:_zkf.prototype.getWidth,setSize:_zkf.prototype.setWidth,_ambit2:function(a,b,c){a.w+=c.offsetWidth;a.h=b.top+b.bottom;a.ts=a.x+a.w+b.right;a.x=a.w+b.right},_reszSp2:function(a,b){a.w-=b.w;a.x+=b.w;return{left:jq.px0(a.x-b.w),top:jq.px0(a.y),height:jq.px0(a.h)}}});
zkreg('zul.layout.East');zul.layout.West=zk.$extends(_zkf=zul.layout.LayoutRegion,{_sumFlexWidth:true,_maxFlexHeight:true,setHeight:zk.$void,sanchor:"l",$init:function(){this.$supers("$init",arguments);this._cmargins=[0,3,3,0]},getPosition:function(){return zul.layout.Borderlayout.WEST},getSize:_zkf.prototype.getWidth,setSize:_zkf.prototype.setWidth,_ambit2:function(a,b,c){a.w+=c.offsetWidth;a.h=b.top+b.bottom;a.ts=a.x+a.w+b.right},_reszSp2:function(a,b){a.w-=b.w;return{left:jq.px0(a.x+a.w),top:jq.px0(a.y),height:jq.px0(a.h)}}});
zkreg('zul.layout.West');zul.layout.Absolutelayout=zk.$extends(zul.Widget,{},{redraw:function(b){b.push("<div ",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div>")}});
zkreg('zul.layout.Absolutelayout');zk._m={};
zk._m['default']=zul.layout.Absolutelayout.redraw;
;zkmld(zk._p.p.Absolutelayout,zk._m);zul.layout.Absolutechildren=zk.$extends(zul.Widget,{_x:0,_y:0,$define:{x:function(){if(this.desktop){this._rePositionX()}},y:function(){if(this.desktop){this._rePositionY()}}},_rePositionBoth:function(){this._rePositionX();this._rePositionY()},_rePositionX:function(){jq(this.$n()).css("left",this._x)},_rePositionY:function(){jq(this.$n()).css("top",this._y)},bind_:function(){this.$supers(zul.layout.Absolutechildren,"bind_",arguments);this._rePositionBoth()}});
zkreg('zul.layout.Absolutechildren');zk._m={};
zk._m['default']=zul.layout.Absolutelayout.redraw;
;zkmld(zk._p.p.Absolutechildren,zk._m);zul.layout.Anchorlayout=zk.$extends(zul.Widget,{onSize:function(){if(this.isRealVisible()&&this.nChildren){var c=this.$n(),e,b;if((e=this.$n("cave"))&&zk.ie6_){e.style.width="0px"}b=zk(c).revisedWidth(c.offsetWidth);e.style.width=jq.px0(b);if(c.style.height){if(zk.ie6_){e.style.height="0px"}e.style.height=zk(c).revisedHeight(c.offsetHeight,true)+"px"}for(var d=this.firstChild;d;d=d.nextSibling){var a=d.getWidth();if(a&&a.endsWith("px")){b-=(zk.parseInt(a)+zk(d).padBorderWidth())}}b=Math.max(0,b);for(var d=this.firstChild;d;d=d.nextSibling){var a=d.getWidth();if(a&&a.endsWith("%")){d.$n().style.width=(b?Math.max(0,Math.floor(zk.parseInt(a)/100*b)-zk(d).padBorderWidth()):0)+"px"}}}},setHeight:function(){this.$supers("setHeight",arguments);if(this.desktop){zUtl.fireSized(this)}},setWidth:function(a){this.$supers("setWidth",arguments);if(this.desktop){zUtl.fireSized(this)}},bind_:function(){this.$supers(zul.layout.Anchorlayout,"bind_",arguments);zWatch.listen({onSize:this})},unbind_:function(){zWatch.unlisten({onSize:this});this.$supers(zul.layout.Anchorlayout,"unbind_",arguments)}});
zkreg('zul.layout.Anchorlayout');zk._m={};
zk._m['default']=function(b){var c=this.getZclass();b.push("<div",this.domAttrs_(),">",'<div id="',this.uuid,'-cave"','class="',c,'-body">');for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div>","</div>")};
;zkmld(zk._p.p.Anchorlayout,zk._m);zul.layout.Anchorchildren=zk.$extends(zul.Widget,{_anchor:null,$define:{anchor:function(){if(this.desktop){this.onSize()}}},bind_:function(){this.$supers(zul.layout.Anchorchildren,"bind_",arguments);zWatch.listen({onSize:this})},unbind_:function(){zWatch.unlisten({onSize:this});this.$supers(zul.layout.Anchorchildren,"unbind_",arguments)},onSize:function(){if(!this.isRealVisible()){return}var g=this.$n(),d=this.parent.$n(),f=jq(d).width(),c=jq(d).height(),a=this._anchor?this._anchor.split(" ",2):[],b=a[0],e=a[1];if(b){if(b.indexOf("%")>0){g.style.width=jq.px0(Math.floor(f*zk.parseInt(b)/100))}else{g.style.width=jq.px0(f+zk.parseInt(b))}}if(e){if(e.indexOf("%")>0){g.style.height=jq.px0(Math.floor(c*zk.parseInt(e)/100))}else{g.style.height=jq.px0(c+zk.parseInt(e))}}}});
zkreg('zul.layout.Anchorchildren');zk._m={};
zk._m['default']=function(b){var c=this.getZclass();b.push("<div",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div>")};
;zkmld(zk._p.p.Anchorchildren,zk._m);
}finally{zk.setLoaded(zk._p.n);}});zk.setLoaded('zul.layout',1);
zk.load('zul.wgt',function(){if(zk._p=zkpi('zul.wnd'))try{
(function(){var f=[],q;function e(B){if(!B._lastSize){return}var y=B.$n(),v=zk(y),z=B._mode!="embedded",A=z?jq(y).offsetParent():jq(y).parent(),x=y.style;var u=zk.ie6_&&A[0].clientWidth==0?A[0].offsetWidth-A.zk.borderWidth():A[0].clientWidth,w=zk.ie6_&&A[0].clientHeight==0?A[0].offsetHeight-A.zk.borderHeight():A[0].clientHeight;if(!z){u-=A.zk.paddingWidth();u=v.revisedWidth(u);w-=A.zk.paddingHeight();w=v.revisedHeight(w)}x.width=jq.px0(u);x.height=jq.px0(w)}function a(v){var u=v.node;if(u.style.top&&u.style.top.indexOf("%")>=0){u.style.top=u.offsetTop+"px"}if(u.style.left&&u.style.left.indexOf("%")>=0){u.style.left=u.offsetLeft+"px"}zWatch.fire("onFloatUp",v.control)}function o(B,A,E){var v=B.control,u=B.node;p(v);var F=jq(u),x=F.find(">div:first"),C=x[0],z=x.nextAll("div:first")[0],w=jq(C).clone()[0],D=jq(z).clone()[0];jq(document.body).prepend('<div id="zk_wndghost" class="'+v.getZclass()+'-move-ghost" style="position:absolute;top:'+A[1]+"px;left:"+A[0]+"px;width:"+F.zk.offsetWidth()+"px;height:"+F.zk.offsetHeight()+"px;z-index:"+u.style.zIndex+'"><dl></dl></div>');B._wndoffs=A;u.style.visibility="hidden";var y=u.offsetHeight-C.offsetHeight-z.offsetHeight;u=jq("#zk_wndghost")[0];u.firstChild.style.height=jq.px0(zk(u.firstChild).revisedHeight(y));u.insertBefore(w,u.firstChild);u.insertBefore(D,u.lastChild);return u}function t(w,u){var v=w.node;u.style.top=jq.px(u.offsetTop+v.offsetTop-w._wndoffs[1]);u.style.left=jq.px(u.offsetLeft+v.offsetLeft-w._wndoffs[0]);document.body.style.cursor=""}function g(y,A,v){var w=y.node,z=y.control,u=v.domTarget,x;if(!u.id){u=u.parentNode}switch(u){case z.$n("close"):case z.$n("max"):case z.$n("min"):return true}if(z!=(x=zk.Widget.$(u))&&z.caption!=x){return true}if(!z.isSizable()||(w.offsetTop+4<A[1]&&w.offsetLeft+4<A[0]&&w.offsetLeft+w.offsetWidth-4>A[0])){return false}return true}function r(v,u){v.node.style.visibility="";var w=v.control;if(w._position&&w._position!="parent"){w._position=null}w.zsync();w._fireOnMove(u.data)}function m(w){var y=w._position,x=w.$n(),u=zk(x);if(!y&&(!x.style.top||!x.style.left)){var v=u.revisedOffset();x.style.left=jq.px(v[0]);x.style.top=jq.px(v[1])}else{if(y=="parent"){d(w)}}u.makeVParent();zWatch.fireDown("onVParent",this);w.zsync();b(w);w.setTopmost();k(w)}function i(x){var z=x._position,y=x.$n(),v=zk(y);if(z=="parent"){d(x)}v.makeVParent();zWatch.fireDown("onVParent",this);x.zsync();b(x,true,false,true);var w=x.isRealVisible();x.setTopmost();if(!x._mask){var u=x._shadowWgt?x._shadowWgt.getBottomElement():null;x._mask=new zk.eff.FullMask({id:x.uuid+"-mask",anchor:u?u:x.$n(),zIndex:x._zIndex,visible:w})}if(w){c(x)}k(x)}function c(w){zk.currentModal=w;var v=f[0],u=zk.currentFocus;if(v){v._lastfocus=u}else{q=u}f.unshift(w);setTimeout(function(){zk.afterAnimate(function(){if(!zUtl.isAncestor(w,zk.currentFocus)){w.focus()}},-1)})}function l(w){f.$remove(w);if(zk.currentModal==w){var v=zk.currentModal=f[0],u=v?v._lastfocus:q;if(!v){q=null}if(!u||!u.desktop){u=v}if(u){if(w._updDOFocus===false){w._updDOFocus=u}else{u.focus(0)}}}w._lastfocus=null}function d(v){var w=v.$n(),u=zk(zk(w).vparentNode(true)).revisedOffset();v._offset=u;w.style.left=jq.px(u[0]+zk.parseInt(v._left));w.style.top=jq.px(u[1]+zk.parseInt(v._top))}function h(w,u){w._notSendMaximize=!u||!u.sendOnMaximize;w._updDOFocus=false;try{w.rerender(w._skipper);var v;if(v=w._updDOFocus){v.focus(10)}}finally{delete w._updDOFocus;delete w._notSendMaximize}}function b(K,w,H,B){if(!K.desktop||K._mode=="embedded"){return}var x=K.$n(),F=K._position;if(F=="parent"){if(H){d(K)}return}if(!F&&!w){return}var J=x.style;J.position="absolute";var C=J.left,A=J.top;if(F!="nocenter"){zk(x).center(F)}var v=K._shadowWgt;if(F&&v){var u=v.opts,z=x.offsetLeft,I=x.offsetTop;if(F.indexOf("left")>=0&&u.left<0){J.left=jq.px(z-u.left)}else{if(F.indexOf("right")>=0&&u.right>0){J.left=jq.px(z-u.right)}}if(F.indexOf("top")>=0&&u.top<0){J.top=jq.px(I-u.top)}else{if(F.indexOf("bottom")>=0&&u.bottom>0){J.top=jq.px(I-u.bottom)}}}if(B&&!F){var E=zk.parseInt(x.style.top),D=jq.innerY();if(D){var G=E-D;if(G>100){x.style.top=jq.px0(E-(G-100))}}else{if(E>100){x.style.top="100px"}}}K.zsync();if(C!=J.left||A!=J.top){K._fireOnMove()}}function p(u){var v=u._shadowWgt;if(v){v.hide()}}function n(v){if(!v._sizer){v.domListen_(v.$n(),"onMouseMove");v.domListen_(v.$n(),"onMouseOut");var u=v.$class;v._sizer=new zk.Draggable(v,null,{stackup:true,overlay:true,draw:u._drawsizing,snap:u._snapsizing,initSensitivity:0,starteffect:u._startsizing,ghosting:u._ghostsizing,endghosting:u._endghostsizing,ignoredrag:u._ignoresizing,endeffect:u._aftersizing})}}function k(w){var v=w.$n("cap");if(v&&!w._drag){jq(v).addClass(w.getZclass()+"-header-move");var u=w.$class;w._drag=new zk.Draggable(w,null,{handle:v,stackup:true,fireOnMove:false,starteffect:u._startmove,ghosting:u._ghostmove,endghosting:u._endghostmove,ignoredrag:u._ignoremove,endeffect:u._aftermove,zIndex:99999})}}function s(u){return u=="modal"||u=="highlighted"}var j=zul.wnd.Window=zk.$extends(zul.Widget,{_mode:"embedded",_border:"none",_minheight:100,_minwidth:200,_shadow:true,$init:function(){this._fellows={};this.$supers("$init",arguments);this.listen({onMaximize:this,onClose:this,onMove:this,onSize:this.onSizeEvent,onZIndex:this},-1000);this._skipper=new zul.wnd.Skipper(this)},$define:{mode:_zkf=function(){h(this)},title:function(){if(this.caption){this.caption.updateDomContent_()}else{h(this)}},border:_zkf,closable:_zkf,sizable:function(u){if(this.desktop){if(u){n(this)}else{if(this._sizer){this._sizer.destroy();this._sizer=null}}}},maximizable:_zkf,minimizable:_zkf,maximized:function(x,E){var G=this.$n();if(G){var K=zk(G),M=this.isRealVisible();if(!M&&x){return}var H,C,B,J,D=G.style,v=this.getZclass();if(x){jq(this.$n("max")).addClass(v+"-maxd");var u=this._mode!="embedded",z=u?jq(G).offsetParent():jq(G).parent();H=D.left;C=D.top;B=D.width;J=D.height;D.top="-10000px";D.left="-10000px";var F=zk.ie6_&&z[0].clientWidth==0?z[0].offsetWidth-z.zk.borderWidth():z[0].clientWidth,L=zk.ie6_&&z[0].clientHeight==0?z[0].offsetHeight-z.zk.borderHeight():z[0].clientHeight;if(!u){F-=z.zk.paddingWidth();F=K.revisedWidth(F);L-=z.zk.paddingHeight();L=K.revisedHeight(L)}D.width=jq.px0(F);D.height=jq.px0(L);this._lastSize={l:H,t:C,w:B,h:J};D.top="0";D.left="0";B=D.width;J=D.height}else{var I=this.$n("max"),y=jq(I);y.removeClass(v+"-maxd").removeClass(v+"-maxd-over");if(this._lastSize){D.left=this._lastSize.l;D.top=this._lastSize.t;D.width=this._lastSize.w;D.height=this._lastSize.h;this._lastSize=null}H=D.left;C=D.top;B=D.width;J=D.height;var A=this.$n("cave");if(A){A.style.width=A.style.height=""}}if(!E||M){this._visible=true;if(!this._notSendMaximize){this.fire("onMaximize",{left:H,top:C,width:B,height:J,maximized:x,fromServer:E})}}if(M){zUtl.fireSized(this)}}},minimized:function(y,x){if(this._maximized){this.setMaximized(false)}var C=this.$n();if(C){var B=C.style,v=B.left,z=B.top,u=B.width,A=B.height;if(y){zWatch.fireDown("onHide",this);jq(C).hide()}else{jq(C).show();zUtl.fireShown(this)}if(!x){this._visible=false;this.zsync();this.fire("onMinimize",{left:B.left,top:B.top,width:B.width,height:B.height,minimized:y})}}},contentStyle:_zkf,contentSclass:_zkf,position:function(){b(this,false,this._visible)},minheight:null,minwidth:null,shadow:function(){if(this._shadow){this.zsync()}else{if(this._shadowWgt){this._shadowWgt.destroy();this._shadowWgt=null}}}},repos:function(){b(this,false,this._visible)},doOverlapped:function(){this.setMode("overlapped")},doPopup:function(){this.setMode("popup")},doHighlighted:function(){this.setMode("highlighted")},doModal:function(){this.setMode("modal")},doEmbedded:function(){this.setMode("embedded")},afterAnima_:function(u){this.$supers("afterAnima_",arguments);this.zsync()},zsync:function(){this.$supers("zsync",arguments);if(this.desktop){if(this._mode=="embedded"){if(this._shadowWgt){this._shadowWgt.destroy();this._shadowWgt=null}}else{if(this._shadow){if(!this._shadowWgt){this._shadowWgt=new zk.eff.Shadow(this.$n(),{left:-4,right:4,top:-2,bottom:3})}if(this._maximized||this._minimized||!this._visible){p(this)}else{this._shadowWgt.sync()}}}if(this._mask){var u=(this._shadowWgt&&this._shadowWgt.getBottomElement())||this.$n();if(u){this._mask.sync(u)}}}},onClose:function(){if(!this.inServer){this.parent.removeChild(this)}},onMove:function(u){this._left=u.left;this._top=u.top},onMaximize:function(u){var v=u.data;this._top=v.top;this._left=v.left;this._height=v.height;this._width=v.width},onSizeEvent:function(u){var y=u.data,x=this.$n(),w=x.style;p(this);if(y.width!=w.width){w.width=y.width;this._fixWdh()}if(y.height!=w.height){w.height=y.height;this._fixHgh()}if(y.left!=w.left||y.top!=w.top){w.left=y.left;w.top=y.top;this._fireOnMove(u.keys)}this.zsync();var v=this;setTimeout(function(){zUtl.fireSized(v)},zk.ie6_?800:0)},onZIndex:_zkf=function(u){this.zsync()},onResponse:_zkf,onShow:function(v){var u=v.origin;if(this!=u&&this._mode!="embedded"&&this.isRealVisible({until:u,dom:true})){zk(this.$n()).cleanVisibility();this.zsync()}},onHide:function(v){var u=v.origin;if(this!=u&&this._mode!="embedded"&&this.isRealVisible({until:u,dom:true})){this.$n().style.visibility="hidden";this.zsync()}},beforeSize:function(){if(this._maximized){this.$n().style.width=""}},onSize:function(){p(this);if(this._maximized){e(this)}this._fixHgh();this._fixWdh();if(this._mode!="embedded"){b(this)}this.zsync()},onFloatUp:function(u){if(!this._visible||this._mode=="embedded"){return}var w=u.origin;if(this._mode=="popup"){for(var v;w;w=w.parent){if(w==this){if(!v){this.setTopmost()}return}v=v||w.isFloating_()}this.setVisible(false);this.fire("onOpen",{open:false})}else{for(;w;w=w.parent){if(w==this){this.setTopmost();return}if(w.isFloating_()){return}}}},_fixWdh:zk.ie7_?function(){if(this._mode!="embedded"&&this._mode!="popup"&&this.isRealVisible()){var x=this.$n(),D=this.$n("cave").parentNode,z=x.style.width,A=jq(x),B=A.find(">div:first"),E=B[0],v=E&&this.$n("cap")?B.nextAll("div:first")[0]:null,y=A.find(">div:last")[0];if(!z||z=="auto"){var w=zk(D.parentNode),C=w.padBorderWidth()+zk(D.parentNode.parentNode).padBorderWidth();if(E){E.firstChild.style.width=jq.px0(D.offsetWidth+C)}if(v){v.firstChild.firstChild.style.width=jq.px(D.offsetWidth-(zk(v).padBorderWidth()+zk(v.firstChild).padBorderWidth()-C))}if(y){y.firstChild.style.width=jq.px0(D.offsetWidth+C)}}else{if(E){E.firstChild.style.width=""}if(v){v.firstChild.style.width=""}if(y){y.firstChild.style.width=""}if(this._hflex=="min"){zk(x).redoCSS()}}}else{if(zk.ie==7){var A=jq(this.$n()),B=A.find(">div:first"),u=A.find(">div:last");if(B.width()+u.width()){}}}}:zk.$void,_fixHgh:function(){if(this.isRealVisible()){var x=this.$n(),u=x.style.height,w=this.$n("cave"),v=w.style.height;if(u&&u!="auto"){zk(w).setOffsetHeight(this._offsetHeight(x))}else{if(v&&v!="auto"){if(zk.ie6_){w.style.height="0"}w.style.height=""}}}},_offsetHeight:function(y){var v=y.offsetHeight-this._titleHeight(y);if(zul.wnd.WindowRenderer.shallCheckBorder(this)){var x=this.$n("cave"),w=jq(y).find(">div:last")[0],u=this.$n("cap");v-=w.offsetHeight;if(x){v-=zk(x.parentNode).padBorderHeight()}if(u){v-=zk(u.parentNode).padBorderHeight()}}return v-zk(y).padBorderHeight()},_titleHeight:function(x){var w=this.$n("cap"),u=jq(x).find(">div:first"),v=u[0];return w?w.offsetHeight+v.offsetHeight:zul.wnd.WindowRenderer.shallCheckBorder(this)?v.offsetHeight:0},_fireOnMove:function(z){var C=this._position,w=this.$n(),u=zk.parseInt(w.style.left),B=zk.parseInt(w.style.top);if(C=="parent"){var v=zk(w).vparentNode();if(v){var A=zk(v).revisedOffset();u-=A[0];B-=A[1]}}this.fire("onMove",zk.copy({left:u+"px",top:B+"px"},z),{ignorable:true})},setVisible:function(v){if(this._visible!=v){if(this._maximized){this.setMaximized(false)}else{if(this._minimized){this.setMinimized(false)}}var u=s(this._mode);if(v){b(this,u,true,u);if(u&&(!this.parent||this.parent.isRealVisible())){this.setTopmost();c(this)}}else{if(u){l(this)}}this.$supers("setVisible",arguments);if(!v){this.zsync()}}},setHeight:function(u){this.$supers("setHeight",arguments);if(this.desktop){zUtl.fireSized(this)}},setWidth:function(u){this.$supers("setWidth",arguments);if(this.desktop){zUtl.fireSized(this)}},setTop:function(){p(this);this.$supers("setTop",arguments);this.zsync()},setLeft:function(){p(this);this.$supers("setLeft",arguments);this.zsync()},setZIndex:_zkf=function(v){var u=this._zIndex;this.$supers("setZIndex",arguments);if(u!=v){this.zsync()}},setZindex:_zkf,focus_:function(x){var v=this.caption;if(!zk.mobile){for(var u=this.firstChild;u;u=u.nextSibling){if(u!=v&&u.focus_(x)){return true}}}return v&&v.focus_(x)},getZclass:function(){var u=this._zclass;return u!=null?u:"z-window-"+this._mode},onChildAdded_:function(u){this.$supers("onChildAdded_",arguments);if(u.$instanceof(zul.wgt.Caption)){this.caption=u;this.rerender(this._skipper)}},onChildRemoved_:function(u){this.$supers("onChildRemoved_",arguments);if(u==this.caption){this.caption=null;this.rerender(this._skipper)}},insertChildHTML_:function(w,u,v){if(!w.$instanceof(zul.wgt.Caption)){this.$supers("insertChildHTML_",arguments)}},domStyle_:function(v){var u=this.$supers("domStyle_",arguments);if((!v||!v.visible)&&this._minimized){u="display:none;"+u}if(this._mode!="embedded"){u="position:absolute;"+u}return u},bind_:function(y,x,w){this.$supers(j,"bind_",arguments);var v=this._mode;zWatch.listen({onSize:this,onShow:this});if(zk.ie6_){zWatch.listen({beforeSize:this})}if(v!="embedded"){zWatch.listen({onFloatUp:this,onHide:this});this.setFloating_(true);if(s(v)){i(this)}else{m(this)}}if(this._sizable){n(this)}if(this._maximizable&&this._maximized){var u=this;w.push(function(){u._maximized=false;u.setMaximized(true,true)})}if(this._mode!="embedded"&&(!zk.css3)){jq.onzsync(this);zWatch.listen({onResponse:this})}},unbind_:function(){var u=this.$n();zk(u).beforeHideOnUnbind();u.style.visibility="hidden";if(!zk.css3){jq.unzsync(this)}if(this._shadowWgt){this._shadowWgt.destroy();this._shadowWgt=null}if(this._drag){this._drag.destroy();this._drag=null}if(this._sizer){this._sizer.destroy();this._sizer=null}if(this._mask){this._mask.destroy();this._mask=null}zk(u).undoVParent();zWatch.unlisten({onFloatUp:this,onSize:this,onShow:this,onHide:this,onResponse:this});if(zk.ie6_){zWatch.unlisten({beforeSize:this})}this.setFloating_(false);l(this);this.domUnlisten_(this.$n(),"onMouseMove");this.domUnlisten_(this.$n(),"onMouseOut");this.$supers(j,"unbind_",arguments)},_doMouseMove:function(u){if(this._sizer&&u.target==this){var y=this.$n(),x=this.$class._insizer(y,zk(y).revisedOffset(),u.pageX,u.pageY),v=this._mode=="embedded"?false:this.$n("cap"),w=this.getZclass();if(!this._maximized&&x){if(this._backupCursor==undefined){this._backupCursor=y.style.cursor}y.style.cursor=x==1?"n-resize":x==2?"ne-resize":x==3?"e-resize":x==4?"se-resize":x==5?"s-resize":x==6?"sw-resize":x==7?"w-resize":"nw-resize";if(v){jq(v).removeClass(w+"-header-move")}}else{y.style.cursor=this._backupCursor||"";if(v){jq(v).addClass(w+"-header-move")}}}},_doMouseOut:function(u){this.$n().style.cursor=this._backupCursor||""},doClick_:function(u){var v=u.domTarget;if(!v.id){v=v.parentNode}switch(v){case this.$n("close"):this.fire("onClose");break;case this.$n("max"):this.setMaximized(!this._maximized);break;case this.$n("min"):this.setMinimized(!this._minimized);break;default:this.$supers("doClick_",arguments);return}u.stop()},doMouseOver_:function(u){var w=this.getZclass(),x=u.domTarget;if(!x.id){x=x.parentNode}switch(x){case this.$n("close"):jq(x).addClass(w+"-icon-over "+w+"-close-over");break;case this.$n("max"):var v=this._maximized?" "+w+"-maxd-over":"";jq(x).addClass(w+"-icon-over "+w+"-max-over"+v);break;case this.$n("min"):jq(x).addClass(w+"-icon-over "+w+"-min-over");break}this.$supers("doMouseOver_",arguments)},doMouseOut_:function(u){var v=this.getZclass(),x=u.domTarget;if(!x.id){x=x.parentNode}var w=jq(x);switch(x){case this.$n("close"):w.removeClass(v+"-close-over");w.removeClass(v+"-icon-over");break;case this.$n("max"):if(this._maximized){w.removeClass(v+"-maxd-over")}w.removeClass(v+"-max-over");w.removeClass(v+"-icon-over");break;case this.$n("min"):w.removeClass(v+"-min-over");w.removeClass(v+"-icon-over");break}this.$supers("doMouseOut_",arguments)},afterChildrenMinFlex_:function(u){this.$supers("afterChildrenMinFlex_",arguments);if(s(this._mode)){b(this,true)}},afterChildrenFlex_:function(u){this.$supers("afterChildrenFlex_",arguments);if(s(this._mode)){b(this,true)}},setFlexSizeH_:function(x,v,u,w){if(w){u+=this._titleHeight(x)+(zul.wnd.WindowRenderer.shallCheckBorder(this)?jq(x).find(">div:last")[0].offsetHeight:0)}this.$supers("setFlexSizeH_",arguments)},ignoreFlexSize_:function(u){return this._mode!="embedded"}},{_startsizing:function(u){zWatch.fire("onFloatUp",u.control)},_snapsizing:function(w,x){var v=(w.z_dir>=6&&w.z_dir<=8)?Math.max(x[0],0):x[0],u=(w.z_dir==8||w.z_dir<=2)?Math.max(x[1],0):x[1];return[v,u]},_ghostsizing:function(z,y,u){var x=z.control,w=z.node;p(x);x.setTopmost();var v=jq(w);jq(document.body).append('<div id="zk_ddghost" class="'+x.getZclass()+'-resize-faker" style="position:absolute;top:'+y[1]+"px;left:"+y[0]+"px;width:"+v.zk.offsetWidth()+"px;height:"+v.zk.offsetHeight()+"px;z-index:"+w.style.zIndex+'"><dl></dl></div>');return jq("#zk_ddghost")[0]},_endghostsizing:function(w,u){var v=w.node;if(u){w.z_szofs={top:v.offsetTop+"px",left:v.offsetLeft+"px",height:jq.px0(zk(v).revisedHeight(v.offsetHeight)),width:jq.px0(zk(v).revisedWidth(v.offsetWidth))}}},_insizer:function(z,A,v,B){var w=A[0]+z.offsetWidth,u=A[1]+z.offsetHeight;if(v-A[0]<=5){if(B-A[1]<=5){return 8}else{if(u-B<=5){return 6}else{return 7}}}else{if(w-v<=5){if(B-A[1]<=5){return 2}else{if(u-B<=5){return 4}else{return 3}}}else{if(B-A[1]<=5){return 1}else{if(u-B<=5){return 5}}}}},_ignoresizing:function(z,B,u){var x=z.node,A=z.control;if(A._maximized||u.target!=A){return true}var y=zk(x).revisedOffset(),w=A.$class._insizer(x,y,B[0],B[1]);if(w){p(A);z.z_dir=w;z.z_box={top:y[1],left:y[0],height:x.offsetHeight,width:x.offsetWidth,minHeight:zk.parseInt(A.getMinheight()),minWidth:zk.parseInt(A.getMinwidth())};z.z_orgzi=x.style.zIndex;return false}return true},_aftersizing:function(w,u){var x=w.control,v=w.z_szofs;x.fire("onSize",zk.copy(v,u.keys),{ignorable:true});w.z_szofs=null},_drawsizing:function(y,z,v){if(y.z_dir==8||y.z_dir<=2){var x=y.z_box.height+y.z_box.top-z[1];if(x<y.z_box.minHeight){z[1]=y.z_box.height+y.z_box.top-y.z_box.minHeight;x=y.z_box.minHeight}y.node.style.height=jq.px0(x);y.node.style.top=jq.px(z[1])}if(y.z_dir>=4&&y.z_dir<=6){var x=y.z_box.height+z[1]-y.z_box.top;if(x<y.z_box.minHeight){x=y.z_box.minHeight}y.node.style.height=jq.px0(x)}if(y.z_dir>=6&&y.z_dir<=8){var u=y.z_box.width+y.z_box.left-z[0];if(u<y.z_box.minWidth){z[0]=y.z_box.width+y.z_box.left-y.z_box.minWidth;u=y.z_box.minWidth}y.node.style.width=jq.px0(u);y.node.style.left=jq.px(z[0])}if(y.z_dir>=2&&y.z_dir<=4){var u=y.z_box.width+z[0]-y.z_box.left;if(u<y.z_box.minWidth){u=y.z_box.minWidth}y.node.style.width=jq.px0(u)}},_startmove:a,_ghostmove:o,_endghostmove:t,_ignoremove:g,_aftermove:r});zul.wnd.Skipper=zk.$extends(zk.Skipper,{$init:function(u){this._w=u},restore:function(){this.$supers("restore",arguments);var u=this._w;if(u._mode!="embedded"){b(u);u.zsync()}}});zul.wnd.WindowRenderer={shallCheckBorder:function(u){return u._mode!="popup"&&(u._mode!="embedded"||u.getBorder()!="none")}}})();
zkreg('zul.wnd.Window',true);zk._m={};
zk._m['default']=function(c,k){var b=this.getZclass(),a=this.uuid,h=this.getTitle(),j=this.caption,l=this.getContentStyle(),f=this.getContentSclass(),e=zul.wnd.WindowRenderer.shallCheckBorder(this),g=this._border;g="normal"==g?"":"none"==g?"-noborder":"-"+g;c.push("<div",this.domAttrs_(),">");if(j||h){c.push('<div class="',b,'-tl"><div class="',b,'-tr"></div></div><div class="',b,'-hl"><div class="',b,'-hr"><div class="',b,'-hm"><div id="',a,'-cap" class="',b,'-header">');if(j){j.redraw(c)}else{var d='<div class="'+b+'-icon-img"></div>';if(this._closable){c.push('<div id="',a,'-close" class="',b,"-icon ",b,'-close">',d,"</div>")}if(this._maximizable){c.push('<div id="',a,'-max" class="',b,"-icon ",b,"-max");if(this._maximized){c.push(" ",b,"-maxd")}c.push('">',d,"</div>")}if(this._minimizable){c.push('<div id="'+a,'-min" class="',b,"-icon ",b,'-min">',d,"</div>")}c.push(zUtl.encodeXML(h))}c.push("</div></div></div></div>")}else{if(e){c.push('<div class="',b,"-tl",g,'"><div class="',b,"-tr",g,'"></div></div>')}}if(e){c.push('<div class="',b,"-cl",g,'"><div class="',b,"-cr",g,'"><div class="',b,"-cm",g,'">')}c.push('<div id="',a,'-cave" class="');if(f){c.push(f," ")}c.push(b,"-cnt",g,'"');if(l){c.push(' style="',l,'"')}c.push(">");if(!k){for(var i=this.firstChild;i;i=i.nextSibling){if(i!=j){i.redraw(c)}}}c.push("</div>");if(e){c.push('</div></div></div><div class="',b,"-bl",g,'"><div class="',b,"-br",g,'"></div></div>')}c.push("</div>")};
;zkmld(zk._p.p.Window,zk._m);(function(){function a(c,b){while(c&&c.parentNode!=b){c=c.parentNode}return c}zul.wnd.Panel=zk.$extends(zul.Widget,{_border:"none",_title:"",_open:true,_minheight:100,_minwidth:200,$init:function(){this.$supers("$init",arguments);this.listen({onMaximize:this,onClose:this,onMove:this,onSize:this.onSizeEvent},-1000);this._skipper=new zul.wnd.PanelSkipper(this)},$define:{minheight:null,minwidth:null,sizable:function(b){if(this.desktop){if(b){this._makeSizer()}else{if(this._sizer){this._sizer.destroy();this._sizer=null}}}},movable:_zkf=function(){this.rerender(this._skipper)},floatable:_zkf,maximizable:_zkf,minimizable:_zkf,collapsible:_zkf,closable:_zkf,border:function(){this.rerender()},title:function(){if(this.caption){this.caption.updateDomContent_()}else{this.rerender(this._skipper)}},open:function(c,b){var d=this.$n();if(d){var f=this.getZclass(),e=jq(this.$n("body"));if(e[0]&&!e.is(":animated")){if(c){jq(d).removeClass(f+"-colpsd");e.zk.slideDown(this)}else{jq(d).addClass(f+"-colpsd");this._hideShadow();if(zk.ie6_&&!d.style.width){d.runtimeStyle.width="100%"}e.zk.slideUp(this)}if(!b){this.fire("onOpen",{open:c})}}}},maximized:function(d,m){var u=this.$n();if(u){var A=zk(u),C=A.isRealVisible();if(!C&&d){return}var v,j,g,y,k=u.style,c=this.getZclass();if(d){jq(this.$n("max")).addClass(c+"-maxd");this._hideShadow();if(this._collapsible&&!this._open){A.jq.removeClass(c+"-colpsd");var i=this.$n("body");if(i){i.style.display=""}}var b=this.isFloatable(),f=b?jq(u).offsetParent():jq(u).parent();var B=zk.ie6_&&f[0].clientHeight==0?f[0].offsetHeight-f.zk.borderHeight():f[0].clientHeight;if(zk.isLoaded("zkmax.layout")&&this.parent.$instanceof(zkmax.layout.Portalchildren)){var z=this.parent.parent;if(z.getMaximizedMode()=="whole"){this._inWholeMode=true;var q=z.$n(),r=q.style;B=zk.ie6_&&q.clientHeight==0?q.offsetHeight-jq(q).zk.borderHeight():q.clientHeight;var o=this._oldNodeInfo={_scrollTop:q.parentNode.scrollTop};q.parentNode.scrollTop=0;A.makeVParent();zWatch.fireDown("onVParent",this);o._pos=k.position;o._ppos=r.position;o._zIndex=k.zIndex;k.position="absolute";this.setFloating_(true);this.setTopmost();q.appendChild(u);r.position="relative";if(!r.height){r.height=jq.px0(B);o._pheight=true}if(zk.ie7_){zk(u).redoCSS()}}}var b=this.isFloatable(),f=b?jq(u).offsetParent():jq(u).parent();v=k.left;j=k.top;g=k.width;y=k.height;k.top="-10000px";k.left="-10000px";var n=zk.ie6_&&f[0].clientWidth==0?f[0].offsetWidth-f.zk.borderWidth():f[0].clientWidth;if(!b){n-=f.zk.paddingWidth();n=A.revisedWidth(n);B-=f.zk.paddingHeight();B=A.revisedHeight(B)}k.width=jq.px0(n);k.height=jq.px0(B);this._lastSize={l:v,t:j,w:g,h:y};k.top="0";k.left="0";g=k.width;y=k.height}else{var x=this.$n("max"),e=jq(x);e.removeClass(c+"-maxd").removeClass(c+"-maxd-over");if(this._lastSize){k.left=this._lastSize.l;k.top=this._lastSize.t;k.width=this._lastSize.w;k.height=this._lastSize.h;this._lastSize=null}v=k.left;j=k.top;g=k.width;y=k.height;if(this._collapsible&&!this._open){jq(u).addClass(c+"-colpsd");var i=this.$n("body");if(i){i.style.display="none"}}var i=this.panelchildren?this.panelchildren.$n():null;if(i){i.style.width=i.style.height=""}if(this._inWholeMode){A.undoVParent();zWatch.fireDown("onVParent",this);var o=this._oldNodeInfo;u.style.position=o?o._pos:"";this.setZIndex((o?o._zIndex:""),{fire:true});this.setFloating_(false);var q=this.parent.parent.$n();q.style.position=o?o._ppos:"";q.parentNode.scrollTop=o?o._scrollTop:0;if(o&&o._pheight){q.style.height=""}this._oldNodeInfo=null;this._inWholeMode=false}}if(!m&&C){this._visible=true;this.fire("onMaximize",{left:v,top:j,width:g,height:y,maximized:d,fromServer:m})}if(C){zUtl.fireSized(this)}}},minimized:function(e,d){if(this._maximized){this.setMaximized(false)}var j=this.$n();if(j){var i=j.style,c=i.left,f=i.top,b=i.width,g=i.height;if(e){zWatch.fireDown("onHide",this);jq(j).hide()}else{jq(j).show();zUtl.fireShown(this)}if(!d){this._visible=false;this.fire("onMinimize",{left:i.left,top:i.top,width:i.width,height:i.height,minimized:e})}}},tbar:function(b){this.tbar=zk.Widget.$(b);if(this.bbar==this.tbar){this.bbar=null}if(this.fbar==this.tbar){this.fbar=null}this.rerender()},bbar:function(b){this.bbar=zk.Widget.$(b);if(this.tbar==this.bbar){this.tbar=null}if(this.fbar==this.bbar){this.fbar=null}this.rerender()},fbar:function(b){this.fbar=zk.Widget.$(b);if(this.tbar==this.fbar){this.tbar=null}if(this.bbar==this.fbar){this.bbar=null}this.rerender()}},setVisible:function(b){if(this._visible!=b){if(this._maximized){this.setMaximized(false)}else{if(this._minimized){this.setMinimized(false)}}this.$supers("setVisible",arguments)}},setHeight:function(){this.$supers("setHeight",arguments);if(this.desktop){zUtl.fireSized(this)}},setWidth:function(){this.$supers("setWidth",arguments);if(this.desktop){zUtl.fireSized(this)}},setTop:function(){this._hideShadow();this.$supers("setTop",arguments);this.zsync()},setLeft:function(){this._hideShadow();this.$supers("setLeft",arguments);this.zsync()},updateDomStyle_:function(){this.$supers("updateDomStyle_",arguments);if(this.desktop){zUtl.fireSized(this)}},addToolbar:function(b,c){switch(b){case"tbar":this.tbar=c;break;case"bbar":this.bbar=c;break;case"fbar":this.fbar=c;break;default:return false}return this.appendChild(c)},onClose:function(){if(!this.inServer||!this.isListen("onClose",{asapOnly:1})){this.parent.removeChild(this)}},onMove:function(b){this._left=b.left;this._top=b.top},onMaximize:function(b){var c=b.data;this._top=c.top;this._left=c.left;this._height=c.height;this._width=c.width},onSizeEvent:function(b){var f=b.data,e=this.$n(),d=e.style;this._hideShadow();if(f.width!=d.width){d.width=f.width}if(f.height!=d.height){d.height=f.height;this._fixHgh()}if(f.left!=d.left||f.top!=d.top){d.left=f.left;d.top=f.top;this.fire("onMove",zk.copy({left:e.style.left,top:e.style.top},b.data),{ignorable:true})}this.zsync();var c=this;setTimeout(function(){zUtl.fireSized(c)},zk.ie6_?800:0)},setFlexSizeH_:function(e,c,b,d){if(d){b+=this._titleHeight(e)+(this._rounded()?jq(this.$n("body")).find(":last")[0].offsetHeight:0)}this.$supers("setFlexSizeH_",arguments)},beforeSize:function(){if(this._maximized){this.$n().style.width=""}if(!this._flexListened){this.$n("body").style.width=""}},resetSize_:function(b){this.$supers(zul.wnd.Panel,"resetSize_",arguments);(this.$n("body")).style[b=="w"?"width":"height"]=""},onSize:(function(){function b(j){if(!j._lastSize){return}var g=j.$n(),f=zk(g),h=j.isFloatable(),i=h?jq(g).offsetParent():jq(g).parent(),e=g.style;var c=zk.ie6_&&i[0].clientWidth==0?i[0].offsetWidth-i.zk.borderWidth():i[0].clientWidth;if(!h){c-=i.zk.paddingWidth();c=f.revisedWidth(c)}e.width=jq.px0(c);if(j._open){var d=zk.ie6_&&i[0].clientHeight==0?i[0].offsetHeight-i.zk.borderHeight():i[0].clientHeight;if(!h){d-=i.zk.paddingHeight();d=f.revisedHeight(d)}e.height=jq.px0(d)}}return function(c){this._hideShadow();if(this._maximized){b(this)}if(this.tbar){c.fireDown(this.tbar)}if(this.bbar){c.fireDown(this.bbar)}if(this.fbar){c.fireDown(this.fbar)}this._syncBodyWidth();this._fixHgh();this._fixWdh();this.zsync()}})(),onHide:function(){this._hideShadow()},_syncBodyWidth:zk.ie6_?function(){this.$n("body").style.width=this.$n().offsetWidth}:zk.$void,_fixHgh:function(){var c;if(!(c=this.panelchildren)||c.z_rod||!this.isRealVisible()){return}var e=this.$n(),b=c.$n(),d=e.style.height;if(d&&d!="auto"){zk(b).setOffsetHeight(this._offsetHeight(e))}if(zk.ie6_){zk(b).redoCSS()}},_fixWdh:function(){var d=this.panelchildren;if(!d||d.z_rod||!this.isRealVisible()){return}var b=d.$n(),f,h;if(b&&(f=b.style)&&(h=f.width)&&h!="auto"){var c=this.$n().clientWidth,g=b;if(this._rounded()){for(var e=0;e<3;e++){c=zk(g=g.parentNode).revisedWidth(c)}}f.width=zk(b).revisedWidth(c)+"px"}},_rounded:_zkf=function(){return this._border.startsWith("rounded")},isFramable:_zkf,_bordered:function(){var b;return(b=this._border)!="none"&&b!="rounded"},_offsetHeight:function(b,k){var f=b.offsetHeight-this._titleHeight(b);if(this._rounded()){var g=this.panelchildren.$n(),c=jq(this.$n("body")).find("> div:last-child")[0],j=this.$n("cap");f-=c.offsetHeight;if(g){f-=zk(g.parentNode).padBorderHeight()}if(j){f-=zk(j.parentNode).padBorderHeight()}}f-=zk(b).padBorderHeight();if(k){return f}var e=this.$n("tb"),i=this.$n("bb"),d=this.$n("fb");if(e){f-=e.offsetHeight}if(i){f-=i.offsetHeight}if(d){f-=d.offsetHeight}return f},_titleHeight:function(e){var c=this.isFramable(),b=this.$n("cap"),d=c||b?jq(e).find("> div:first-child")[0].offsetHeight:0;return b?(c?jq(e).find("> div:first-child").next()[0].offsetHeight:a(b,e).offsetHeight)+d:d},onFloatUp:function(b){if(!this._visible||!this.isFloatable()){return}for(var c=b.origin;c;c=c.parent){if(c==this){this.setTopmost();return}if(c.isFloating_()){return}}},_makeSizer:function(){if(!this._sizer){this.domListen_(this.$n(),"onMouseMove");this.domListen_(this.$n(),"onMouseOut");var b=this.$class;this._sizer=new zk.Draggable(this,null,{stackup:true,draw:b._drawsizing,snap:b._snapsizing,starteffect:b._startsizing,ghosting:b._ghostsizing,endghosting:b._endghostsizing,ignoredrag:b._ignoresizing,endeffect:b._aftersizing})}},_initFloat:function(){var c=this.$n();if(!c.style.top||!c.style.left){var b=zk(c).revisedOffset();c.style.left=jq.px(b[0]);c.style.top=jq.px(b[1])}c.style.position="absolute";if(this.isMovable()){this._initMove()}this.zsync();if(this.isRealVisible()){this.setTopmost()}},_initMove:function(c){var d=this.$n("cap");if(d&&!this._drag){jq(d).addClass(this.getZclass()+"-header-move");var b=this.$class;this._drag=new zk.Draggable(this,null,{handle:d,stackup:true,starteffect:b._startmove,ignoredrag:b._ignoremove,endeffect:b._aftermove})}},zsync:function(){this.$supers("zsync",arguments);if(!this.isFloatable()){if(this._shadow){this._shadow.destroy();this._shadow=null}}else{var b=this.$n("body");if(b&&zk(b).isRealVisible()){if(!this._shadow){this._shadow=new zk.eff.Shadow(this.$n(),{left:-4,right:4,top:-2,bottom:3})}if(this._maximized||this._minimized||!this._visible){this._hideShadow()}else{this._shadow.sync()}}}},_hideShadow:function(){var b=this._shadow;if(b){b.hide()}},bind_:function(g,f,e){this.$supers(zul.wnd.Panel,"bind_",arguments);zWatch.listen({onSize:this,onHide:this});if(zk.ie6_){zWatch.listen({beforeSize:this})}else{if(zk.ie7_){zk(this.$n()).redoCSS()}}var d=this.uuid,c=this.$class;if(this._sizable){this._makeSizer()}if(this.isFloatable()){zWatch.listen({onFloatUp:this});this.setFloating_(true);this._initFloat();if(!zk.css3){jq.onzsync(this)}}if(this._maximizable&&this._maximized){var b=this;e.push(function(){b._maximized=false;b.setMaximized(true,true)})}},unbind_:function(){if(this._inWholeMode){var c=this.$n(),b;zk(c).undoVParent();var d=this.parent;if(d&&(d=d.parent)&&(d=d.$n())&&(b=this._oldNodeInfo)){d.style.position=b._ppos;d.parentNode.scrollTop=b._scrollTop}this._inWholeMode=false}zWatch.unlisten({onSize:this,onHide:this,onFloatUp:this});if(zk.ie6_){zWatch.unlisten({beforeSize:this})}this.setFloating_(false);if(!zk.css3){jq.unzsync(this)}if(this._shadow){this._shadow.destroy();this._shadow=null}if(this._drag){this._drag.destroy();this._drag=null}this.domUnlisten_(this.$n(),"onMouseMove");this.domUnlisten_(this.$n(),"onMouseOut");this.$supers(zul.wnd.Panel,"unbind_",arguments)},_doMouseMove:function(b){if(this._sizer&&(b.target==this||b.target==this.panelchildren)){var g=this.$n(),f=this.$class._insizer(g,zk(g).revisedOffset(),b.pageX,b.pageY),d=this.isMovable()?this.$n("cap"):false,e=this.getZclass();if(!this._maximized&&this._open&&f){if(this._backupCursor==undefined){this._backupCursor=g.style.cursor}g.style.cursor=f==1?"n-resize":f==2?"ne-resize":f==3?"e-resize":f==4?"se-resize":f==5?"s-resize":f==6?"sw-resize":f==7?"w-resize":"nw-resize";if(d){jq(d).removeClass(e+"-header-move")}}else{g.style.cursor=this._backupCursor||"";if(d){jq(d).addClass(e+"-header-move")}}}},_doMouseOut:function(b){this.$n().style.cursor=this._backupCursor||""},doClick_:function(c){var e=this.$n("max"),f=this.$n("min"),g=this.getZclass(),h=c.domTarget;if(!h.id){h=h.parentNode}switch(h){case this.$n("close"):this.fire("onClose");break;case e:this.setMaximized(!this._maximized);jq(e).removeClass(g+"-max-over");break;case f:this.setMinimized(!this._minimized);jq(f).removeClass(g+"-min-over");break;case this.$n("exp"):var b=this.$n("body"),d=b?zk(b).isVisible():this._open;if(!d==this._open){this._open=d}this.setOpen(!d);break;default:this.$supers("doClick_",arguments);return}c.stop()},doMouseOver_:function(b){var d=this.getZclass(),e=b.domTarget;if(!e.id){e=e.parentNode}switch(e){case this.$n("close"):jq(e).addClass(d+"-icon-over "+d+"-close-over");break;case this.$n("max"):var c=this._maximized?" "+d+"-maxd-over":"";jq(e).addClass(d+"-icon-over "+d+"-max-over"+c);break;case this.$n("min"):jq(e).addClass(d+"-icon-over "+d+"-min-over");break;case this.$n("exp"):jq(e).addClass(d+"-icon-over "+d+"-exp-over");break}this.$supers("doMouseOver_",arguments)},doMouseOut_:function(b){var c=this.getZclass(),e=b.domTarget;if(!e.id){e=e.parentNode}var d=jq(e);switch(e){case this.$n("close"):d.removeClass(c+"-close-over");d.removeClass(c+"-icon-over");break;case this.$n("max"):if(this._maximized){d.removeClass(c+"-maxd-over")}d.removeClass(c+"-max-over");d.removeClass(c+"-icon-over");break;case this.$n("min"):d.removeClass(c+"-min-over");d.removeClass(c+"-icon-over");break;case this.$n("exp"):d.removeClass(c+"-exp-over");d.removeClass(c+"-icon-over");break}this.$supers("doMouseOut_",arguments)},domClass_:function(e){var c=this.$supers("domClass_",arguments);if(!e||!e.zclass){var d=this.getZclass();var b=this._bordered()?"":d+"-noborder";if(b){c+=(c?" ":"")+b}b=this._open?"":d+"-colpsd";if(b){c+=(c?" ":"")+b}}return c},onChildAdded_:function(b){this.$supers("onChildAdded_",arguments);if(b.$instanceof(zul.wgt.Caption)){this.caption=b}else{if(b.$instanceof(zul.wnd.Panelchildren)){this.panelchildren=b}else{if(b.$instanceof(zul.wgt.Toolbar)){if(this.firstChild==b||(this.nChildren==(this.caption?2:1))){this.tbar=b}else{if(this.lastChild==b&&b.previousSibling.$instanceof(zul.wgt.Toolbar)){this.fbar=b}else{if(b.previousSibling.$instanceof(zul.wnd.Panelchildren)){this.bbar=b}}}}}}this.rerender()},onChildRemoved_:function(b){this.$supers("onChildRemoved_",arguments);if(b==this.caption){this.caption=null}else{if(b==this.panelchildren){this.panelchildren=null}else{if(b==this.tbar){this.tbar=null}else{if(b==this.bbar){this.bbar=null}else{if(b==this.fbar){this.fbar=null}}}}}if(!this.childReplacing_){this.rerender()}},onChildVisible_:function(b){this.$supers("onChildVisible_",arguments);if((b==this.tbar||b==this.bbar||b==this.fbar)&&this.$n()){this._fixHgh()}}},{_startmove:function(c){c.control._hideShadow();var b=c.node;if(b.style.top&&b.style.top.indexOf("%")>=0){b.style.top=b.offsetTop+"px"}if(b.style.left&&b.style.left.indexOf("%")>=0){b.style.left=b.offsetLeft+"px"}},_ignoremove:function(d,f,c){var e=d.control,b=c.domTarget;if(!b.id){b=b.parentNode}switch(b){case e.$n("close"):case e.$n("max"):case e.$n("min"):case e.$n("exp"):return true}return false},_aftermove:function(c,b){c.control.zsync()},_startsizing:zul.wnd.Window._startsizing,_ghostsizing:zul.wnd.Window._ghostsizing,_endghostsizing:zul.wnd.Window._endghostsizing,_insizer:zul.wnd.Window._insizer,_ignoresizing:function(f,h,b){var d=f.node,g=f.control;if(g._maximized||!g._open||(b.target!=g&&b.target!=g.panelchildren)){return true}var e=zk(d).revisedOffset(),c=g.$class._insizer(d,e,h[0],h[1]);if(c){g._hideShadow();f.z_dir=c;f.z_box={top:e[1],left:e[0],height:d.offsetHeight,width:d.offsetWidth,minHeight:zk.parseInt(g.getMinheight()),minWidth:zk.parseInt(g.getMinwidth())};f.z_orgzi=d.style.zIndex;return false}return true},_snapsizing:zul.wnd.Window._snapsizing,_aftersizing:zul.wnd.Window._aftersizing,_drawsizing:zul.wnd.Window._drawsizing});zul.wnd.PanelSkipper=zk.$extends(zk.Skipper,{$init:function(b){this._p=b},skip:function(d,c){var b;if(b=jq(c||(d.uuid+"-body"),zk)[0]){b.parentNode.removeChild(b);return b}},restore:function(){this.$supers("restore",arguments);this._p.zsync()}});zul.wnd.PanelRenderer={isFrameRequired:function(b){return true}}})();
zkreg('zul.wnd.Panel');zk._m={};
zk._m['default']=function(d,k){var b=this.getZclass(),a=this.uuid,g=this.getTitle(),j=this.caption,h=zul.wnd.PanelRenderer.isFrameRequired(this),c=this._rounded(),f=!this._bordered(),i=!j&&!g;d.push("<div",this.domAttrs_(),">");if(j||g){if(h){d.push('<div class="',b,'-tl"><div class="',b,'-tr"></div></div>');d.push('<div class="',b,'-hl"><div class="',b,'-hr"><div class="',b,'-hm">')}d.push('<div id="',a,'-cap" class="',b,"-header ");if(!c&&f){d.push(b,"-header-noborder")}d.push('">');if(!j){var e='<div class="'+b+'-icon-img"></div>';if(this._closable){d.push('<div id="',a,'-close" class="',b,"-icon ",b,'-close">',e,"</div>")}if(this._maximizable){d.push('<div id="',a,'-max" class="',b,"-icon ",b,"-max");if(this._maximized){d.push(" ",b,"-maxd")}d.push('">',e,"</div>")}if(this._minimizable){d.push('<div id="',a,'-min" class="',b,"-icon ",b,'-min">',e,"</div>")}if(this._collapsible){d.push('<div id="',a,'-exp" class="',b,"-icon ",b,'-exp">',e,"</div>")}d.push(zUtl.encodeXML(g))}else{j.redraw(d)}d.push("</div>");if(h){d.push("</div></div></div>")}}else{if(c){d.push('<div class="',b,"-tl ",b,'-tl-gray"><div class="',b,"-tr ",b,'-tr-gray"></div></div>')}}d.push('<div id="',a,'-body" class="',b,'-body"');if(!this._open){d.push(' style="display:none;"')}d.push(">");if(!k){if(c){d.push('<div class="',b,'-cl"><div class="',b,'-cr"><div class="',b,"-cm");if(i){d.push(" ",b,"-noheader")}d.push('">')}if(this.tbar){d.push('<div id="',a,'-tb" class="',b,"-top");if(f){d.push(" ",b,"-top-noborder")}if(i){d.push(" ",b,"-noheader")}d.push('">');this.tbar.redraw(d);d.push("</div>")}if(this.panelchildren){this.panelchildren.redraw(d)}if(this.bbar){d.push('<div id="',a,'-bb" class="',b,"-btm");if(f){d.push(" ",b,"-btm-noborder")}if(i){d.push(" ",b,"-noheader")}d.push('">');this.bbar.redraw(d);d.push("</div>")}if(c){d.push('</div></div></div><div class="',b,"-fl");if(!this.fbar){d.push(" ",b,"-nobtm2")}d.push('"><div class="',b,'-fr"><div class="',b,'-fm">')}if(this.fbar){d.push('<div id="',a,'-fb" class="',b,'-btm2">');this.fbar.redraw(d);d.push("</div>")}if(c){d.push('</div></div></div><div class="',b,'-bl"><div class="',b,'-br"></div></div>')}}d.push("</div></div>")};
;zkmld(zk._p.p.Panel,zk._m);zul.wnd.Panelchildren=zk.$extends(zul.Widget,{setHeight:zk.$void,setWidth:zk.$void,domClass_:function(d){var b=this.$supers("domClass_",arguments);if(!d||!d.zclass){var c=this.getZclass();var a=!this.parent.getTitle()&&!this.parent.caption?c+"-noheader":"";if(a){b+=(b?" ":"")+a}a=this.parent._bordered()?"":c+"-noborder";if(a){b+=(b?" ":"")+a}}return b},updateDomStyle_:function(){this.$supers("updateDomStyle_",arguments);if(this.desktop){zUtl.fireSized(this.parent)}},getParentSize_:function(a){var b=zk(a);return{height:b.revisedHeight(a.offsetHeight),width:b.revisedWidth(a.offsetWidth)}}});
zkreg('zul.wnd.Panelchildren',true);zk._m={};
zk._m['default']=function(b){b.push("<div",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div>")};
;zkmld(zk._p.p.Panelchildren,zk._m);zul.wnd.Messagebox={onBind:function(i,a){var c=i.$n(),e=c.parentNode.parentNode.parentNode,b=c.offsetWidth+e.cells[0].offsetWidth,d=i.$o(),j=d.$n("cave"),k=d.$n();b+=zk(j).padBorderWidth()+zk((j=j.parentNode)).padBorderWidth()+zk((j=j.parentNode)).padBorderWidth()+zk((j=j.parentNode)).padBorderWidth();k.style.width=jq.px0(Math.min(Math.max(b,zk.parseInt(a)),jq.innerWidth()-20));zk(k).center();var g=zk.parseInt(k.style.top),f=jq.innerY();if(f){var h=g-f;if(h>100){k.style.top=jq.px0(g-(h-100))}}else{if(g>100){k.style.top="100px"}}d.onSize()}};

}finally{zk.setLoaded(zk._p.n);}});zk.setLoaded('zul.wnd',1);
zk.load('zul.wgt',function(){if(zk._p=zkpi('zul.tab'))try{
zul.tab.Tabbox=zk.$extends(zul.Widget,{_orient:"horizontal",_tabscroll:true,$define:{tabscroll:_zkf=function(){this.rerender()},orient:_zkf,panelSpacing:_zkf},getTabs:function(){return this.tabs},getTabpanels:function(){return this.tabpanels},getToolbar:function(){return this.toolbar},getZclass:function(){return this._zclass==null?"z-tabbox"+(this.inAccordionMold()?"-"+this.getMold():this.isVertical()?"-ver":""):this._zclass},isHorizontal:function(){return"horizontal"==this.getOrient()},isVertical:function(){return"vertical"==this.getOrient()},inAccordionMold:function(){return this.getMold().indexOf("accordion")!=-1},getSelectedIndex:function(){return this._selTab?this._selTab.getIndex():-1},setSelectedIndex:function(a){if(this.tabs){this.setSelectedTab(this.tabs.getChildAt(a))}},getSelectedPanel:function(){return this._selTab?this._selTab.getLinkedPanel():null},setSelectedPanel:function(a){if(a&&a.getTabbox()!=this){return}var b=a.getLinkedTab();if(b){this.setSelectedTab(b)}},getSelectedTab:function(){return this._selTab},setSelectedTab:function(a){if(this._selTab!=a){if(a){a.setSelected(true)}this._selTab=a}},bind_:function(e,d,c){this.$supers(zul.tab.Tabbox,"bind_",arguments);this._scrolling=false;var a=this._selTab,b=this.getToolbar();if(this.inAccordionMold()){zWatch.listen({onResponse:this})}else{if(b&&this.getTabs()){zWatch.listen({onResponse:this});this._toolbarWidth=jq(b.$n()).width()}}if(a){c.push(function(){a.setSelected(true)})}},unbind_:function(){zWatch.unlisten({onResponse:this});this._toolbarWidth=null;this.$supers(zul.tab.Tabbox,"unbind_",arguments)},syncSize:function(){this._shallSize=false;if(this.desktop){zUtl.fireSized(this,-1)}},onResponse:function(){if(this.inAccordionMold()){if(this._shallSize){this.syncSize()}}else{if(this._toolbarWidth){var a=jq(this.getToolbar().$n()).width();if(a!=this._toolbarWidth){this._toolbarWidth=a;this.getTabs().onSize()}}}},_syncSize:function(){this._shallSize=true},removeChildHTML_:function(a){this.$supers("removeChildHTML_",arguments);if(this.isVertical()&&a.$instanceof(zul.tab.Tabs)){jq(a.uuid+"-line",zk).remove()}},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);if(a.$instanceof(zul.wgt.Toolbar)){this.toolbar=a}else{if(a.$instanceof(zul.tab.Tabs)){this.tabs=a}else{if(a.$instanceof(zul.tab.Tabpanels)){this.tabpanels=a}}}this.rerender()},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);if(a==this.toolbar){this.toolbar=null}else{if(a==this.tabs){this.tabs=null}else{if(a==this.tabpanels){this.tabpanels=null}}}if(!this.childReplacing_){this.rerender()}},setWidth:function(a){this.$supers("setWidth",arguments);if(this.desktop){zUtl.fireSized(this,-1)}},setHeight:function(a){this.$supers("setHeight",arguments);if(this.desktop){zUtl.fireSized(this,-1)}}});
zkreg('zul.tab.Tabbox');zk._m={};
zk._m['accordion-lite']=function(a){a.push("<div ",this.domAttrs_(),">");var b=this.getTabpanels();if(b){b.redraw(a)}a.push("</div>")};
;zk._m['default']=function(a){a.push("<div ",this.domAttrs_(),">");if(this.tabs){this.tabs.redraw(a)}if(this.tabpanels){this.tabpanels.redraw(a)}if(this.isVertical()){a.push('<div class="z-clear"></div>')}a.push("</div>")};
;zk._m['accordion']=function(a){a.push("<div ",this.domAttrs_(),">");var b=this.getTabpanels();if(b){b.redraw(a)}a.push("</div>")};
;zkmld(zk._p.p.Tabbox,zk._m);zul.tab.Tabs=zk.$extends(zul.Widget,{getTabbox:function(){return this.parent},getWidth:function(){var b=this._width;if(!b){var a=this.getTabbox();if(a&&a.isVertical()){return"50px"}}return b},getZclass:function(){if(this._zclass!=null){return this._zclass}var a=this.getTabbox();if(!a){return"z-tabs"}return"z-tabs"+(a.getMold()=="default"&&a.isVertical()?"-ver":"")},beforeSize:zk.ie6_?function(){var b=this.getWidth(),a=this.getHflex();if(!b&&a!="min"){this.$n("header").style.width=this.$n().style.width=""}}:zk.$void,onSize:function(){this._fixWidth();this._scrollcheck("init")},insertChildHTML_:function(e,c,d){var b=e.previousSibling;if(c){jq(c).before(e.redrawHTML_())}else{if(b){jq(b).after(e.redrawHTML_())}else{var a=this.$n("edge");if(a){jq(a).before(e.redrawHTML_())}else{jq(this.getCaveNode()).append(e.redrawHTML_())}}}e.bind(d)},domClass_:function(d){var c=this.$supers("domClass_",arguments);if(!d||!d.zclass){var b=this.getTabbox(),a=b.isTabscroll()?c+"-scroll":"";if(a){c+=(c?" ":"")+a}}return c},setVflex:function(a){if(a!="min"){a=false}this.$super(zul.tab.Tabs,"setVflex",a)},setHflex:function(a){if(a!="min"){a=false}this.$super(zul.tab.Tabs,"setHflex",a)},bind_:function(g,f,e){this.$supers(zul.tab.Tabs,"bind_",arguments);zWatch.listen({onSize:this});if(zk.ie6_){zWatch.listen({beforeSize:this})}for(var d,c=["right","left","down","up"],b=c.length;b--;){if((d=this.$n(c[b]))){this.domListen_(d,"onClick")}}this._inited=false;var a=this;e.push(function(){a._inited=true})},unbind_:function(){zWatch.unlisten({onSize:this,beforeSize:this});for(var c,b=["right","left","down","up"],a=b.length;a--;){if((c=this.$n(b[a]))){this.domUnlisten_(c,"onClick")}}this.$supers(zul.tab.Tabs,"unbind_",arguments)},_isInited:function(){return this._inited},_scrollcheck:function(g,i){var f=this.getTabbox();if(!this.desktop||!f.isRealVisible()||!f.isTabscroll()){return}var j=this.$n(),y=f.$n();if(!j||!y){return}if(f.isVertical()){var r=this.$n("header"),v=r.offsetHeight,z=r.scrollTop,e=0;jq(this.$n("cave")).children().each(function(){e+=this.offsetHeight});if(f._scrolling){var w=this._getArrowSize();if(j.offsetHeight<w){return}var q=f.getSelectedTab(),p=i?i.$n():(q?q.$n():null),o=p?p.offsetTop:0,c=p?p.offsetHeight:0;if(e<=v+w){f._scrolling=false;this._showbutton(false);r.style.height=jq.px0(y.offsetHeight-2);r.scrollTop=0}switch(g){case"end":var u=e-v-z;this._doScroll(u>=0?"down":"up",u>=0?u:Math.abs(u));break;case"init":case"vsel":if(o<z){this._doScroll("up",z-o)}else{if(o+c>z+v){this._doScroll("down",o+c-z-v)}}break}}else{if(e-(v-zk(this.$n("cave")).padBorderHeight())>0){f._scrolling=true;this._showbutton(true);var w=this._getArrowSize(),t=y.offsetHeight-w;r.style.height=t>0?t+"px":"";if(g=="end"){var u=e-v-z+2;if(u>=0){this._doScroll(this.uuid,"down",u)}}}}}else{if(!f.inAccordionMold()){var k=this.$n("cave"),r=this.$n("header"),q=f.getSelectedTab(),p=i?i.$n():(q?q.$n():null),s=p?p.offsetLeft:0,m=p?p.offsetWidth:0,n=r.offsetWidth,x=r.scrollLeft,b=0,l=f.toolbar;jq(k).children().each(function(){b+=this.offsetWidth});if(l){l=l.$n()}if(f._scrolling){var w=this._getArrowSize();if(l){var a,h;this.$n("right").style.right=l.offsetWidth+"px"}if(j.offsetWidth<w){return}if(b<=n+w){f._scrolling=false;this._showbutton(false);r.style.width=jq.px0(y.offsetWidth-(l?l.offsetWidth:0));r.scrollLeft=0}switch(g){case"end":var u=b-n-x;this._doScroll(u>=0?"right":"left",u>=0?u:Math.abs(u));break;case"init":case"sel":if(s<x){this._doScroll("left",x-s)}else{if(s+m>x+n){this._doScroll("right",s+m-x-n)}}break}}else{if(b-(n-zk(this.$n("cave")).padBorderWidth())>0){f._scrolling=true;this._showbutton(true);var k=this.$n("cave"),w=this._getArrowSize(),t=y.offsetWidth-(l?l.offsetWidth:0)-w;k.style.width="5555px";r.style.width=t>0?t+"px":"";if(l){this.$n("right").style.right=l.offsetWidth+"px"}if(g=="sel"){if(s<x){this._doScroll("left",x-s)}else{if(s+m>x+n){this._doScroll("right",s+m-x-n)}}}}}}}},_doScroll:function(g,b){if(!this._doingScroll){this._doingScroll={}}if(b<=0||this._doingScroll[g]){return}var d,c=this,f=this.$n("header");this._doingScroll[g]=b;d=b<=60?5:(5*(zk.parseInt(b/60)+1));var a=function(j,i,h){switch(i){case"right":j.scrollLeft+=h;break;case"left":j.scrollLeft-=h;break;case"up":j.scrollTop-=h;break;default:j.scrollTop+=h}j.scrollLeft=(j.scrollLeft<=0?0:j.scrollLeft);j.scrollTop=(j.scrollTop<=0?0:j.scrollTop)};var e=setInterval(function(){if(!b){delete c._doingScroll[g];clearInterval(e);return}else{b<d?a(f,g,b):a(f,g,d);b-=d;b=b<0?0:b}},10)},_getArrowSize:function(){var c=this.getTabbox(),d=c.isVertical(),b=d?this.$n("up"):this.$n("left"),a=d?this.$n("down"):this.$n("right");return b&&a?(d?b.offsetHeight+a.offsetHeight:b.offsetWidth+a.offsetWidth):0},_showbutton:function(a){var b=this.getTabbox(),c=this.getZclass();if(b.isTabscroll()){var d=this.$n("header");if(b.isVertical()){if(a){jq(d).addClass(c+"-header-scroll");jq(this.$n("down")).addClass(c+"-down-scroll");jq(this.$n("up")).addClass(c+"-up-scroll")}else{jq(d).removeClass(c+"-header-scroll");jq(this.$n("down")).removeClass(c+"-down-scroll");jq(this.$n("up")).removeClass(c+"-up-scroll")}}else{if(a){jq(d).addClass(c+"-header-scroll");jq(this.$n("right")).addClass(c+"-right-scroll");jq(this.$n("left")).addClass(c+"-left-scroll")}else{jq(d).removeClass(c+"-header-scroll");jq(this.$n("right")).removeClass(c+"-right-scroll");jq(this.$n("left")).removeClass(c+"-left-scroll")}}}},_doClick:function(n){var m=this.$n("cave"),g=jq(m).children();if(!g.length){return}var o=n.domTarget,b=0,a=this.getTabbox(),k=this.$n("header"),c=a.isVertical()?k.scrollTop:k.scrollLeft,f=a.isVertical()?k.offsetHeight:k.offsetWidth,j=c+f;if(o.id==this.uuid+"-right"){for(var e=0,h=g.length;e<h;e++){if(g[e].offsetLeft+g[e].offsetWidth>j){b=g[e].offsetLeft+g[e].offsetWidth-c-f;if(!b||isNaN(b)){return}this._doScroll("right",b);return}}}else{if(o.id==this.uuid+"-left"){for(var e=0,h=g.length;e<h;e++){if(g[e].offsetLeft>=c){var l=jq(g[e]).prev("li")[0];if(!l){return}b=c-l.offsetLeft;if(isNaN(b)){return}this._doScroll("left",b);return}}b=c-g[g.length-1].offsetLeft;if(isNaN(b)){return}this._doScroll("left",b);return}else{if(o.id==this.uuid+"-up"){for(var e=0,h=g.length;e<h;e++){if(g[e].offsetTop>=c){var d=jq(g[e]).prev("li")[0];if(!d){return}b=c-d.offsetTop;this._doScroll("up",b);return}}var d=g[g.length-1];if(!d){return}b=c-d.offsetTop;this._doScroll("up",b);return}else{if(o.id==this.uuid+"-down"){for(var e=0,h=g.length;e<h;e++){if(g[e].offsetTop+g[e].offsetHeight>j){b=g[e].offsetTop+g[e].offsetHeight-c-f;if(!b||isNaN(b)){return}this._doScroll("down",b);return}}}}}}},_fixWidth:function(){var h=this.$n();var b=this.getTabbox(),m=b.$n(),k=this.$n("cave"),i=this.$n("header"),d=this.$n("left"),a=this.$n("right"),c=b._scrolling?d&&a?d.offsetWidth+a.offsetWidth:0:0;this._fixHgh();if(this.parent.isVertical()){var f=b.getTabpanels();if(f){f._fixWidth()}var g=0;if(h.style.width){h._width=h.style.width}else{this._forceStyle(h,"w",h._width?h._width:"50px")}}else{if(!b.inAccordionMold()){if(m.offsetWidth<c){return}if(b.isTabscroll()){var j=b.toolbar;if(j){j=j.$n()}if(!m.style.width){this._forceStyle(m,"w","100%");this._forceStyle(h,"w",jq.px0(jq(h).zk.revisedWidth(m.offsetWidth)));if(b._scrolling){this._forceStyle(i,"w",jq.px0(m.offsetWidth-(j?j.offsetWidth:0)-c))}else{this._forceStyle(i,"w",jq.px0(jq(i).zk.revisedWidth(m.offsetWidth-(j?j.offsetWidth:0))))}}else{this._forceStyle(h,"w",jq.px0(jq(h).zk.revisedWidth(m.offsetWidth)));this._forceStyle(i,"w",h.style.width);if(b._scrolling){this._forceStyle(i,"w",jq.px0(i.offsetWidth-(j?j.offsetWidth:0)-c))}else{this._forceStyle(i,"w",jq.px0(i.offsetWidth-(j?j.offsetWidth:0)))}}if(j&&b._scrolling){this.$n("right").style.right=j.offsetWidth+"px"}}else{if(!m.style.width){if(m.offsetWidth){var e=jq.px0(m.offsetWidth);this._forceStyle(m,"w",e);this._forceStyle(h,"w",e)}}else{this._forceStyle(h,"w",jq.px0(m.offsetWidth))}}}}},_fixHgh:function(){var j=this.$n(),a=this.getTabbox(),n=a.$n(),k=this.$n("header"),o=this.$n("up"),i=this.$n("down"),m=this.$n("cave"),c=o&&i?isNaN(o.offsetHeight+i.offsetHeight)?0:o.offsetHeight+i.offsetHeight:0;if(a.isVertical()){var b=jq(n).children("div"),e=jq(m).children();if(!a.getHeight()&&(!a._vflex||a._vflex=="min")){var g=e.length*35,l=a.getSelectedPanel(),h=l&&l.getPanelContentHeight_()||0,f=Math.max(g,h);this._forceStyle(n,"h",jq.px0(f))}this._forceStyle(j,"h",jq.px0(jq(j).zk.revisedHeight(n.offsetHeight,true)));if(a._scrolling){this._forceStyle(k,"h",jq.px0(j.offsetHeight-c))}else{this._forceStyle(k,"h",jq.px0(jq(k).zk.revisedHeight(j.offsetHeight,true)))}this._forceStyle(b[1],"h",jq.px0(jq(b[1]).zk.revisedHeight(j.offsetHeight,true)));this._forceStyle(b[2],"h",jq.px0(jq(b[1]).zk.revisedHeight(j.offsetHeight-(2-zk.parseInt(jq(this.$n("cave")).css("padding-top"))),true)))}else{if(k){k.style.height=""}}},_forceStyle:function(b,a,c){if(!c){return}switch(a){case"h":b.style.height=zk.ie6_?"0px":"";b.style.height=c;break;case"w":b.style.width=zk.ie6_?"0px":"";b.style.width="";b.style.width=c;break}},onChildRemoved_:function(b){var a=this.parent;if(a&&b==a._selTab){a._selTab=null}this._scrollcheck("init");this.$supers("onChildRemoved_",arguments)},onChildAdded_:function(){this._scrollcheck("init");this.$supers("onChildAdded_",arguments)},ignoreFlexSize_:function(a){var b=this.getTabbox();return(b.isVertical()&&"h"==a)||(b.isHorizontal()&&"w"==a)}});
zkreg('zul.tab.Tabs');zk._m={};
zk._m['default']=function(c){var f=this.getZclass(),e=this.getTabbox(),d=this.uuid;c.push("<div ",this.domAttrs_(),">");if(e.isVertical()){c.push('<div id="',d,'-header" class="',f,'-header">','<ul id="',d,'-cave" class="',f,'-cnt">');for(var b=this.firstChild;b;b=b.nextSibling){b.redraw(c)}c.push('<li id="',d,'-edge" class="',f,'-edge"></li></ul></div>','<div id="',d,'-up"><div class="',f,'-up-scroll-hl">','</div><div class="',f,'-up-scroll-hr"></div></div><div id="',d,'-down"><div class="',f,'-down-scroll-hl"></div><div class="',f,'-down-scroll-hr"></div></div></div><div id="',d,'-line" class="',f,'-space" ></div>')}else{var a=e.isTabscroll()&&e.toolbar;if(a){c.push('<div class="',e.toolbar.getZclass(),'-outer">');e.toolbar.redraw(c)}c.push('<div id="',d,'-right">',"</div>",'<div id="',d,'-left">',"</div>",'<div id="',d,'-header"',' class="',f,'-header" >','<ul id="',d,'-cave"','class="',f,'-cnt">');for(var b=this.firstChild;b;b=b.nextSibling){b.redraw(c)}c.push('<li id="',d,'-edge"',' class="',f,'-edge" ></li>','<div id="',d,'-clear" class="z-clear"> </div>',"</ul></div>");if(a){c.push("</div>")}c.push('<div id="',d,'-line"',' class="',f,'-space" ></div></div>')}};
;zkmld(zk._p.p.Tabs,zk._m);(function(){function a(b){if(!b._oldId){b._oldId=b.uuid;setTimeout(function(){delete b._oldId},0)}}zul.tab.Tab=zk.$extends(zul.LabelImageWidget,{$init:function(){this.$supers("$init",arguments);this.listen({onClose:this},-1000)},$define:{closable:_zkf=function(){this.rerender()},image:function(b){if(b&&this._preloadImag){zUtl.loadImage(b)}this.rerender()},disabled:_zkf,selected:function(b){this._sel()}},getTabbox:function(){return this.parent?this.parent.parent:null},getIndex:function(){return this.getChildIndex()},getZclass:function(){if(this._zclass!=null){return this._zclass}var c=this.getTabbox();if(!c){return"z-tab"}var b=c.getMold();return"z-tab"+(b=="default"?(c.isVertical()?"-ver":""):"-"+b)},getLinkedPanel:function(){var b;return(b=this.getTabbox())&&(b=b.getTabpanels())?b.getChildAt(this.getIndex()):null},_doCloseClick:function(b){if(!this._disabled){this.fire("onClose");b.stop()}},_toggleBtnOver:function(b){jq(b.domTarget).toggleClass(this.getZclass()+"-close-over")},_sel:function(e,g){var d=this.getTabbox();if(!d){return}var c=this.parent,b=d._selTab;if(b!=this||g){if(b&&d.inAccordionMold()){var f=this.getLinkedPanel();if(f){f._changeSel(b.getLinkedPanel())}}if(b&&b!=this){this._setSel(b,false,false,g)}this._setSel(this,true,e,g)}},_setSel:function(g,f,j,k){var c=this.getTabbox(),e=this.getZclass(),d=g.getLinkedPanel(),h=this.desktop;if(g.isSelected()==f&&j){return}if(f){c._selTab=g;var b;if(b=c.tabpanels){if(b._selPnl&&b._selPnl!=d){b._selPnl._sel(false,false)}b._selPnl=d}}g._selected=f;if(!h){return}if(f){jq(g).addClass(e+"-seld")}else{jq(g).removeClass(e+"-seld")}if(d){d._sel(f,!k)}if(!c.inAccordionMold()){var i=this.parent;if(i){i._fixWidth()}}if(g==this){if(c.isVertical()){i._scrollcheck("vsel",this)}else{if(!c.inAccordionMold()){i._scrollcheck("sel",this)}}}if(j){this.fire("onSelect",{items:[this],reference:this.uuid})}},setHeight:function(b){this.$supers("setHeight",arguments);if(this.desktop){this._calcHgh();zUtl.fireSized(this.parent)}},setWidth:function(b){this.$supers("setWidth",arguments);if(this.desktop){zUtl.fireSized(this.parent)}},_calcHgh:function(){var c=this.$n(),b=this.$n("cnt");if(b&&(b=b.parentNode)){jq(b).height(zk(b).revisedHeight(c.offsetHeight)+"px")}},doClick_:function(b){if(this._disabled){return}this._sel(true);this.$supers("doClick_",arguments)},domClass_:function(d){var c=this.$supers("domClass_",arguments);if(!d||!d.zclass){var b=this.isDisabled()?this.getZclass()+"-disd":"";if(b){c+=(c?" ":"")+b}}return c},domContent_:function(){var c=zUtl.encodeXML(this.getLabel()),b=this.getImage();if(!c){c="&nbsp;"}if(!b){return c}b='<img src="'+b+'" align="absmiddle" class="'+this.getZclass()+'-img"/>';return c?b+" "+c:b},setVflex:function(b){if(b!="min"){b=false}this.$super(zul.tab.Tab,"setVflex",b)},setHflex:function(b){if(b!="min"){b=false}this.$super(zul.tab.Tab,"setHflex",b)},bind_:function(f,e,d){this.$supers(zul.tab.Tab,"bind_",arguments);var b=this.$n("close"),c=this;if(b){this.domListen_(b,"onClick","_doCloseClick");if(zk.ie6_){this.domListen_(b,"onMouseOver","_toggleBtnOver").domListen_(b,"onMouseOut","_toggleBtnOver")}}d.push(function(){c.parent._fixHgh()});d.push(function(){zk.afterMount(function(){if(c.isSelected()){if(c.getTabbox().inAccordionMold()){var g=c.getLinkedPanel(),h=g?g.$n("cave"):null;if(h&&h.style.display=="none"){g._sel(true,true)}}c._sel(false,true)}})});if(this.getHeight()){this._calcHgh()}},unbind_:function(){var b=this.$n("close");a(this);if(b){this.domUnlisten_(b,"onClick","_doCloseClick");if(zk.ie6_){this.domUnlisten_(b,"onMouseOver","_toggleBtnOver").domUnlisten_(b,"onMouseOut","_toggleBtnOver")}}this.$supers(zul.tab.Tab,"unbind_",arguments)},onClose:function(){if(this.getTabbox().inAccordionMold()){this.getTabbox()._syncSize()}},deferRedrawHTML_:function(c){var d=this.getTabbox(),b=d.inAccordionMold()?"div":"li";c.push("<",b,this.domAttrs_({domClass:1}),' class="z-renderdefer"></',b,">")},rerender:function(b){a(this);this.$supers(zul.tab.Tab,"rerender",arguments)},contentRenderer_:function(b){var c=this.getZclass();b.push('<span id="',this.uuid,'-cnt" class="',c,'-text">',this.domContent_(),"</span>")}});zul.tab.TabRenderer={isFrameRequired:function(){return false}}})();
zkreg('zul.tab.Tab',true);zk._m={};
zk._m['default']=function(b){var g=this.getZclass(),f=this.getTabbox(),e=this.uuid;if(f.inAccordionMold()){var a=this.getLinkedPanel(),i=a?a.$n():null,h=i?i.firstChild:null;if(!a||(h&&h!=a.$n("cave")&&(this._oldId?h.id!=this._oldId:h!=this.$n()))){return}b=i?[]:b;if(f.getMold()=="accordion-lite"){b.push('<div id="',this.uuid,'"',this.domAttrs_(),">",'<div align="left" class="',g,'-header">');if(this.isClosable()){b.push('<a id="',this.uuid,'-close" class="',g,'-close"><div class="',g,'-close-icon"></div></a>')}b.push('<div href="javascript:;" id="',this.uuid,'-tl" class="',g,'-tl">','<div class="',g,'-tr">','<span class="',g,'-tm">');this.contentRenderer_(b);b.push("</span></div></div></div></div>")}else{var d=zul.tab.TabRenderer.isFrameRequired();if(f.getPanelSpacing()&&this.getIndex()){b.push('<div class="',g,'-spacing" style="margin:0;display:list-item;width:100%;height:',f.getPanelSpacing(),';"></div>')}b.push('<div id="',this.uuid,'"',this.domAttrs_(),">",'<div align="left" class="',g,'-header" >');if(d){b.push('<div class="',g,'-tl" ><div class="',g,'-tr" ></div></div>','<div class="',g,'-hl" >','<div class="',g,'-hr" >')}b.push('<div class="'+g+'-hm" >');if(this.isClosable()){b.push('<a id="',this.uuid,'-close"  class="',g,'-close"><div class="',g,'-close-icon"></div></a>')}this.contentRenderer_(b);b.push("</div></div></div>");if(d){b.push("</div></div>")}}if(i){jq(i).prepend(b.join(""))}}else{b.push("<li ",this.domAttrs_(),">");if(this.isClosable()){b.push('<a id="',e,'-close" class="',g,'-close"','onClick="return false;" ><div class="',g,'-close-icon"></div></a>')}else{if(f.isVertical()){b.push('<a class="',g,'-noclose" ></a>')}}b.push('<div id="',e,'-hl" class="',g,'-hl"><div id="',e,'-hr" class="',g,'-hr">');if(this.isClosable()){b.push('<div id="',e,'-hm" class="',g,"-hm ",g,'-hm-close">')}else{b.push('<div id="',e,'-hm" class="',g,'-hm ">')}this.contentRenderer_(b);b.push("</div></div></div></li>")}};
;zkmld(zk._p.p.Tab,zk._m);(function(){function a(c){var d;if(c.desktop&&(d=c.getTabbox())){var b=c._selPnl,e=d._selTab;if(b!=(e&&(e=e.getLinkedPanel()))){if(b&&b.desktop){b._sel(false,true)}if(e){e._sel(true,true)}c._selPnl=e}}}zul.tab.Tabpanels=zk.$extends(zul.Widget,{getTabbox:function(){return this.parent},getZclass:function(){if(this._zclass!=null){return this._zclass}var c=this.getTabbox();if(!c){return"z-tabpanels"}var b=c.getMold();return"z-tabpanels"+(b=="default"?(c.isVertical()?"-ver":""):"-"+b)},setWidth:function(d){var e=this.$n(),b=this.getTabbox(),c=e&&b?b.isVertical():false;if(c&&!this.__width){e.style.width=""}this.$supers("setWidth",arguments);if(c){if(e.style.width){this.__width=e.style.width}zUtl.fireSized(this)}},setStyle:function(d){var e=this.$n(),b=this.getTabbox(),c=e&&b?b.isVertical():false;if(c&&!this.__width){e.style.width=""}this.$supers("setStyle",arguments);if(c){if(e.style.width){this.__width=e.style.width}zUtl.fireSized(this)}},setVflex:function(b){if(b!="min"){b=false}this.$super(zul.tab.Tabpanels,"setVflex",b)},setHflex:function(b){if(b!="min"){b=false}this.$super(zul.tab.Tabpanels,"setHflex",b)},bind_:function(){this.$supers(zul.tab.Tabpanels,"bind_",arguments);if(this.getTabbox().isVertical()){this._zwatched=true;zWatch.listen({onSize:this,beforeSize:this});var b=this.$n();if(b.style.width){this.__width=b.style.width}}},unbind_:function(){if(this._zwatched){zWatch.unlisten({onSize:this,beforeSize:this});this._zwatched=false}this.$supers(zul.tab.Tabpanels,"unbind_",arguments)},onSize:function(){this._fixWidth()},_fixWidth:function(){var c=this.parent.$n();if(this.__width||!zk(c).isRealVisible()){return}var b=c.offsetWidth,d=this.$n();b-=jq(c).find(">div:first")[0].offsetWidth+jq(d).prev()[0].offsetWidth;d.style.width=jq.px0(zk(d).revisedWidth(b))},beforeSize:function(){this.$n().style.width=this.__width||""},onChildRemoved_:function(b){this.$supers("onChildRemoved_",arguments);a(this)},onChildAdded_:function(d){this.$supers("onChildAdded_",arguments);var b=this.getTabbox(),c;if(b&&(!b.inAccordionMold()||(c=d.$n("cave"))&&c.style.display!="none")){a(this)}}})})();
zkreg('zul.tab.Tabpanels');zk._m={};
zk._m['default']=function(b){b.push("<div",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div>")};
;zkmld(zk._p.p.Tabpanels,zk._m);zul.tab.Tabpanel=zk.$extends(zul.Widget,{getTabbox:function(){return this.parent?this.parent.parent:null},isVisible:function(){return this.$supers("isVisible",arguments)&&this.isSelected()},getZclass:function(){if(this._zclass!=null){return this._zclass}var b=this.getTabbox();if(!b){return"z-tabpanel"}var a=b.getMold();return"z-tabpanel"+(a=="default"?(b.isVertical()?"-ver":""):"-"+a)},getLinkedTab:function(){var b=this.getTabbox();if(!b){return null}var a=b.getTabs();return a?a.getChildAt(this.getIndex()):null},getIndex:function(){return this.getChildIndex()},isSelected:function(){var a=this.getLinkedTab();return a&&a.isSelected()},_changeSel:function(a){if(a){var b=this.$n("cave");if(b&&!b.style.height&&(a=a.$n("cave"))){b.style.height=a.style.height}}},_sel:function(a,e){var c=this.getTabbox().inAccordionMold();if(c&&e){var f=this.$n("cave");zk(f)[a?"slideDown":"slideUp"](this)}else{var b=jq(c?this.$n("cave"):this.$n()),d=b.zk.isVisible();if(a){if(!d){b.show();zUtl.fireShown(this)}}else{if(d){zWatch.fireDown("onHide",this);b.hide()}}}},getPanelContentHeight_:function(){var b=this.$n(),c=this.parent&&this.parent.$n(),a=c&&(c.scrollHeight+zk(c).padBorderHeight());return Math.max(b&&b.offsetHeight,a)},_fixPanelHgh:function(){var a=this.getTabbox();var i=a.$n(),c=i.style.height;if(c&&c!="auto"){if(!a.inAccordionMold()){var b=this.$n(),j=a.isHorizontal();c=j?zk(b.parentNode).vflexHeight():b.parentNode.clientHeight;if(zk.ie8){c-=1}zk(b).setOffsetHeight(c);if(zk.ie6_&&j){var k=this.$n("cave").style,f=k.zoom;k.zoom=1;k.zoom=f}}else{var b=this.$n(),c=zk(i).revisedHeight(i.offsetHeight);c=zk(b.parentNode).revisedHeight(c);if(zk.opera){var h;if((h=i.parentNode)&&i.style.height=="100%"){c=zk(h).revisedHeight(h.offsetHeight)}}for(var d=b.parentNode.firstChild;d;d=d.nextSibling){if(d!=b){c-=d.offsetHeight}}c-=b.firstChild.offsetHeight;c=zk(b=b.lastChild).revisedHeight(c);if(zk.ie8){c-=1}var g=this.$n("cave"),k=g.style;k.height=jq.px0(c)}}},domClass_:function(){var a=this.$supers("domClass_",arguments);if(this.getTabbox().inAccordionMold()){a+=" "+this.getZclass()+"-cnt"}return a},onSize:function(){var a=this.getTabbox();if(a.inAccordionMold()&&!zk(this.$n("cave")).isVisible()){return}this._fixPanelHgh();if(zk.ie&&!zk.ie8){zk(a.$n()).redoCSS()}},setVflex:function(a){if(a!="min"){a=false}this.$super(zul.tab.Tabpanel,"setVflex",a)},setHflex:function(a){if(a!="min"){a=false}this.$super(zul.tab.Tabpanel,"setHflex",a)},bind_:function(c){this.$supers(zul.tab.Tabpanel,"bind_",arguments);zWatch.listen({onSize:this});var a;if(this.getTabbox().inAccordionMold()&&(a=this.getLinkedTab())){if(!a.$n()){a.unbind().bind(c)}else{if(!jq.isAncestor(this.$n(),a.$n())){var b=this.$n("cave");if(b){b.style.display="none"}}}}},unbind_:function(){zWatch.unlisten({onSize:this});this.$supers(zul.tab.Tabpanel,"unbind_",arguments)}});
zkreg('zul.tab.Tabpanel',true);zk._m={};
zk._m['default']=function(b){var e=this.uuid,f=this.getZclass(),c=this.getTabbox();if(c.inAccordionMold()){var d=this.getLinkedTab();b.push('<div class="',f,'-outer" id="',e,'">');if(d&&!d.$n()){d.redraw(b)}b.push('<div id="',e,'-cave"',this.domAttrs_({id:1}),">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div></div>")}else{b.push("<div",this.domAttrs_(),">");if(c.isHorizontal()){b.push('<div id="',e,'-cave" class="',f,'-cnt">')}for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}if(c.isHorizontal()){b.push("</div>")}b.push("</div>")}};
;zkmld(zk._p.p.Tabpanel,zk._m);
}finally{zk.setLoaded(zk._p.n);}});zk.setLoaded('zul.tab',1);
zk.load('zul.wgt,zul.lang,zk.fmt',function(){if(zk._p=zkpi('zul.inp'))try{
(function(){function g(k,j,l){j.start=zk(k.getInputNode()).getSelectionRange()[0];if(l){j.bySelectBack=true}return j}function f(j){h(j);j._tidChg=setTimeout(j.proxy(d),zul.inp.InputWidget.onChangingDelay)}function h(k,j){if(k._tidChg){clearTimeout(k._tidChg);k._tidChg=null}if(j){if((zul.inp.InputWidget.onChangingForced&&k.isListen("onChanging"))||k._instant){d.call(k,-1)}e(k)}}function e(j){j._lastChg=j.valueEnter_=j.valueSel_=null}function d(l){var k=this.getInputNode(),m=this.valueEnter_||k.value;if(this._lastChg!=m){this._lastChg=m;var j=this.valueSel_;this.valueSel_=null;if(this.isListen("onChanging")){this.fire("onChanging",g(this,{value:m},j==m),{ignorable:1,rtags:{onChanging:1}},l||5)}if(this._instant){this.updateChange_()}}}var c=zk.ie?function(){return true}:zk.opera?function(j){return j==32||j>46}:function(j){return j>=32},a=zk.ie?function(j){setTimeout(function(){if(j==zk.currentFocus){zjq.fixInput(j.getInputNode())}},0)}:zk.$void;var i=windowY=0;zul.inp.RoundUtl={syncWidth:function(p,k){var o=p.$n();if(!zk(o).isRealVisible()||(!p._inplace&&!o.style.width)){return}var n=p.getInputNode();if(!o.style.width&&p._inplace&&(p._buttonVisible==undefined||p._buttonVisible)){o.style.width=jq.px0(this.getOuterWidth(p,true))}if(zk.ie6_&&o.style.width){n.style.width="0px"}var m=this.getOuterWidth(p,p.inRoundedMold()),l=k?k.offsetWidth-zk(k).sumStyles("l",jq.borders):0,j=zk(n).revisedWidth(m-l);n.style.width=jq.px0(j)},getOuterWidth:function(q,j){var m=q.$n(),l=jq(m),p=jq(q.getInputNode()),o=q.getInplaceCSS(),n=!m.style.width&&q._inplace;if(j&&n){l.removeClass(o);p.removeClass(o)}var k=zk(m).revisedWidth(m[zk.opera?"clientWidth":"offsetWidth"])+(zk.opera?zk(m).borderWidth():0);if(j&&n){l.addClass(o);p.addClass(o)}return k}};var b=zul.inp.InputWidget=zk.$extends(zul.Widget,{_maxlength:0,_cols:0,_type:"text",_placeholder:null,$define:{name:function(j){var k=this.getInputNode();if(k){k.name=j}},disabled:function(j){var k=this.getInputNode();if(k){k.disabled=j;var l=this.getZclass(),m=j?"addClass":"removeClass";jq(this.$n())[m](l+"-disd");jq(k)[m](l+"-text-disd")}},readonly:function(j){var l=this.getInputNode();if(l){a(this);var m=this.getZclass(),n=j?"addClass":"removeClass";l.readOnly=j;jq(this.$n())[n](m+"-real-readonly");jq(l)[n](m+"-readonly");if(!this.inRoundedMold()){return}var k=this.$n("btn");jq(k)[n](m+"-btn-readonly");if(zk.ie6_){jq(k)[n](m+(this._buttonVisible?"-btn-readonly":"-btn-right-edge-readonly"));jq(this.$n("right-edge"))[n](m+"-right-edge-readonly")}}},cols:function(k){var j=this.getInputNode();if(j){if(this.isMultiline()){j.cols=k}else{j.size=k}}},maxlength:function(j){var k=this.getInputNode();if(k&&!this.isMultiline()){k.maxLength=j}},tabindex:function(j){var k=this.getInputNode();if(k){k.tabIndex=j||""}},inplace:function(j){this.rerender()},placeholder:function(j){this.rerender()},instant:null},getInplaceCSS:function(){return this._inplace?this.getZclass()+"-inplace":""},select:function(k,j){zk(this.getInputNode()).setSelectionRange(k,j)},getType:function(){return this._type},isMultiline:function(){return false},inRoundedMold:function(){return this._mold=="rounded"},getText:function(){return this.coerceToString_(this.getValue())},setText:function(j){this.setValue(this.coerceFromString_(j))},getValue:function(){return this._value},setValue:function(l,j){var m;if(j){this.clearErrorMessage(this.cst!=null)}else{m=this._validate(l);l=m.value}e(this);if((!m||!m.error)&&(j||!this._equalValue(this._value,l))){this._value=l;var k=this.getInputNode();if(k){this._defRawVal=this._lastChg=k.value=l=this.coerceToString_(l)}}},set_value:function(k,j){this.setValue(this.unmarshall_(k),j)},getInputNode:_zkf=function(){return this.$n("real")||this.$n()},getTextNode:_zkf,domAttrs_:function(k){var j=this.$supers("domAttrs_",arguments);if(!k||!k.text){j+=this.textAttrs_()}return j},textAttrs_:function(){var k="",j;if(this.isMultiline()){j=this._cols;if(j>0){k+=' cols="'+j+'"'}}else{k+=' value="'+this._areaText()+'"';k+=' type="'+this.getType()+'"';j=this._cols;if(j>0){k+=' size="'+j+'"'}j=this._maxlength;if(j>0){k+=' maxlength="'+j+'"'}}j=this._tabindex;if(j){k+=' tabindex="'+j+'"'}j=this._name;if(j){k+=' name="'+j+'"'}if(this._disabled){k+=' disabled="disabled"'}if(this._readonly){k+=' readonly="readonly"'}if(this._placeholder){k+=' placeholder="'+zUtl.encodeXML(this._placeholder)+'"'}var l=jq.filterTextStyle(this.domStyle_({width:true,height:true,top:true,left:true}));if(l){k+=' style="'+l+'"'}return k},_onChanging:d,_areaText:function(){return zUtl.encodeXML(this.coerceToString_(this._value))},setConstraint:function(j){if(typeof j=="string"&&j.charAt(0)!="["){this._cst=new zul.inp.SimpleConstraint(j)}else{this._cst=j}if(this._cst){this._reVald=true}},getConstraint:function(){return this._cst},doMouseOut_:function(){this._inplaceout=true;this.$supers("doMouseOut_",arguments)},doMouseOver_:function(){this._inplaceout=false;this.$supers("doMouseOver_",arguments)},doFocus_:function(k){this.$supers("doFocus_",arguments);var m=this.getInputNode();this._lastChg=m.value;if(k.domTarget.tagName){jq(this.$n()).addClass(this.getZclass()+"-focus");if(this._inplace){jq(m).removeClass(this.getInplaceCSS());if(!this._inplaceout){this._inplaceout=true}}if(this._errbox){var l=this,j=l._cst&&l._cst._pos;setTimeout(function(){if(l._errbox){l._errbox.open(l,null,j||"end_before",{dodgeRef:!j})}})}}},doBlur_:function(k){h(this,true);jq(this.$n()).removeClass(this.getZclass()+"-focus");if(!zk.alerting&&this.shallUpdate_(zk.currentFocus)){this.updateChange_();this.$supers("doBlur_",arguments)}if(this._inplace&&this._inplaceout){jq(this.getInputNode()).addClass(this.getInplaceCSS())}if(zk.ios&&jq(this.$n()).data("fixscrollposition")){var j=window.pageXOffset,l=window.pageYOffset;if(j!=i||l!=windowY){window.scrollTo(i,windowY)}}},_doTouch:zk.ios?function(j){i=window.pageXOffset;windowY=window.pageYOffset}:zk.$void,_doSelect:function(k){if(this.isListen("onSelection")){var m=this.getInputNode(),l=zk(m).getSelectionRange(),j=l[0],n=l[1];this.fire("onSelection",{start:j,end:n,selected:m.value.substring(j,n)})}},shallUpdate_:function(j){return !j||!zUtl.isAncestor(this,j)},getErrorMesssage:function(){return this.getErrorMessage()},getErrorMessage:function(){return this._errmsg},setErrorMessage:function(j){this.clearErrorMessage(true,true);this._markError(j,null,true)},clearErrorMessage:function(m,l){var j=this._errbox;if(j){this._errbox=null;j.destroy()}if(!l){var k=this.getZclass();this._errmsg=null;jq(this.getInputNode()).removeClass(k+"-text-invalid");if(zk.ie6_&&this.inRoundedMold()){jq(this.$n("btn")).removeClass(k+"-btn-right-edge-invalid");jq(this.$n("right-edge")).removeClass(k+"-right-edge-invalid")}}if(m){this._reVald=true}},coerceFromString_:function(j){return j},coerceToString_:function(j){return j||""},_markError:function(o,n,l){this._errmsg=o;var m=this.getZclass();if(this.desktop){jq(this.getInputNode()).addClass(m+"-text-invalid");if(zk.ie6_&&this.inRoundedMold()){if(!this._buttonVisible){jq(this.$n("btn")).addClass(m+"-btn-right-edge-invalid")}jq(this.$n("right-edge")).addClass(m+"-right-edge-invalid")}var j=this._cst,k;if(j!="[c"){if(j&&(k=j.showCustomError)){k=k.call(j,this,o)}if(!k){this._errbox=this.showError_(o)}}if(!l){this.fire("onError",{value:n,message:o})}}},validate_:function(l){var j;if(j=this._cst){if(typeof j=="string"){return false}var k=j.validate(this,l);if(!k&&j.serverValidate){return false}return k}},_validate:function(k){zul.inp.validating=true;try{var m=k,l;if(typeof m=="string"||m==null){m=this.coerceFromString_(m);if(m&&((l=m.error)||m.server)){this.clearErrorMessage(true);if(m.server||this._cst=="[c"){this._reVald=false;return{rawValue:k||"",server:true}}this._markError(l,m);return m}}if(!this.desktop){this._errmsg=null}else{var j=this._errmsg;this.clearErrorMessage(true);l=this.validate_(m);if(l===false){this._reVald=false;return{value:m,server:true}}if(l){this._markError(l,m);return{error:l}}this._reVald=false;if(j){this.fire("onError",{value:m})}}return{value:m}}finally{zul.inp.validating=false}},_shallIgnore:function(j,l){var k=(zk.ie||zk.opera)?j.keyCode:j.charCode;if(!j.altKey&&!j.ctrlKey&&c(k)&&l.indexOf(String.fromCharCode(k))<0){j.stop();return true}},showError_:function(k){var j=new zul.inp.Errorbox();j.show(this,k);return j},_equalValue:function(k,j){return k==j||this.marshall_(k)==this.marshall_(j)},marshall_:function(j){return j},unmarshall_:function(j){return j},updateChange_:function(){if(zul.inp.validating){return false}var k=this.getInputNode(),n=k.value;if(!this._reVald&&n==this._defRawVal){return false}var j=this._errmsg,o=this._validate(n);if(!o.error||o.server){var m,l;if(o.rawValue!=null){l={rawValue:o.rawValue}}else{if(!o.error){k.value=n=this.coerceToString_(o.value);this._reVald=false;m=j||!this._equalValue(o.value,this._value);if(m){this._value=o.value;this._defRawVal=n}}}if(m||o.server){this.fire("onChange",g(this,l!=null?l:{value:this.marshall_(o.value)}),o.server?{toServer:true}:null,90)}}return true},fireOnChange:function(j){this.fire("onChange",g(this,{value:this.marshall_(this.getValue())}),j)},_resetForm:function(){var j=this.getInputNode();if(j.value!=j.defaultValue){var k=this;setTimeout(function(){k.updateChange_()},0)}},focus_:function(j){zk(this.getInputNode()).focus(j);return true},domClass_:function(l){var k=this.$supers("domClass_",arguments),j=this.getZclass();if((!l||!l.zclass)&&this._disabled){k+=" "+j+"-disd"}if((!l||!l.input)&&this._inplace){k+=" "+this.getInplaceCSS()}if((!l||!l.zclass)&&this._readonly){k+=" "+j+"-real-readonly"}return k},bind_:function(){this.$supers(b,"bind_",arguments);var k=this.getInputNode(),j=this.getZclass();this._defRawVal=k.value;if(this._readonly){jq(k).addClass(j+"-readonly")}if(this._disabled){jq(k).addClass(j+"-text-disd")}this.domListen_(k,"onFocus","doFocus_").domListen_(k,"onBlur","doBlur_").domListen_(k,"onSelect");if(zk.ios){this.domListen_(k,"onTouchStart","_doTouch")}if(k=k.form){jq(k).bind("reset",this.proxy(this._resetForm))}},unbind_:function(){this.clearErrorMessage(true);var j=this.getInputNode();this.domUnlisten_(j,"onFocus","doFocus_").domUnlisten_(j,"onBlur","doBlur_").domUnlisten_(j,"onSelect");if(zk.ios){this.domUnlisten_(j,"onTouchStart","_doTouch")}if(j=j.form){jq(j).unbind("reset",this.proxy(this._resetForm))}this.$supers(b,"unbind_",arguments)},resetSize_:function(j){var k;if(this.$n()!=(k=this.getInputNode())){k.style[j=="w"?"width":"height"]=""}this.$supers("resetSize_",arguments)},doKeyDown_:function(j){var n=j.keyCode;if(this._readonly&&n==8&&j.target==this){j.stop();return}if(!this._inplaceout){this._inplaceout=n==9}if(n==9&&!j.altKey&&!j.ctrlKey&&!j.shiftKey&&this._tabbable){var l=this.getInputNode(),m=zk(l),k=m.getSelectionRange(),o=l.value;o=o.substring(0,k[0])+"\t"+o.substring(k[1]);l.value=o;o=k[0]+1;m.setSelectionRange(o,o);j.stop();return}h(this);this.$supers("doKeyDown_",arguments)},doKeyUp_:function(){if(this.isMultiline()){var j=this._maxlength;if(j>0){var k=this.getInputNode(),l=k.value;if(l!=this._defRawVal&&l.length>j){k.value=l.substring(0,j)}}}if(this.isListen("onChanging")||this._instant){f(this)}this.$supers("doKeyUp_",arguments)},afterKeyDown_:function(j,k){if(!k&&this._inplace){if(!this._multiline&&j.keyCode==13){var m=jq(this.getInputNode()),l=this.getInplaceCSS();if(m.toggleClass(l).hasClass(l)){m.zk.setSelectionRange(0,m[0].value.length)}}else{jq(this.getInputNode()).removeClass(this.getInplaceCSS())}}if(j.keyCode!=13||!this.isMultiline()){return this.$supers("afterKeyDown_",arguments)}},beforeCtrlKeys_:function(j){this.updateChange_()}},{onChangingDelay:350,onChangingForced:true});zul.inp.InputCtrl={isPreservedFocus:function(j){return true},isPreservedMouseMove:function(j){return true},isIgnoredDragForErrorbox:function(k,l,j){var m=k.control.$n("c");return j.domTarget==m&&jq(m).hasClass("z-errbox-close-over")}}})();
zul.inp.Errorbox=zk.$extends(zul.wgt.Popup,{$init:function(){this.$supers("$init",arguments);this.setWidth("260px");this.setSclass("z-errbox")},getZclass:function(){return this._zclass==null?"z-popup":this._zclass},show:function(b,d){this.parent=b;this.parent.__ebox=this;this.msg=d;jq(document.body).append(this);var c=this,a=b._cst&&b._cst._pos;setTimeout(function(){if(c.parent){c.open(b,null,a||"end_before",{dodgeRef:!a})}},0);zWatch.listen({onHide:[this.parent,this.onParentHide]})},destroy:function(){if(this.parent){zWatch.unlisten({onHide:[this.parent,this.onParentHide]});delete this.parent.__ebox}this.close();this.unbind();jq(this).remove();this.parent=null},onParentHide:function(){if(this.__ebox){this.__ebox.setFloating_(false);this.__ebox.close()}},bind_:function(){this.$supers(zul.inp.Errorbox,"bind_",arguments);var a=zul.inp.Errorbox;this._drag=new zk.Draggable(this,null,{starteffect:zk.$void,endeffect:a._enddrag,ignoredrag:a._ignoredrag,change:a._change});zWatch.listen({onScroll:this})},unbind_:function(){var a=this._drag;this._drag=null;a.destroy();zWatch.unlisten({onScroll:this});if(this.parent){zWatch.unlisten({onHide:[this.parent,this.onParentHide]})}this.$supers(zul.inp.Errorbox,"unbind_",arguments);this._drag=null},onScroll:function(a){if(a){this.position(this.parent,null,"end_before",{overflow:true});this._fixarrow()}},setDomVisible_:function(b,c){this.$supers("setDomVisible_",arguments);var a=this._stackup;if(a){a.style.display=c?"":"none"}},doMouseMove_:function(a){var d=a.domTarget;if(d==this.$n("c")){var f=a.pageY,c=jq(d),b=zk.parseInt(c.css("padding-right")),e=c.zk.revisedOffset();if(zul.inp.InputCtrl.isPreservedMouseMove(this)){c[f>=e[1]&&f<e[1]+b?"addClass":"removeClass"]("z-errbox-close-over")}}else{this.$supers("doMouseMove_",arguments)}},doMouseOut_:function(a){var b=a.domTarget;if(b==this.$n("c")){jq(b).removeClass("z-errbox-close-over")}else{this.$supers("doMouseOut_",arguments)}},doClick_:function(a){var b=a.domTarget;if(b==this.$n("c")){if((b=this.parent)&&b.clearErrorMessage){b.clearErrorMessage(true,true);b.focus(0)}else{zAu.wrongValue_(b,false)}}else{this.$supers("doClick_",arguments);this.parent.focus(0)}},open:function(){this.$supers("open",arguments);this.setTopmost();this._fixarrow()},prologHTML_:function(a){var b=this.uuid;a.push('<div id="',b);a.push('-a" class="z-errbox-left z-arrow" title="');a.push(zUtl.encodeXML(msgzk.GOTO_ERROR_FIELD));a.push('"><div id="',b,'-c" class="z-errbox-right z-errbox-close"><div class="z-errbox-center">');a.push(zUtl.encodeXML(this.msg,{multiline:true}));a.push("</div></div></div>")},onFloatUp:function(a){var d=a.origin;if(d==this){this.setTopmost();return}if(!d||d==this.parent||!this.isVisible()){return}var c=this,b=d;while((c=c.parent)&&!c.isFloating_()){if(c==d){return}}for(;b&&!b.isFloating_();b=b.parent){}if(c==b){var e=d.$n();if(e){this._uncover(e)}}},_uncover:function(a){var h=zk(a).cmOffset(),e=this.$n(),c=zk(e).cmOffset();if(jq.isOverlapped(h,[a.offsetWidth,a.offsetHeight],c,[e.offsetWidth,e.offsetHeight])){var j=this.parent.$n(),i;var g=zk(j).cmOffset(),d=j.offsetHeight,b=g[1]+d;i=h[1]+a.offsetHeight<=b?b:g[1]-e.offsetHeight;var f=zk(e).toStyleOffset(0,i);e.style.top=f[1]+"px";this._fixarrow()}},_fixarrow:function(){var g=this.parent.$n(),c=this.$n(),a=this.$n("p"),e=zk(g).revisedOffset(),b=zk(c).revisedOffset(),j=b[0]-e[0],i=b[1]-e[1],d;if(j>=g.offsetWidth-22){d=i<6-c.offsetHeight?"ld":i>=g.offsetHeight-7?"lu":"l"}else{if(j<20-c.offsetWidth){d=i<6-c.offsetHeight?"rd":i>=g.offsetHeight-7?"ru":"r"}else{d=i<0?"d":"u"}}if(d=="d"||d=="u"){var f=(Math.max(j,0)+Math.min(c.offsetWidth+j,g.offsetWidth))/2-j-6,h=c.offsetWidth-11;a.style.left=(f>h?h:f<1?1:f)+"px";if(d=="d"){a.style.top=null;a.style.bottom=zk.ie6_?"-14px":"-5px"}else{a.style.top="-5px"}}else{if(d=="l"||d=="r"){var f=(Math.max(i,0)+Math.min(c.offsetHeight+i,g.offsetHeight))/2-i-6,h=c.offsetHeight-11;a.style.top=(f>h?h:f<1?1:f)+"px";if(d=="r"){a.style.left=null;a.style.right="-5px"}else{a.style.left="-5px"}}else{if(d=="lu"||d=="ld"){a.style.left="5px"}else{a.style.left=null;a.style.right="5px"}if(d=="ru"||d=="lu"){a.style.top="-10px"}else{a.style.top=null;a.style.bottom=zk.ie6_?"-14px":"-10px"}}}a.className="z-pointer z-pointer-"+d}},{_enddrag:function(b){var a=b.control;a.setTopmost();a._fixarrow()},_ignoredrag:function(b,c,a){return zul.inp.InputCtrl.isIgnoredDragForErrorbox(b,c,a)},_change:function(d){var c=d.control,a=c._stackup;if(a){var b=c.$n();a.style.top=b.style.top;a.style.left=b.style.left}c._fixarrow()}});
zkreg('zul.inp.Errorbox');(function(){var a=["before_start","before_end","end_before","end_after","after_end","after_start","start_after","start_before","overlap","overlap_end","overlap_before","overlap_after","at_pointer","after_pointer"];zul.inp.SimpleConstraint=zk.$extends(zk.Object,{$init:function(e,d,f){if(typeof e=="string"){this._flags={};this._init(e)}else{this._flags=typeof e=="number"?this._cvtNum(e):e||{};this._regex=typeof d=="string"?new RegExp(d):d;this._errmsg=f;if(this._flags.SERVER){this.serverValidate=true}}},_init:function(e){l_out:for(var d=0,c=0,b=e.length;c>=0;d=c+1){for(;;++d){if(d>=b){return}var g=e.charAt(d);if(g=="/"){for(c=++d;;++c){if(c>=b){c=-1;break}g=e.charAt(c);if(g=="/"){break}if(g=="\\"){++c}}this._regex=new RegExp(c>=0?e.substring(d,c):e.substring(d),"g");continue l_out}if(g==":"){this._errmsg=e.substring(d+1).trim();return}if(!zUtl.isChar(g,{whitespace:1})){break}}var f;for(c=d;;++c){if(c>=b){f=e.substring(d);c=-1;break}var g=e.charAt(c);if(g==","||g==":"||g==";"||g=="/"){if(this._regex&&d==c){d++;continue}f=e.substring(d,c);if(g==":"||g=="/"){--c}break}}this.parseConstraint_(f.trim().toLowerCase())}},getFlags:function(){return this._flags},parseConstraint_:function(b){var c=this._flags;if(b=="no positive"){c.NO_POSITIVE=true}else{if(b=="no negative"){c.NO_NEGATIVE=true}else{if(b=="no zero"){c.NO_ZERO=true}else{if(b=="no empty"){c.NO_EMPTY=true}else{if(b=="no future"){c.NO_FUTURE=true}else{if(b=="no past"){c.NO_PAST=true}else{if(b=="no today"){c.NO_TODAY=true}else{if(b=="strict"){c.STRICT=true}else{if(b=="server"){c.SERVER=true;this.serverValidate=true}else{if(b&&a.$contains(b)){this._pos=b}else{if(zk.debugJS){zk.error("Unknown constraint: "+b)}}}}}}}}}}}},_cvtNum:function(b){var c={};if(b&1){c.NO_POSITIVE=c.NO_FUTURE=true}if(b&2){c.NO_NEGATIVE=c.NO_PAST=true}if(b&4){c.NO_ZERO=c.NO_TODAY=true}if(b&256){c.NO_EMPTY=true}if(b&512){c.STRICT=true}if(b=(b&61440)){this._pos=a[b>>12]}return c},_cvtNum:function(b){var c={};if(b&1){c.NO_POSITIVE=c.NO_FUTURE=true}if(b&2){c.NO_NEGATIVE=c.NO_PAST=true}if(b&4){c.NO_ZERO=c.NO_TODAY=true}if(b&256){c.NO_EMPTY=true}if(b&512){c.STRICT=true}return c},validate:function(i,h){var e=this._flags,g=this._errmsg;if(h&&h.$toNumber){h=h.$toNumber()}switch(typeof h){case"string":if(e.NO_EMPTY&&(!h||!h.trim())){return g||msgzul.EMPTY_NOT_ALLOWED}var d=this._regex;if(d){var c=h.match(d);if(!c||c.join("")!=h){return g||msgzul.ILLEGAL_VALUE}}if(e.STRICT&&h&&i.validateStrict){g=i.validateStrict(h);if(g){return g}}return;case"number":if(h>0){if(e.NO_POSITIVE){return g||this._msgNumDenied()}}else{if(h==0){if(e.NO_ZERO){return g||this._msgNumDenied()}}else{if(e.NO_NEGATIVE){return g||this._msgNumDenied()}}}return}if(h&&h.getFullYear){var b=zUtl.today(),h=new Date(h.getFullYear(),h.getMonth(),h.getDate());if((b-h)/86400000<0){if(e.NO_FUTURE){return g||this._msgDateDenied()}}else{if(h-b==0){if(e.NO_TODAY){return g||this._msgDateDenied()}}else{if(e.NO_PAST){return g||this._msgDateDenied()}}}return}if(!h&&e.NO_EMPTY){return g||msgzul.EMPTY_NOT_ALLOWED}},_msgNumDenied:function(){var b=this._flags,c=this._errmsg;if(b.NO_POSITIVE){return c||(b.NO_ZERO?b.NO_NEGATIVE?msgzul.NO_POSITIVE_NEGATIVE_ZERO:msgzul.NO_POSITIVE_ZERO:b.NO_NEGATIVE?msgzul.NO_POSITIVE_NEGATIVE:msgzul.NO_POSITIVE)}else{if(b.NO_NEGATIVE){return c||(b.NO_ZERO?msgzul.NO_NEGATIVE_ZERO:msgzul.NO_NEGATIVE)}else{if(b.NO_ZERO){return c||msgzul.NO_ZERO}}}return c||msgzul.ILLEGAL_VALUE},_msgDateDenied:function(){var b=this._flags,c=this._errmsg;if(b.NO_FUTURE){return c||(b.NO_TODAY?b.NO_PAST?NO_FUTURE_PAST_TODAY:msgzul.NO_FUTURE_TODAY:b.NO_PAST?msgzul.NO_FUTURE_PAST:msgzul.NO_FUTURE)}else{if(b.NO_PAST){return c||(b.NO_TODAY?msgzul.NO_PAST_TODAY:msgzul.NO_PAST)}else{if(b.NO_TODAY){return c||msgzul.NO_TODAY}}}return c||msgzul.ILLEGAL_VALUE}})})();
zul.inp.SimpleSpinnerConstraint=zk.$extends(zul.inp.SimpleConstraint,{$define:{min:_zkf=function(){},max:_zkf},parseConstraint_:function(c){var e=c.replace(/ +/g," ").split(/[, ]/),b=e.length,a;for(var d=0;d<b+1;d++){if(e[d]=="min"){this._min=e[++d]*1;a=true}else{if(e[d]=="max"){this._max=e[++d]*1;a=true}}}if(a){return}else{return this.$supers("parseConstraint_",arguments)}},validate:function(c,b){switch(typeof b){case"number":if((this._max&&b>this._max)||(this._min&&b<this._min)){var d=this._errmsg,a=d?d:msgzul.OUT_OF_RANGE+": "+(this._min!=null?this._max!=null?this._min+" - "+this._max:">= "+this._min:"<= "+this._max)}}return a||this.$supers("validate",arguments)}});
zul.inp.SimpleDoubleSpinnerConstraint=zk.$extends(zul.inp.SimpleConstraint,{$define:{min:_zkf=function(){},max:_zkf},parseConstraint_:function(c){var e=c.replace(/ +/g," ").split(/[, ]/),b=e.length,a;for(var d=0;d<b+1;d++){if(e[d]=="min"){this._min=e[++d]*1;a=true}else{if(e[d]=="max"){this._max=e[++d]*1;a=true}}}if(a){return}else{return this.$supers("parseConstraint_",arguments)}},validate:function(c,b){switch(typeof b){case"number":if((this._max&&b>this._max)||(this._min&&b<this._min)){var a=msgzul.OUT_OF_RANGE+": ";a+="("+this._min!=null?this._max!=null?this._min+" ~ "+this._max:">= "+this._min:"<= "+this._max+")"}}if(a){return a}else{return this.$supers("validate",arguments)}}});
zul.inp.SimpleDateConstraint=zk.$extends(zul.inp.SimpleConstraint,{$init:function(b,c){this.$super("$init",b);this._localizedSymbols=c._localizedSymbols},format:"yyyyMMdd",parseConstraint_:function(c){var a=this.format.length+1;if(c.startsWith("between")){var b=c.indexOf("and",7);if(b<0&&zk.debugJS){zk.error("Unknown constraint: "+c)}this._beg=new zk.fmt.Calendar(null,this._localizedSymbols).parseDate(c.substring(7,b),this.format);this._end=new zk.fmt.Calendar(null,this._localizedSymbols).parseDate(c.substring(b+3,b+3+a),this.format);if(this._beg.getTime()>this._end.getTime()){var e=this._beg;this._beg=this._end;this._end=e}this._beg.setHours(0,0,0,0);this._end.setHours(0,0,0,0);return}else{if(c.startsWith("before")){this._end=new zk.fmt.Calendar(null,this._localizedSymbols).parseDate(c.substring(6,6+a),this.format);this._end.setHours(0,0,0,0);return}else{if(c.startsWith("after")){this._beg=new zk.fmt.Calendar(null,this._localizedSymbols).parseDate(c.substring(5,5+a),this.format);this._beg.setHours(0,0,0,0);return}}}return this.$supers("parseConstraint_",arguments)},validate:function(d,c){if(jq.type(c)=="date"){var b=this._errmsg;var a=new Date(c.getFullYear(),c.getMonth(),c.getDate());if(this._beg!=null&&this._beg.getTime()>a.getTime()){return b||this.outOfRangeValue()}if(this._end!=null&&this._end.getTime()<a.getTime()){return b||this.outOfRangeValue()}}return this.$supers("validate",arguments)},outOfRangeValue:function(){return msgzul.OUT_OF_RANGE+": "+(this._beg!=null?this._end!=null?new zk.fmt.Calendar(null,this._localizedSymbols).formatDate(this._beg,this.format)+" ~ "+new zk.fmt.Calendar().formatDate(this._end,this.format):">= "+new zk.fmt.Calendar().formatDate(this._beg,this.format):"<= "+new zk.fmt.Calendar().formatDate(this._end,this.format))}});
zul.inp.Textbox=zk.$extends(zul.inp.InputWidget,{_value:"",_rows:1,$define:{multiline:function(){this.rerender()},tabbable:null,rows:function(a){var b=this.getInputNode();if(b&&this.isMultiline()){b.rows=a}},type:zk.ie?function(){this.rerender()}:function(a){var b=this.getInputNode();if(b){b.type=a}}},onSize:function(){var a=this.getWidth();if(!a||a.indexOf("%")!=-1){this.getInputNode().style.width=""}this.syncWidth()},syncWidth:function(){zul.inp.RoundUtl.syncWidth(this,this.$n("right-edge"))},textAttrs_:function(){var a=this.$supers("textAttrs_",arguments);if(this._multiline){a+=' rows="'+this._rows+'"'}return a},getZclass:function(){var a=this._zclass;return a!=null?a:"z-textbox"+(this.inRoundedMold()&&!this.isMultiline()?"-rounded":"")},domClass_:function(){var a=this.$supers(zul.inp.Textbox,"domClass_",arguments);if(this.isMultiline()&&this.inRoundedMold()){a+=" "+this.getZclass()+"-ml-rounded"}return a},bind_:function(){this.$supers(zul.inp.Textbox,"bind_",arguments);if(this.inRoundedMold()&&!this.isMultiline()){zWatch.listen({onSize:this})}},unbind_:function(){if(this.inRoundedMold()&&!this.isMultiline()){zWatch.unlisten({onSize:this})}this.$supers(zul.inp.Textbox,"unbind_",arguments)}});
zkreg('zul.inp.Textbox');zk._m={};
zk._m['rounded']=function(a){var d=this.getZclass(),c=this.uuid,b=this.inRoundedMold();if(this.isMultiline()){a.push("<textarea",this.domAttrs_(),">\n",this._areaText(),"</textarea>")}else{if(!b){a.push("<input",this.domAttrs_(),"/>")}else{a.push("<i",this.domAttrs_({text:true}),">",'<input id="',c,'-real"','class="',d,'-inp"',this.textAttrs_(),"/>",'<i id="',c,'-right-edge"','class="',d,"-right-edge");a.push('"></i></i>')}}};
;zk._m['default']=[zk._p.p.Textbox,'rounded'];zkmld(zk._p.p.Textbox,zk._m);zul.inp.FormatWidget=zk.$extends(zul.inp.InputWidget,{$define:{format:function(){var a=this.getInputNode();if(a){a.value=this.coerceToString_(this._value)}}},doFocus_:function(a){this.$supers("doFocus_",arguments);if(this._shortcut){this.getInputNode().value=this._shortcut}},updateChange_:function(a){var b=this.$supers("updateChange_",arguments);if(a){delete this._shortcut}return b}});
(function(){var a,b={};zk.load("zul.lang",function(){a="0123456789"+zk.MINUS+zk.PERCENT+(zk.groupingDenied?"":zk.GROUPING)});zul.inp.NumberInputWidget=zk.$extends(zul.inp.FormatWidget,{$define:{rounding:null,localizedSymbols:[function(d){if(d){var c=jq.evalJSON(d);if(!b[c[0]]){b[c[0]]=c[1]}return b[c[0]]}return d},function(){var c=this._localizedSymbols;this._allowKeys=c?"0123456789"+c.MINUS+c.PERCENT+(zk.groupingDenied?"":c.GROUPING):null;this.rerender()}]},getAllowedKeys_:function(){return this._allowKeys||a},doKeyPress_:function(c){if(!this._shallIgnore(c,this.getAllowedKeys_())){this.$supers("doKeyPress_",arguments)}},getType:function(){return zk.mobile?"number":this._type}})})();(function(){if(zk.mobile){var a={};zk.override(zul.inp.NumberInputWidget.prototype,a,{setFormat:zk.$void})}})();
zul.inp.Intbox=zk.$extends(zul.inp.NumberInputWidget,{onSize:function(){var a=this.getWidth();if(!a||a.indexOf("%")!=-1){this.getInputNode().style.width=""}this.syncWidth()},syncWidth:function(){zul.inp.RoundUtl.syncWidth(this,this.$n("right-edge"))},intValue:function(){return this.$supers("getValue",arguments)},coerceFromString_:function(a){if(!a){return null}var b=zk.fmt.Number.unformat(this._format,a,false,this._localizedSymbols),c=parseInt(b.raw,10);if(isNaN(c)||(b.raw!=""+c&&b.raw!="-"+c)){return{error:zk.fmt.Text.format(msgzul.INTEGER_REQUIRED,a)}}if(c>2147483647||c<-2147483648){return{error:zk.fmt.Text.format(msgzul.OUT_OF_RANGE+"(2147483648 - 2147483647)")}}if(b.divscale){c=Math.round(c/Math.pow(10,b.divscale))}return c},coerceToString_:function(b){var a=this._format;return a?zk.fmt.Number.format(a,b,this._rounding,this._localizedSymbols):b!=null?""+b:""},getZclass:function(){var a=this._zclass;return a!=null?a:"z-intbox"+(this.inRoundedMold()?"-rounded":"")},bind_:function(){this.$supers(zul.inp.Intbox,"bind_",arguments);if(this.inRoundedMold()){zWatch.listen({onSize:this})}},unbind_:function(){if(this.inRoundedMold()){zWatch.unlisten({onSize:this})}this.$supers(zul.inp.Intbox,"unbind_",arguments)}});
zkreg('zul.inp.Intbox');zk._m={};
zk._m['rounded']=function(a){var d=this.getZclass(),c=this.uuid,b=this.inRoundedMold();if(!b){a.push("<input",this.domAttrs_(),"/>")}else{a.push("<i",this.domAttrs_({text:true}),">",'<input id="',c,'-real"','class="',d,'-inp"',this.textAttrs_(),"/>",'<i id="',c,'-right-edge"','class="',d,"-right-edge");if(zk.ie6_&&this._readonly){a.push(" ",d,"-right-edge-readonly")}a.push('"></i></i>')}};
;zk._m['default']=[zk._p.p.Intbox,'rounded'];zkmld(zk._p.p.Intbox,zk._m);zul.inp.Longbox=zk.$extends(zul.inp.NumberInputWidget,{onSize:function(){var a=this.getWidth();if(!a||a.indexOf("%")!=-1){this.getInputNode().style.width=""}this.syncWidth()},syncWidth:function(){zul.inp.RoundUtl.syncWidth(this,this.$n("right-edge"))},coerceFromString_:function(b){if(!b){return null}var c=zk.fmt.Number.unformat(this._format,b,false,this._localizedSymbols),d=new zk.Long(c.raw),a=d.$toString();if(c.raw!=a&&c.raw!="-"+a){return{error:zk.fmt.Text.format(msgzul.INTEGER_REQUIRED,b)}}if(c.divscale){d.scale(-c.divscale)}if(this._isOutRange(d.$toString())){return{error:zk.fmt.Text.format(msgzul.OUT_OF_RANGE+"(9223372036854775808 - 9223372036854775807)")}}return d},coerceToString_:function(b){var a=this._format;return b!=null?typeof b=="string"?b:a?zk.fmt.Number.format(a,b.$toString(),this._rounding,this._localizedSymbols):b.$toLocaleString():""},getZclass:function(){var a=this._zclass;return a!=null?a:"z-longbox"+(this.inRoundedMold()?"-rounded":"")},_isOutRange:function(d){var c=d.charAt(0)=="-";if(c){d=d.substring(1)}if(d.length>19){return true}if(d.length<19){return false}var b=c?"9223372036854775808":"9223372036854775807";for(var a=0;a<19;++a){if(d.charAt(a)>b.charAt(a)){return true}if(d.charAt(a)<b.charAt(a)){return false}}return false},marshall_:function(a){return a?a.$toString():a},unmarshall_:function(a){return a?new zk.Long(a):a},bind_:function(){this.$supers(zul.inp.Longbox,"bind_",arguments);if(this.inRoundedMold()){zWatch.listen({onSize:this})}},unbind_:function(){if(this.inRoundedMold()){zWatch.unlisten({onSize:this})}this.$supers(zul.inp.Longbox,"unbind_",arguments)}});
zkreg('zul.inp.Longbox');zk._m={};
zk._m['rounded']=[zk._p.p.Intbox,'rounded'];zk._m['default']=[zk._p.p.Intbox,'rounded'];zkmld(zk._p.p.Longbox,zk._m);zul.inp.Doublebox=zk.$extends(zul.inp.NumberInputWidget,{onSize:function(){var a=this.getWidth();if(!a||a.indexOf("%")!=-1){this.getInputNode().style.width=""}this.syncWidth()},syncWidth:function(){zul.inp.RoundUtl.syncWidth(this,this.$n("right-edge"))},coerceFromString_:function(i){if(!i){return null}var c=zk.fmt.Number.unformat(this._format,i,false,this._localizedSymbols),j=c.raw,b=parseFloat(j),d=""+b,h=d.indexOf("."),f=j.indexOf(".");if(isNaN(b)||d.indexOf("e")<0){if(f==0){j="0"+j;++f}if(f>=0&&j.substring(j.substring(f+1))&&h<0){h=d.length;d+="."}var e=j.length,a=d.length;if(h>=0&&h<f){a-=h;e-=f;for(var g=f-h;g-->0;){d="0"+d}}if(a<e){for(var g=e-a;g-->0;){d+="0"}}if(isNaN(b)||(j!=d&&j!="-"+d&&j.indexOf("e")<0)){return{error:zk.fmt.Text.format(msgzul.NUMBER_REQUIRED,i)}}}if(this._rounding==7&&(this._errmsg||zk.fmt.Number.isRoundingRequired(i,this.getFormat(),this._localizedSymbols))){return{server:true}}if(c.divscale){b=b/Math.pow(10,c.divscale)}return b},_allzero:function(b){for(var a=b.length;a-->0;){if(b.charAt(a)!="0"){return false}}return true},coerceToString_:function(c){var a=this._format,b=this._localizedSymbols,d=(b?b:zk).DECIMAL;return c==null?"":a?zk.fmt.Number.format(a,c,this._rounding,b):d=="."?(""+c):(""+c).replace(".",d)},getZclass:function(){var a=this._zclass;return a!=null?a:"z-doublebox"+(this.inRoundedMold()?"-rounded":"")},getAllowedKeys_:function(){var a=this._localizedSymbols;return this.$supers("getAllowedKeys_",arguments)+(a?a:zk).DECIMAL+"e"},bind_:function(){this.$supers(zul.inp.Doublebox,"bind_",arguments);if(this.inRoundedMold()){zWatch.listen({onSize:this})}},unbind_:function(){if(this.inRoundedMold()){zWatch.unlisten({onSize:this})}this.$supers(zul.inp.Doublebox,"unbind_",arguments)}});
zkreg('zul.inp.Doublebox');zk._m={};
zk._m['rounded']=[zk._p.p.Intbox,'rounded'];zk._m['default']=[zk._p.p.Intbox,'rounded'];zkmld(zk._p.p.Doublebox,zk._m);zul.inp.Decimalbox=zk.$extends(zul.inp.NumberInputWidget,{$define:{scale:null},onSize:function(){var a=this.getWidth();if(!a||a.indexOf("%")!=-1){this.getInputNode().style.width=""}this.syncWidth()},syncWidth:function(){zul.inp.RoundUtl.syncWidth(this,this.$n("right-edge"))},coerceFromString_:function(b){if(!b){return null}var c=zk.fmt.Number.unformat(this._format,b,false,this._localizedSymbols),d=new zk.BigDecimal(c.raw),a=d.$toString();if(c.raw!=a&&c.raw!="-"+a){return{error:zk.fmt.Text.format(msgzul.NUMBER_REQUIRED,b)}}if(this._rounding==7&&(this._errmsg||zk.fmt.Number.isRoundingRequired(b,this.getFormat(),this._localizedSymbols))){return{server:true}}if(c.divscale){d.setPrecision(d.getPrecision()+c.divscale)}if(this._scale>0){d=zk.fmt.Number.setScale(d,this._scale,this._rounding)}return d},coerceToString_:function(b){var a=this._format;return b!=null?typeof b=="string"?b:a?zk.fmt.Number.format(a,b.$toString(),this._rounding,this._localizedSymbols):b.$toLocaleString():""},getZclass:function(){var a=this._zclass;return a!=null?a:"z-decimalbox"+(this.inRoundedMold()?"-rounded":"")},marshall_:function(a){return a?a.$toString():a},unmarshall_:function(a){return a?new zk.BigDecimal(a):a},getAllowedKeys_:function(){var a=this._localizedSymbols;return this.$supers("getAllowedKeys_",arguments)+(a?a:zk).DECIMAL},bind_:function(){this.$supers(zul.inp.Decimalbox,"bind_",arguments);if(this.inRoundedMold()){zWatch.listen({onSize:this})}},unbind_:function(){if(this.inRoundedMold()){zWatch.unlisten({onSize:this})}this.$supers(zul.inp.Decimalbox,"unbind_",arguments)}});
zkreg('zul.inp.Decimalbox');zk._m={};
zk._m['rounded']=[zk._p.p.Intbox,'rounded'];zk._m['default']=[zk._p.p.Intbox,'rounded'];zkmld(zk._p.p.Decimalbox,zk._m);zul.inp.ComboWidget=zk.$extends(zul.inp.InputWidget,{_buttonVisible:true,$define:{buttonVisible:function(a){var d=this.$n("btn"),b=this.getZclass();if(d){if(!this.inRoundedMold()){if(!this._inplace||!a){jq(d)[a?"show":"hide"]()}else{d.style.display=""}jq(this.getInputNode())[a?"removeClass":"addClass"](b+"-right-edge")}else{var c=a?"removeClass":"addClass";jq(d)[c](b+"-btn-right-edge");if(zk.ie6_){jq(d)[c](b+(this._readonly?"-btn-right-edge-readonly":"-btn-right-edge"));if(jq(this.getInputNode()).hasClass(b+"-text-invalid")){jq(d)[c](b+"-btn-right-edge-invalid")}}}this.onSize()}},autodrop:null},setWidth:function(){this.$supers("setWidth",arguments);if(this.desktop){this.onSize()}},onSize:function(){var a=this.getWidth();if(!a||a.indexOf("%")!=-1){this.getInputNode().style.width=""}this.syncWidth()},onFloatUp:function(b){if(jq(this.getPopupNode_()).is(":animated")||(!this._inplace&&!this.isOpen())){return}var c=b.origin;if(!zUtl.isAncestor(this,c)){if(this.isOpen()){this.close({sendOnOpen:true})}if(this._inplace){var d=this.$n(),a=this.getInplaceCSS();if(jq(d).hasClass(a)){return}d.style.width=jq.px0(zk(d).revisedWidth(d.offsetWidth));jq(this.getInputNode()).addClass(a);jq(d).addClass(a);this.onSize();d.style.width=this.getWidth()||""}}},onResponse:function(d,e){if((e.rtags.onOpen||e.rtags.onChanging)&&this.isOpen()){if(zk.animating()){var c=this;setTimeout(function(){c.onResponse(d,e)},50);return}var a=this.getPopupNode_(),b=this.getPopupSize_(a);a.style.height=b[1];if(zk.ie8){a.style.width=b[0]}this._fixsz(b)}},setOpen:function(a,b){if(this.isRealVisible()){if(a){this.open(b)}else{this.close(b)}}},isOpen:function(){return this._open},open:function(a){if(this._open){return}this._open=true;if(a&&a.focus){this.focus()}var b=this.getPopupNode_(),f=this.getInputNode();if(!b){return}this.setFloating_(true,{node:b});zWatch.fire("onFloatUp",this);var i=this.setTopmost();var g=this.getPopupSize_(b);b.style.width=g[0];b.style.height="auto";b.style.zIndex=i>0?i:1;var c=this.getPopupNode_(true);if(c){c.style.width=c.style.height="auto"}b.style.position="absolute";b.style.display="block";b.style.visibility="hidden";b.style.left="-10000px";var l=zk(b);l.makeVParent();zWatch.fireDown("onVParent",this);if(this.presize_()){g=this.getPopupSize_(b)}b.style.left="";this._fixsz(g);l.position(f,"after_start");b.style.display="none";b.style.visibility="";this.slideDown_(b);if(zk.gecko){var k=c?c.rows:null;if(k){var h=b.offsetHeight-b.clientHeight;if(h>10&&b.offsetHeight<150){var d=0;for(var e=k.length;e--;){d+=k[e].offsetHeight}b.style.height=(d+20)+"px"}}}if(!this._shadow){this._shadow=new zk.eff.Shadow(b,{left:-4,right:4,top:-2,bottom:3})}if(a&&a.sendOnOpen){this.fire("onOpen",{open:true,value:f.value},{rtags:{onOpen:1}})}},presize_:zk.$void,slideDown_:function(a){zk(a).slideDown(this,{afterAnima:this._afterSlideDown,duration:100})},slideUp_:function(a){a.style.display="none"},zsync:function(){this.$supers("zsync",arguments);if(!zk.css3&&this.isOpen()&&this._shadow){this._shadow.sync()}},_afterSlideDown:function(a){if(!this.desktop){zk(a).undoVParent();jq(a).remove()}if(this._shadow){this._shadow.sync()}},getPopupNode_:function(a){return a?this.$n("cave"):this.$n("pp")},close:function(c){if(!this._open){return}var b=this;if(zk.animating()){setTimeout(function(){b.close(c)},50);return}this._open=false;if(c&&c.focus){this.focus()}else{jq(this.$n()).removeClass(this.getZclass()+"-focus")}var a=this.getPopupNode_();if(!a){return}this.setFloating_(false);zWatch.fireDown("onHide",this);this.slideUp_(a);zk.afterAnimate(function(){zk(a).undoVParent();zWatch.fireDown("onVParent",b)},-1);if(this._shadow){this._shadow.destroy();this._shadow=null}var d=this.$n("btn");if(d){jq(d).removeClass(this.getZclass()+"-btn-over")}if(c&&c.sendOnOpen){this.fire("onOpen",{open:false,value:this.getInputNode().value},{rtags:{onOpen:1}})}},_fixsz:function(d){var c=this.getPopupNode_();if(!c){return}var b=this.getPopupNode_(true);if(d[1]=="auto"&&c.offsetHeight>350){c.style.height="350px"}else{if(c.offsetHeight<10){c.style.height="10px"}}if(d[0]=="auto"){var a=this.$n();if(c.offsetWidth<a.offsetWidth){c.style.width=zk(c).revisedWidth(a.offsetWidth)+"px";if(b){b.style.width="100%"}}else{var e=jq.innerWidth()-20;if(e<a.offsetWidth){e=a.offsetWidth}if(c.offsetWidth>e){c.style.width=e}}}},dnPressed_:zk.$void,upPressed_:zk.$void,otherPressed_:zk.$void,enterPressed_:function(a){this.close({sendOnOpen:true});this.updateChange_();a.stop()},escPressed_:function(a){this.close({sendOnOpen:true});a.stop()},getPopupSize_:function(a){return["auto","auto"]},redraw_:function(a){var c=this.uuid,d=this.getZclass(),b=this._buttonVisible;a.push("<i",this.domAttrs_({text:true}),'><input id="',c,'-real" class="',d,"-inp");if(!b){a.push(" ",d,"-right-edge")}a.push('" autocomplete="off"',this.textAttrs_(),'/><i id="',c,'-btn" class="',d,"-btn");if(this.inRoundedMold()){if(!b){a.push(" ",d,"-btn-right-edge")}if(this._readonly){a.push(" ",d,"-btn-readonly")}if(zk.ie6_&&!b&&this._readonly){a.push(" ",d,"-btn-right-edge-readonly")}}else{if(!b){a.push('" style="display:none')}}a.push('"><div class="',d,'-btn-icon"></div></i>');this.redrawpp_(a);a.push("</i>")},redrawpp_:function(a){},syncWidth:function(){zul.inp.RoundUtl.syncWidth(this,this.$n("btn"))},beforeParentMinFlex_:function(a){if("w"==a){this.syncWidth()}},doFocus_:function(a){var b=this.$n();if(this._inplace){b.style.width=jq.px0(zk(b).revisedWidth(b.offsetWidth))}this.$supers("doFocus_",arguments);if(this._inplace){if(jq(b).hasClass(this.getInplaceCSS())){jq(b).removeClass(this.getInplaceCSS());this.onSize()}}},doBlur_:function(a){var b=this.$n();if(this._inplace&&this._inplaceout){b.style.width=jq.px0(zk(b).revisedWidth(b.offsetWidth))}this.$supers("doBlur_",arguments);if(this._inplace&&this._inplaceout){jq(b).addClass(this.getInplaceCSS());this.onSize();b.style.width=this.getWidth()||""}},afterKeyDown_:function(a,b){if(!b&&this._inplace){jq(this.$n()).toggleClass(this.getInplaceCSS(),a.keyCode==13?null:false)}return this.$supers("afterKeyDown_",arguments)},bind_:function(){this.$supers(zul.inp.ComboWidget,"bind_",arguments);var a,b=this.getInputNode();if(this._inplace){jq(b).addClass(this.getInplaceCSS())}if(a=this.$n("btn")){this._auxb=new zul.Auxbutton(this,a,b);this.domListen_(a,zk.android?"onTouchstart":"onClick","_doBtnClick")}zWatch.listen({onSize:this,onFloatUp:this,onResponse:this});if(!zk.css3){jq.onzsync(this)}},unbind_:function(){this.close();var a=this.$n("btn");if(a){this._auxb.cleanup();this._auxb=null;this.domUnlisten_(a,zk.android?"onTouchstart":"onClick","_doBtnClick")}zWatch.unlisten({onSize:this,onFloatUp:this,onResponse:this});if(!zk.css3){jq.unzsync(this)}this.$supers(zul.inp.ComboWidget,"unbind_",arguments)},_doBtnClick:function(a){if(this.inRoundedMold()&&!this._buttonVisible){return}if(!this._disabled&&!zk.animating()){if(this._open){this.close({focus:zul.inp.InputCtrl.isPreservedFocus(this),sendOnOpen:true})}else{this.open({focus:zul.inp.InputCtrl.isPreservedFocus(this),sendOnOpen:true})}}if(zk.ios){this._windowX=window.pageXOffset;this._windowY=window.pageYOffset}a.stop()},doKeyDown_:function(a){this._doKeyDown(a);if(!a.stopped){this.$supers("doKeyDown_",arguments)}},doClick_:function(a){if(!this._disabled){if(a.domTarget==this.getPopupNode_()){this.close({focus:zul.inp.InputCtrl.isPreservedFocus(this),sendOnOpen:true})}else{if(this._readonly&&!this.isOpen()&&this._buttonVisible){this.open({focus:zul.inp.InputCtrl.isPreservedFocus(this),sendOnOpen:true})}}this.$supers("doClick_",arguments)}},_doKeyDown:function(a){var d=a.keyCode,b=this._open;if((a.target==this||!(a.target.$instanceof(zul.inp.InputWidget)))&&(d==9||(zk.safari&&d==0))){if(b){this.close({sendOnOpen:true})}return}if(a.altKey&&(d==38||d==40)){if(b){this.close({sendOnOpen:true})}else{this.open({sendOnOpen:true})}var c={propagation:true};if(zk.ie){c.dom=true}a.stop(c);return}if(b&&(d==13||d==27)){if(d==13){this.enterPressed_(a)}else{this.escPressed_(a)}return}if(d==18||d==27||d==13||(d>=112&&d<=123)){return}if(this._autodrop&&!b){this.open({sendOnOpen:true})}if(d==38){this.upPressed_(a)}else{if(d==40){this.dnPressed_(a)}else{this.otherPressed_(a)}}},onChildAdded_:_zkf=function(a){if(this._shadow){this._shadow.sync()}},onChildRemoved_:_zkf,onChildVisible_:_zkf});
zul.inp.Combobox=zk.$extends(zul.inp.ComboWidget,{_autocomplete:true,$define:{autocomplete:null,repos:function(){if(this.desktop){var c=this.getInputNode(),b;c.value=this.valueEnter_!=null?this.valueEnter_:this._value||"";if(zk.ie&&c.value){b=c.value.length;b=[b,b]}this._typeahead(this._bDel,b);this._bDel=null;var a=this.getPopupNode_();if(a){a.style.width="auto";if(zk.safari){this._shallRedoCss=true}}}this._repos=false}},onResponse:function(){this.$supers("onResponse",arguments);if(this._shallRedoCss){zk(this.getPopupNode_()).redoCSS(-1);this._shallRedoCss=null}},setValue:function(a){this.$supers("setValue",arguments);this._reIndex();this.valueEnter_=null;this._lastsel=this._sel},_reIndex:function(){var b=this.getValue();if(!this._sel||b!=this._sel.getLabel()){if(this._sel){var c=this._sel.$n();if(c){jq(c).removeClass(this._sel.getZclass()+"-seld")}}this._sel=this._lastsel=null;for(var a=this.firstChild;a;a=a.nextSibling){if(b==a.getLabel()){this._sel=a;break}}}},validateStrict:function(b){var a=this._cst;return this._findItem(b,true)?null:(a?a._errmsg:"")||msgzul.VALUE_NOT_MATCHED},_findItem:function(b,a){return this._findItem0(b,a)},_findItem0:function(g,a,e,b){var f=this.firstChild;if(f&&g){g=g.toLowerCase();var d=this._sel;if(!d||d.parent!=this){d=f}for(var c=b?d.nextSibling?d.nextSibling:f:d;;){if((!a||!c.isDisabled())&&c.isVisible()&&(e?c.getLabel().toLowerCase().startsWith(g):g==c.getLabel().toLowerCase())){return c}if(!(c=c.nextSibling)){c=f}if(c==d){break}}}},_hilite:function(a){this._hilite2(this._findItem(this.getInputNode().value,this._isStrict()||(a&&a.strict)),a)},_hilite2:function(f,e){e=e||{};var b=this._sel;this._sel=f;if(b&&b.parent==this){var h=b.$n();if(h){jq(h).removeClass(b.getZclass()+"-seld")}}if(f&&!f.isDisabled()){jq(f.$n()).addClass(f.getZclass()+"-seld")}if(e.sendOnSelect&&this._lastsel!=f){this._lastsel=f;if(f){var d=this.getInputNode(),g=f.getLabel();this.valueEnter_=d.value=g;if(!e.noSelectRange){if(zk.gecko){d.select()}else{zk(d).setSelectionRange(0,g.length)}}}if(e.sendOnChange){this.$supers("updateChange_",[])}this.fire("onSelect",{items:f?[f]:[],reference:f})}if(zk.ie<8){var a=this.getPopupNode_(),c=a.style.width;if(a.firstChild&&c&&c!="auto"){a.firstChild.style.width=zk(a).revisedWidth(zk.parseInt(a.style.width)-1)+"px"}}},_isStrict:function(){var a=this.getConstraint();return a&&a._flags&&a._flags.STRICT},open:function(a){this.$supers("open",arguments);this._hilite()},dnPressed_:function(a){this._updnSel(a)},upPressed_:function(a){this._updnSel(a,true)},_updnSel:function(k,h){var e=this.getInputNode(),b=e.value,a,j;if(b){b=b.toLowerCase();var f=this._sel,i=this._next(null,h);if(!f||f.parent!=this){f=this._next(null,!h)}if(!f){k.stop();return}for(var l=f;;){if(!l.isDisabled()&&l.isVisible()){var g=l.getLabel().toLowerCase();if(b==g){a=l;break}else{if(!j&&g.startsWith(b)){j=l;break}}}var d=this._next(l,h);if(l==d){break}if((l=d)==f){break}}if(!a){a=j}if(a){var c=zk(e).getSelectionRange();if(c[0]==0&&c[1]==b.length){a=this._next(a,h)}}else{a=this._next(null,!h)}}else{a=this._next(null,true)}if(a){zk(a).scrollIntoView(this.$n("pp"))}this._select(a,{sendOnSelect:true});k.stop()},_next:(function(){function a(e,d,c){var b=d?"previousSibling":"nextSibling";for(var f=c?e:e[b];f;f=f[b]){if(!f.isDisabled()){return f}}return null}return function(c,b){if(c){c=a(c,b)}return c?c:a(b?this.firstChild:this.lastChild,!b,true)}})(),_select:function(c,b){var a=this.getInputNode(),d=a.value=c?c.getLabel():"";this.valueSel_=d;this._hilite2(c,b);if(d){if(zk.gecko){a.select()}else{zk(a).setSelectionRange(0,d.length)}}},otherPressed_:function(b){var f=this,e=b.keyCode,a;this._bDel=a=e==8||e==46;if(this._readonly){switch(e){case 35:case 36:this._hilite2();this.getInputNode().value="";case 37:case 39:this._updnSel(b,e==37||e==35);break;case 8:b.stop();break;default:var c=String.fromCharCode(e);var d=this._findItem0(c,true,true,!!this._sel);if(d){this._select(d,{sendOnSelect:true})}}}else{setTimeout(function(){f._typeahead(a)},zk.opera||zk.safari?10:0)}},_typeahead:function(a,e){if(zk.currentFocus!=this){return}var c=this.getInputNode(),g=c.value,e=e||zk(c).getSelectionRange(),f=this.firstChild;this.valueEnter_=g;if(!g||!f||e[0]!=g.length||e[0]!=e[1]){return this._hilite({strict:true})}var d=this._findItem(g,true);if(d||a||!this._autocomplete){return this._hilite2(d)}g=g.toLowerCase();d=this._sel;if(!d||d.parent!=this){d=f}for(var b=d;;){if(!b.isDisabled()&&b.isVisible()&&b.getLabel().toLowerCase().startsWith(g)){c.value=b.getLabel();zk(c).setSelectionRange(g.length,c.value.length);this._hilite2(b);return}if(!(b=b.nextSibling)){b=f}if(b==d){this._hilite2();return}}},updateChange_:function(){var a=this._value!=this.getInputNode().value;if(this.$supers("updateChange_",arguments)&&a){this._hilite({sendOnSelect:true,noSelectRange:true});return true}this.valueEnter_=null},bind_:function(){this.$supers(zul.inp.Combobox,"bind_",arguments);if(this.isListen("onOpen")){this.listen({onChanging:zk.$void},-1000)}if(this._value&&!this._sel){this.setValue(this._value,true)}},unbind_:function(){this._hilite2();this._sel=this._lastsel=null;if(this.isListen("onOpen")){this.unlisten({onChanging:zk.$void})}this.$supers(zul.inp.Combobox,"unbind_",arguments)},getZclass:function(){var a=this._zclass;return a?a:"z-combobox"+(this.inRoundedMold()?"-rounded":"")},redrawpp_:function(b){var c=this.uuid,d=this.getZclass();b.push('<div id="',c,'-pp" class="',d,"-pp ",this.getSclass(),' " style="display:none" tabindex="-1"><table id="',c,'-cave"',zUtl.cellps0,' class="',d,'-cave" >');for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</table></div>")},afterAnima_:function(a){if(a&&this._lastsel){zk(this._lastsel).scrollIntoView(this.$n("pp"))}this.$supers("afterAnima_",arguments)}});
zkreg('zul.inp.Combobox');zk._m={};
zk._m['rounded']=zul.inp.Combobox.prototype.redraw_;
;zk._m['default']=[zk._p.p.Combobox,'rounded'];zkmld(zk._p.p.Combobox,zk._m);zul.inp.Comboitem=zk.$extends(zul.LabelImageWidget,{$define:{disabled:function(a){var c=this.$n();if(c){var b=this.getZclass()+"-disd";a?jq(c).addClass(b):jq(c).removeClass(b)}},description:_zkf=function(){this.rerender()},content:_zkf},domLabel_:function(){return zUtl.encodeXML(this.getLabel(),{pre:1})},doMouseOver_:function(){if(!this._disabled){var c=this.$n(),a=jq(c),b=this.getZclass();a.addClass(a.hasClass(b+"-seld")?b+"-over-seld":b+"-over")}this.$supers("doMouseOver_",arguments)},doMouseOut_:function(){if(!this._disabled){this._doMouseOut()}this.$supers("doMouseOut_",arguments)},_doMouseOut:function(){var b=this.$n(),a=this.getZclass();jq(b).removeClass(a+"-over").removeClass(a+"-over-seld")},doClick_:function(b){if(!this._disabled){this._doMouseOut();var a=this.parent;a._select(this,{sendOnSelect:true,sendOnChange:true});this._updateHoverImage();a.close({sendOnOpen:true});a._shallClose=true;if(zul.inp.InputCtrl.isPreservedFocus(this)){zk(a.getInputNode()).focus()}b.stop()}},domClass_:function(c){var a=this.$supers("domClass_",arguments);if(this._disabled&&(!c||!c.zclass)){var b=this.getZclass();a+=" "+b+"-disd"}return a},deferRedrawHTML_:function(a){a.push("<tr",this.domAttrs_({domClass:1}),' class="z-renderdefer"></tr>')}});
zkreg('zul.inp.Comboitem');zk._m={};
zk._m['default']=function(b){var c=this.getZclass();b.push("<tr",this.domAttrs_({text:true}),'><td class="',c,'-img">',this.domImage_(),'</td><td class="',c,'-text"><span class="',c,'-spacer">&nbsp;</span>',this.domLabel_());var a;if(a=this._description){b.push('<br/><span class="',c,'-inner">',zUtl.encodeXML(a),"</span>")}if(a=this._content){b.push('<span class="',c,'-cnt">',a,"</span>")}b.push("</td></tr>")};
;zkmld(zk._p.p.Comboitem,zk._m);zul.inp.Bandbox=zk.$extends(zul.inp.ComboWidget,{getPopupSize_:function(b){var d=this.firstChild,a,c;if(d){a=d._hflex=="min"&&d._hflexsz?jq.px0(d._hflexsz):d.getWidth();c=d._vflex=="min"&&d._vflexsz?jq.px0(d._vflexsz):d.getHeight()}return[a||"auto",c||"auto"]},getZclass:function(){var a=this._zclass;return a!=null?a:"z-bandbox"+(this.inRoundedMold()?"-rounded":"")},getCaveNode:function(){return this.$n("pp")||this.$n()},redrawpp_:function(b){b.push('<div id="',this.uuid,'-pp" class="',this.getZclass(),'-pp" style="display:none" tabindex="-1">');for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div>")},open:function(a){if(!this.firstChild){if(a&&a.sendOnOpen){this.fire("onOpen",{open:true,value:this.getInputNode().value},{rtags:{onOpen:1}})}return}this.$supers("open",arguments)},presize_:function(){var a=this.firstChild;if(a&&(a._hflex=="min"||a._vflex=="min")){zWatch.fireDown("onFitSize",a,{reverse:true});return true}},enterPressed_:function(a){if(a.domTarget==this.getInputNode()){this.$supers("enterPressed_",arguments)}},doKeyUp_:function(a){if(a.domTarget==this.getInputNode()){this.$supers("doKeyUp_",arguments)}}});
zkreg('zul.inp.Bandbox');zk._m={};
zk._m['rounded']=zul.inp.Bandbox.prototype.redraw_;
;zk._m['default']=[zk._p.p.Bandbox,'rounded'];zkmld(zk._p.p.Bandbox,zk._m);zul.inp.Bandpopup=zk.$extends(zul.Widget,{afterChildrenMinFlex_:function(b){if(b=="w"){var c=this.parent,a=c&&c.$n("pp");if(a){a.style.width=jq.px0(this._hflexsz);zk(a)._updateProp(["width"])}}}});
zkreg('zul.inp.Bandpopup',true);zk._m={};
zk._m['default']=function(b){b.push("<div",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div>")};
;zkmld(zk._p.p.Bandpopup,zk._m);(function(){function a(h){var e=h.$n("btn");e.title=h._curpos;h.updateFormData(h._curpos);var g=h.isVertical(),f=zk(h.getRealNode()).cmOffset(),d=g?h._getHeight():h._getWidth(),c=d>0?Math.round((h._curpos*d)/h._maxpos):0;f=zk(e).toStyleOffset(f[0],f[1]);f=g?[0,(f[1]+c)]:[(f[0]+c),0];f=h._snap(f[0],f[1]);return f[(g?1:0)]}function b(g,f){var e=jq(g.$n("btn")),c=g.isVertical()?["top","height"]:["left","width"],d={};d[c[0]]=jq.px0(f?(f+zk.parseInt(e.css(c[0]))-e[c[1]]()/2):a(g));return d}zul.inp.Slider=zk.$extends(zul.Widget,{_orient:"horizontal",_height:"207px",_width:"207px",_curpos:0,_maxpos:100,_pageIncrement:10,_slidingtext:"{0}",_pageIncrement:-1,$define:{orient:function(){this.rerender()},curpos:function(){if(this.desktop){this._fixPos()}},maxpos:function(){if(this._curpos>this._maxpos){this._curpos=this._maxpos;if(this.desktop){this._fixPos()}}},slidingtext:null,pageIncrement:null,name:function(){if(this.efield){this.efield.name=this._name}}},getZclass:function(){if(this._zclass!=null){return this._zclass}var c="z-slider";if(this.inScaleMold()){return c+"-scale"}else{if(this.inSphereMold()){return c+("horizontal"==this._orient?"-sphere-hor":"-sphere-ver")}else{return c+("horizontal"==this._orient?"-hor":"-ver")}}},doMouseOver_:function(c){jq(this.$n("btn")).addClass(this.getZclass()+"-btn-over");this.$supers("doMouseOver_",arguments)},doMouseOut_:function(c){jq(this.$n("btn")).removeClass(this.getZclass()+"-btn-over");this.$supers("doMouseOut_",arguments)},onup_:function(c){var d=zul.inp.Slider.down_btn,e;if(d){e=zk.Widget.$(d);var f=e.getZclass();jq(d).removeClass(f+"-btn-drag").removeClass(f+"-btn-over")}zul.inp.Slider.down_btn=null;if(e){jq(document).unbind("zmouseup",e.onup_)}},doMouseDown_:function(c){var d=this.$n("btn");jq(d).addClass(this.getZclass()+"-btn-drag");jq(document).bind("zmouseup",this.onup_);zul.inp.Slider.down_btn=d;this.$supers("doMouseDown_",arguments)},doClick_:function(d){var f=jq(this.$n("btn")),j=f.zk.revisedOffset(),i=this,e=this._pageIncrement,c=e<0,h=this.isVertical(),g=h?d.pageY-j[1]:d.pageX-j[0];if(!f[0]||f.is(":animated")){return}if(!c){this._curpos+=g>0?e:-e;g=null}f.animate(b(this,g),"slow",function(){j=c?i._realpos():i._curpos;if(j>i._maxpos){j=i._maxpos}i.fire("onScroll",j);if(c){i._fixPos()}});this.$supers("doClick_",arguments)},_makeDraggable:function(){this._drag=new zk.Draggable(this,this.$n("btn"),{constraint:this._orient||"horizontal",starteffect:this._startDrag,change:this._dragging,endeffect:this._endDrag})},_snap:function(d,g){var e=this.$n("btn"),f=zk(this.$n()).cmOffset();f=zk(e).toStyleOffset(f[0],f[1]);if(d<=f[0]){d=f[0]}else{var c=f[0]+this._getWidth();if(d>c){d=c}}if(g<=f[1]){g=f[1]}else{var c=f[1]+this._getHeight();if(g>c){g=c}}return[d,g]},_startDrag:function(d){var c=d.control;c.$n("btn").title="";c.slidepos=c._curpos,vert=c.isVertical(),cls=vert?"z-slider-ver-pp":"z-slider-hor-pp";jq(document.body).append('<div id="zul_slidetip" class="z-slider-pp '+cls+'"style="position:absolute;display:none;z-index:60000;background-color:white;border: 1px outset">'+c.slidepos+"</div>");c.slidetip=jq("#zul_slidetip")[0];if(c.slidetip){c.slidetip.style.display="block";zk(c.slidetip).position(c.$n(),c.isVertical()?"end_before":"after_start")}},_dragging:function(d){var c=d.control,e=c._realpos();if(e!=c.slidepos){if(e>c._maxpos){e=c._maxpos}c.slidepos=e;if(c.slidetip){c.slidetip.innerHTML=c._slidingtext.replace(/\{0\}/g,e)}c.fire("onScrolling",e)}c._fixPos()},_endDrag:function(d){var c=d.control,e=c._realpos();c.fire("onScroll",e);c._fixPos();jq(c.slidetip).remove();c.slidetip=null},_realpos:function(h){var c=zk(this.$n("btn")).cmOffset(),g=zk(this.getRealNode()).cmOffset(),e=this._maxpos,i;if(this.isVertical()){var d=this._getHeight();i=d?Math.round(((c[1]-g[1])*e)/d):0}else{var f=this._getWidth();i=f?Math.round(((c[0]-g[0])*e)/f):0}return this._curpos=(i>=0?i:0)},_getWidth:function(){return this.getRealNode().clientWidth-this.$n("btn").offsetWidth+7},_getHeight:function(){return this.getRealNode().clientHeight-this.$n("btn").offsetHeight+7},_fixHgh:function(){if(this.isVertical()){this.$n("btn").style.top="0px";var c=this.$n("inner"),d=this.getRealNode().clientHeight;if(d>0){c.style.height=(d+7)+"px"}else{c.style.height="214px"}}},_fixPos:function(){this.$n("btn").style[this.isVertical()?"top":"left"]=jq.px0(a(this))},onSize:function(){this._fixHgh();this._fixPos()},inScaleMold:function(){return this.getMold()=="scale"},inSphereMold:function(){return this.getMold()=="sphere"},isVertical:function(){return"vertical"==this._orient},updateFormData:function(c){if(this._name){c=c||0;if(!this.efield){this.efield=jq.newHidden(this._name,c,this.$n())}else{this.efield.value=c}}},getRealNode:function(){return this.inScaleMold()&&this.isVertical()?this.$n("real"):this.$n()},bind_:function(){this.$supers(zul.inp.Slider,"bind_",arguments);this._fixHgh();this._makeDraggable();zWatch.listen({onSize:this});this.updateFormData(this._curpos);this._fixPos()},unbind_:function(){this.efield=null;if(this._drag){this._drag.destroy();this._drag=null}zWatch.unlisten({onSize:this});this.$supers(zul.inp.Slider,"unbind_",arguments)}})})();
zkreg('zul.inp.Slider');zk._m={};
zk._m['scale']=function(b){var e=this.getZclass(),d=this.isVertical(),a=this.inScaleMold()&&!d,c=this.uuid;if(a){b.push('<div id="',c,'" class="',e,'-tick" style="',this.domStyle_({height:true}),'">');this.uuid+="-real"}b.push("<div",this.domAttrs_(d?{width:true}:{height:true}),">");if(a){this.uuid=c}b.push('<div id="',c,'-inner" class="',e,'-center">','<div id="',c,'-btn" class="',e,'-btn">',"</div></div></div>");if(a){b.push("</div>")}};
;zk._m['sphere']=[zk._p.p.Slider,'scale'];zk._m['default']=[zk._p.p.Slider,'scale'];zkmld(zk._p.p.Slider,zk._m);zul.inp.Spinner=zk.$extends(zul.inp.NumberInputWidget,{_value:0,_step:1,_buttonVisible:true,$define:{step:_zkf=function(){},buttonVisible:function(a){var d=this.$n("btn"),b=this.getZclass();if(!d){return}if(!this.inRoundedMold()){if(!this._inplace||!a){jq(d)[a?"show":"hide"]()}else{d.style.display=""}jq(this.getInputNode())[a?"removeClass":"addClass"](b+"-right-edge")}else{var c=a?"removeClass":"addClass";jq(d)[c](b+"-btn-right-edge");if(zk.ie6_){jq(d)[c](b+(this._readonly?"-btn-right-edge-readonly":"-btn-right-edge"));if(jq(this.getInputNode()).hasClass(b+"-text-invalid")){jq(d)[c](b+"-btn-right-edge-invalid")}}}this.onSize()}},getZclass:function(){var a=this._zclass;return a!=null?a:"z-spinner"+(this.inRoundedMold()?"-rounded":"")},isButtonVisible:function(){return _buttonVisible},intValue:function(){return this.$supers("getValue",arguments)},setConstraint:function(a){if(typeof a=="string"&&a.charAt(0)!="["){var b=new zul.inp.SimpleSpinnerConstraint(a);this._min=b._min;this._max=b._max;this.$supers("setConstraint",[b])}else{this.$supers("setConstraint",arguments)}},coerceFromString_:function(a){if(!a){return null}var b=zk.fmt.Number.unformat(this._format,a,false,this._localizedSymbols),c=parseInt(b.raw,10);if(isNaN(c)||(b.raw!=""+c&&b.raw!="-"+c)){return{error:zk.fmt.Text.format(msgzul.INTEGER_REQUIRED,a)}}if(c>2147483647||c<-2147483648){return{error:zk.fmt.Text.format(msgzul.OUT_OF_RANGE+"(2147483648 - 2147483647)")}}if(b.divscale){c=Math.round(c/Math.pow(10,b.divscale))}return c},coerceToString_:function(b){var a=this._format;return a?zk.fmt.Number.format(a,b,this._rounding,this._localizedSymbols):b!=null?""+b:""},onSize:function(){var a=this.getWidth();if(!a||a.indexOf("%")!=-1){this.getInputNode().style.width=""}this.syncWidth()},onHide:zul.inp.Textbox.onHide,validate:zul.inp.Intbox.validate,doKeyDown_:function(a){var b=this.getInputNode();if(b.disabled||b.readOnly){return}switch(a.keyCode){case 38:this.checkValue();this._increase(true);a.stop();return;case 40:this.checkValue();this._increase(false);a.stop();return}this.$supers("doKeyDown_",arguments)},_ondropbtnup:function(a){var b=this.getZclass();jq(this.$n("btn")).removeClass(b+"-btn-clk");if(!this.inRoundedMold()){jq(this._currentbtn).removeClass(b+"-btn-up-clk");jq(this._currentbtn).removeClass(b+"-btn-down-clk")}this.domUnlisten_(document.body,"onZMouseUp","_ondropbtnup");this._currentbtn=null},_btnDown:function(b){var d=this.inRoundedMold();if(d&&!this._buttonVisible){return}if(this.getInputNode().disabled){return}var c=this.$n("btn"),g=this.getZclass();if(!zk.dragging){if(this._currentbtn){this.ondropbtnup(b)}jq(c).addClass(g+"-btn-clk");this.domListen_(document.body,"onZMouseUp","_ondropbtnup");this._currentbtn=c}this.checkValue();var e=zk(c).revisedOffset(),a=(b.pageY-e[1])<c.offsetHeight/2;if(a){this._increase(true);this._startAutoIncProc(true)}else{this._increase(false);this._startAutoIncProc(false)}var f=d?"":a?"-up":"-down";if((c=this.$n("btn"+f))&&!d){jq(c).addClass(g+"-btn"+f+"-clk");this._currentbtn=c}b.stop()},checkValue:function(){var c=this.getInputNode(),b=this._min,a=this._max;if(!c.value){if(b&&a){c.value=(b<=0&&0<=a)?0:b}else{if(b){c.value=b<=0?0:b}else{if(a){c.value=0<=a?0:a}else{c.value=0}}}}},_btnUp:function(b){if(this.inRoundedMold()&&!this._buttonVisible){return}var c=this.getInputNode();if(c.disabled){return}this._onChanging();this._stopAutoIncProc();if(zk.ie){var a=c.value.length;zk(c).setSelectionRange(a,a)}c.focus()},_btnOut:function(a){if(this.inRoundedMold()&&!this._buttonVisible){return}var b=this.getInputNode();if(!b.disabled&&!zk.dragging){jq(this.$n("btn")).removeClass(this.getZclass()+"-btn-over")}if(b.disabled){return}this._stopAutoIncProc()},_btnOver:function(a){if(this.inRoundedMold()&&!this._buttonVisible){return}if(!this.getInputNode().disabled&&!zk.dragging){jq(this.$n("btn")).addClass(this.getZclass()+"-btn-over")}},_increase:function(b){var c=this.getInputNode(),d=parseInt(c.value,10),a=b?(d+this._step):(d-this._step);if(a>Math.pow(2,31)-1){a=Math.pow(2,31)-1}else{if(a<-Math.pow(2,31)){a=-Math.pow(2,31)}}if(this._max!=null&&a>this._max){a=d}else{if(this._min!=null&&a<this._min){a=d}}c.value=a;this._onChanging()},_clearValue:function(){this.getInputNode().value=this._defRawVal="";return true},_startAutoIncProc:function(a){var b=this;if(this.timerId){clearInterval(this.timerId)}this.timerId=setInterval(function(){b._increase(a)},200)},_stopAutoIncProc:function(){if(this.timerId){clearTimeout(this.timerId)}this.timerId=null},syncWidth:function(){zul.inp.RoundUtl.syncWidth(this,this.$n("btn"))},doFocus_:function(a){var b=this.$n();if(this._inplace){b.style.width=jq.px0(zk(b).revisedWidth(b.offsetWidth))}this.$supers("doFocus_",arguments);if(this._inplace){if(jq(b).hasClass(this.getInplaceCSS())){jq(b).removeClass(this.getInplaceCSS());this.onSize()}}},doBlur_:function(a){var b=this.$n();if(this._inplace&&this._inplaceout){b.style.width=jq.px0(zk(b).revisedWidth(b.offsetWidth))}this.$supers("doBlur_",arguments);if(this._inplace&&this._inplaceout){jq(b).addClass(this.getInplaceCSS());this.onSize();b.style.width=this.getWidth()||""}},afterKeyDown_:function(a,b){if(!b&&this._inplace){jq(this.$n()).toggleClass(this.getInplaceCSS(),a.keyCode==13?null:false)}return this.$supers("afterKeyDown_",arguments)},bind_:function(){this.$supers(zul.inp.Spinner,"bind_",arguments);this.timeId=null;if(this._inplace){jq(this.getInputNode()).addClass(this.getInplaceCSS())}var a;if(a=this.$n("btn")){this.domListen_(a,"onZMouseDown","_btnDown").domListen_(a,"onZMouseUp","_btnUp").domListen_(a,"onMouseOut","_btnOut").domListen_(a,"onMouseOver","_btnOver")}zWatch.listen({onSize:this})},unbind_:function(){if(this.timerId){clearTimeout(this.timerId);this.timerId=null}zWatch.unlisten({onSize:this});var a=this.$n("btn");if(a){this.domUnlisten_(a,"onZMouseDown","_btnDown").domUnlisten_(a,"onZMouseUp","_btnUp").domUnlisten_(a,"onMouseOut","_btnOut").domUnlisten_(a,"onMouseOver","_btnOver")}this.$supers(zul.inp.Spinner,"unbind_",arguments)}});
zkreg('zul.inp.Spinner');zk._m={};
zk._m['rounded']=function(a){var e=this.getZclass(),d=this.uuid,b=this.inRoundedMold(),c=this._buttonVisible;a.push("<i",this.domAttrs_({text:true}),">",'<input id="',d,'-real"','class="',e,"-inp");if(!c){a.push(" ",e,"-right-edge")}a.push('"',this.textAttrs_(),"/>",'<i id="',d,'-btn"','class="',e,"-btn");if(b){if(!c){a.push(" ",e,"-btn-right-edge")}if(this._readonly){a.push(" ",e,"-btn-readonly")}if(zk.ie6_&&!c&&this._readonly){a.push(" ",e,"-btn-right-edge-readonly")}}else{if(!c){a.push('" style="display:none')}}a.push('">');if(!b){a.push('<div id="',d,'-btn-up" class="',e,'-btn-upper"><div class="',e,'-btn-up-icon"></div></div>','<div id="',d,'-btn-down" class="',e,'-btn-lower"><div class="',e,'-btn-down-icon"></div></div>')}else{a.push('<div class="',e,'-btn-icon"></div>')}a.push("</i></i>")};
;zk._m['default']=[zk._p.p.Spinner,'rounded'];zkmld(zk._p.p.Spinner,zk._m);(function(){function b(d,f){var g=""+d,e=g.indexOf(f);return e<0?0:g.length-e-1}function a(i,h,g,e){var f;if(g){f=Math.pow(10,g);i*=f;h*=f;i=Math.round(i);h=Math.round(h)}var d=e?i+h:i-h;if(g){d/=f}return d}function c(h,g){var e=h._localizedSymbols?h._localizedSymbols.DECIMAL:zk.DECIMAL,f=b(h._step,e),d=b(g||h._value,e);h._fixedDigits=Math.max(f,d)}zul.inp.Doublespinner=zk.$extends(zul.inp.NumberInputWidget,{_value:0,_step:1,_buttonVisible:true,$define:{step:function(d){c(this)},buttonVisible:function(d){var g=this.$n("btn"),e=this.getZclass();if(!g){return}if(!this.inRoundedMold()){if(!this._inplace||!d){jq(g)[d?"show":"hide"]()}else{g.style.display=""}jq(this.getInputNode())[d?"removeClass":"addClass"](e+"-right-edge")}else{var f=d?"removeClass":"addClass";jq(g)[f](e+"-btn-right-edge");if(zk.ie6_){jq(g)[f](e+(this._readonly?"-btn-right-edge-readonly":"-btn-right-edge"));if(jq(this.getInputNode()).hasClass(e+"-text-invalid")){jq(g)[f](e+"-btn-right-edge-invalid")}}}this.onSize();return}},getZclass:function(){var d=this._zclass;return d!=null?d:"z-doublespinner"+(this.inRoundedMold()?"-rounded":"")},isButtonVisible:function(){return _buttonVisible},doubleValue:function(){return this.$supers("getValue",arguments)},setConstraint:function(d){if(typeof d=="string"&&d.charAt(0)!="["){var e=new zul.inp.SimpleDoubleSpinnerConstraint(d);this._min=e._min;this._max=e._max;this.$supers("setConstraint",[e])}else{this.$supers("setConstraint",arguments)}},coerceFromString_:function(l){if(!l){return null}var f=zk.fmt.Number.unformat(this._format,l,false,this._localizedSymbols),m=f.raw,e=parseFloat(m),g=""+e,k=g.indexOf("."),i=m.indexOf(".");if(isNaN(e)||g.indexOf("e")<0){if(i==0){m="0"+m;++i}if(i>=0&&m.substring(m.substring(i+1))&&k<0){k=g.length;g+="."}var h=m.length,d=g.length;if(k>=0&&k<i){d-=k;h-=i;for(var j=i-k;j-->0;){g="0"+g}}if(d<h){for(var j=h-d;j-->0;){g+="0"}}if(isNaN(e)||(m!=g&&m!="-"+g&&m.indexOf("e")<0)){return{error:zk.fmt.Text.format(msgzul.NUMBER_REQUIRED,l)}}}if(f.divscale){e=e/Math.pow(10,f.divscale)}c(this,e);return e},coerceToString_:function(e){var d=this._format,f=this._localizedSymbols?this._localizedSymbols.DECIMAL:zk.DECIMAL;return e==null?"":d?zk.fmt.Number.format(d,e,this._rounding,this._localizedSymbols):f=="."?(""+e):(""+e).replace(".",f)},onSize:function(){var d=this.getWidth();if(!d||d.indexOf("%")!=-1){this.getInputNode().style.width=""}this.syncWidth()},onHide:zul.inp.Textbox.onHide,validate:zul.inp.Doublebox.validate,doKeyDown_:function(d){var e=this.getInputNode();if(e.disabled||e.readOnly){return}switch(d.keyCode){case 38:this.checkValue();this._increase(true);d.stop();return;case 40:this.checkValue();this._increase(false);d.stop();return}this.$supers("doKeyDown_",arguments)},_ondropbtnup:function(d){var e=this.getZclass();jq(this.$n("btn")).removeClass(e+"-btn-clk");if(!this.inRoundedMold()){jq(this._currentbtn).removeClass(e+"-btn-up-clk");jq(this._currentbtn).removeClass(e+"-btn-down-clk")}this.domUnlisten_(document.body,"onZMouseUp","_ondropbtnup");this._currentbtn=null},_btnDown:function(e){var g=this.inRoundedMold();if(g&&!this._buttonVisible){return}if(this.getInputNode().disabled){return}var f=this.$n("btn"),j=this.getZclass();if(!zk.dragging){if(this._currentbtn){this.ondropbtnup(e)}jq(f).addClass(j+"-btn-clk");this.domListen_(document.body,"onZMouseUp","_ondropbtnup");this._currentbtn=f}this.checkValue();var h=zk(f).revisedOffset(),d=(e.pageY-h[1])<f.offsetHeight/2;if(d){this._increase(true);this._startAutoIncProc(true)}else{this._increase(false);this._startAutoIncProc(false)}var i=g?"":d?"-up":"-down";if((f=this.$n("btn"+i))&&!g){jq(f).addClass(j+"-btn"+i+"-clk");this._currentbtn=f}e.stop()},checkValue:function(){var f=this.getInputNode(),e=this._min,d=this._max;if(!f.value){if(e&&d){f.value=(e<=0&&0<=d)?0:e}else{if(e){f.value=e<=0?0:e}else{if(d){f.value=0<=d?0:d}else{f.value=0}}}}},_btnUp:function(e){if(this.inRoundedMold()&&!this._buttonVisible){return}var f=this.getInputNode();if(f.disabled){return}this._onChanging();this._stopAutoIncProc();if(zk.ie){var d=f.value.length;zk(f).setSelectionRange(d,d)}f.focus()},_btnOut:function(d){if(this.inRoundedMold()&&!this._buttonVisible){return}var e=this.getInputNode();if(!e.disabled&&!zk.dragging){jq(this.$n("btn")).removeClass(this.getZclass()+"-btn-over")}if(e.disabled){return}this._stopAutoIncProc()},_btnOver:function(d){if(this.inRoundedMold()&&!this._buttonVisible){return}if(!this.getInputNode().disabled&&!zk.dragging){jq(this.$n("btn")).addClass(this.getZclass()+"-btn-over")}},_increase:function(g){var f=this.getInputNode(),h=this.coerceFromString_(f.value),e=Math.max(b(h),this._fixedDigits),d=a(h,this._step,e,g);if(d>Math.pow(2,63)-1){d=Math.pow(2,63)-1}else{if(d<-Math.pow(2,63)){d=-Math.pow(2,63)}}if(this._max!=null&&d>this._max){d=h}else{if(this._min!=null&&d<this._min){d=h}}f.value=this.coerceToString_(d);this._onChanging()},_clearValue:function(){this.getInputNode().value=this._defRawVal="";return true},_startAutoIncProc:function(d){var e=this;if(this.timerId){clearInterval(this.timerId)}this.timerId=setInterval(function(){e._increase(d)},200)},_stopAutoIncProc:function(){if(this.timerId){clearTimeout(this.timerId)}this.timerId=null},syncWidth:function(){zul.inp.RoundUtl.syncWidth(this,this.$n("btn"))},doFocus_:function(d){var e=this.$n();if(this._inplace){e.style.width=jq.px0(zk(e).revisedWidth(e.offsetWidth))}this.$supers("doFocus_",arguments);if(this._inplace){if(jq(e).hasClass(this.getInplaceCSS())){jq(e).removeClass(this.getInplaceCSS());this.onSize()}}},doBlur_:function(d){var e=this.$n();if(this._inplace&&this._inplaceout){e.style.width=jq.px0(zk(e).revisedWidth(e.offsetWidth))}this.$supers("doBlur_",arguments);if(this._inplace&&this._inplaceout){jq(e).addClass(this.getInplaceCSS());this.onSize();e.style.width=this.getWidth()||""}},afterKeyDown_:function(d,e){if(!e&&this._inplace){jq(this.$n()).toggleClass(this.getInplaceCSS(),d.keyCode==13?null:false)}return this.$supers("afterKeyDown_",arguments)},getAllowedKeys_:function(){var d=this._localizedSymbols;return this.$supers("getAllowedKeys_",arguments)+(d?d:zk).DECIMAL+"e"},bind_:function(){this.$supers(zul.inp.Doublespinner,"bind_",arguments);this.timeId=null;if(this._inplace){jq(this.getInputNode()).addClass(this.getInplaceCSS())}var d;if(d=this.$n("btn")){this.domListen_(d,"onZMouseDown","_btnDown").domListen_(d,"onZMouseUp","_btnUp").domListen_(d,"onMouseOut","_btnOut").domListen_(d,"onMouseOver","_btnOver")}zWatch.listen({onSize:this})},unbind_:function(){if(this.timerId){clearTimeout(this.timerId);this.timerId=null}zWatch.unlisten({onSize:this});var d=this.$n("btn");if(d){this.domUnlisten_(d,"onZMouseDown","_btnDown").domUnlisten_(d,"onZMouseUp","_btnUp").domUnlisten_(d,"onMouseOut","_btnOut").domUnlisten_(d,"onMouseOver","_btnOver")}this.$supers(zul.inp.Doublespinner,"unbind_",arguments)}})})();
zkreg('zul.inp.Doublespinner');zk._m={};
zk._m['rounded']=[zk._p.p.Spinner,'rounded'];zk._m['default']=[zk._p.p.Spinner,'rounded'];zkmld(zk._p.p.Doublespinner,zk._m);
}finally{zk.setLoaded(zk._p.n);}});zk.setLoaded('zul.inp',1);
zk.load('zul,zul.wgt',function(){if(zk._p=zkpi('zul.box'))try{
zul.box.Layout=zk.$extends(zk.Widget,{_spacing:"0.3em",$define:{spacing:function(){var c=this.$n(),a=this.isVertical_(),b=this._spacing;if(c){jq(c).children("div:not(:last-child)").css("padding-"+(a?"bottom":"right"),(b&&b!="auto")?b:"")}}},_chdextr:function(a){return a.$n("chdex")||a.$n()},insertChildHTML_:function(e,b,d){if(b){jq(this._chdextr(b)).before(this.encloseChildHTML_(e))}else{var c=jq(this.$n()),a=this._spacing;c.children("div:last-child").css("padding-"+(this.isVertical_()?"bottom":"right"),(a&&a!="auto")?a:"");c.append(this.encloseChildHTML_(e))}e.bind(d)},bind_:function(){this.$supers(zul.box.Layout,"bind_",arguments);zWatch.listen({onResponse:this})},unbind_:function(){zWatch.unlisten({onResponse:this});this.$supers(zul.box.Layout,"unbind_",arguments)},syncSize:function(){this._shallSize=false;if(this.desktop){for(var a=this.firstChild;a;a=a.nextSibling){if(a._nvflex||a._nhflex){zUtl.fireSized(this);break}}}},onResponse:function(){if(this._shallSize){this.syncSize()}},onChildAdded_:function(){this.$supers("onChildAdded_",arguments);this._shallSize=true},onChildRemoved_:function(){this.$supers("onChildRemoved_",arguments);this._shallSize=true},removeChildHTML_:function(b){this.$supers("removeChildHTML_",arguments);jq(b.uuid+"-chdex",zk).remove();var a=this.lastChild==b;if(this._spacing!="auto"&&this.lastChild==b){jq(this.$n()).children("div:last-child").css("padding-"+(this.isVertical_()?"bottom":"right"),"")}},encloseChildHTML_:function(g,e){var b=[],c=this.isVertical_(),f=this._spacing;b.push('<div id="',g.uuid,'-chdex" class="',this.getZclass(),'-inner"');if(f&&f!="auto"&&g.nextSibling){b.push(' style="padding-'+(c?"bottom:":"right:")+f+'"')}b.push(">");g.redraw(b);b.push("</div>");if(!e){return b.join("")}for(var d=0,a=b.length;d<a;++d){e.push(b[d])}},isVertical_:zk.$void,_resetBoxSize:function(){var g=this.isVertical_();for(var e=this.firstChild;e;e=e.nextSibling){if(g?(e._nvflex&&e.getVflex()!="min"):(e._nhflex&&e.getHflex()!="min")){e.setFlexSize_({height:"",width:""});var i=e.$n("chdex");if(i){i.style.height="";i.style.width=""}}}var b=this.$n(),f=zk(b),k=b.offsetHeight,c=b.offsetWidth,j=this._vflexsz!==undefined?this._vflexsz-f.sumStyles("tb",jq.margins):k,a=this._hflexsz!==undefined?this._hflexsz-f.sumStyles("lr",jq.margins):c;if(f.hasHScroll()){k-=jq.scrollbarWidth()}if(f.hasVScroll()){c-=jq.scrollbarWidth()}var d=f.revisedHeight(j<k?j:k),h=f.revisedWidth(a<c?a:c);return f?{height:d,width:h}:{}},afterResetChildSize_:function(b){for(var a=this.firstChild;a;a=a.nextSibling){var c=a.$n("chdex");if(c){if(b=="h"){c.style.height=""}if(b=="w"){c.style.width=""}}}},resetSize_:function(c){this.$supers(zul.box.Layout,"resetSize_",arguments);var b=this.isVertical_();for(var a=this.firstChild;a;a=a.nextSibling){if(b?(a._nvflex&&a.getVflex()!="min"):(a._nhflex&&a.getHflex()!="min")){var d=a.$n("chdex");if(d){if(c=="h"){d.style.height=""}if(c=="w"){d.style.width=""}}}}},getChildMinSize_:function(a,c){var b=c.$n().parentNode;return a=="h"?zk(b).offsetHeight():zjq.minWidth(b)},beforeChildrenFlex_:function(f){this._shallSize=false;if(f._flexFixed||(!f._nvflex&&!f._nhflex)){delete f._flexFixed;return false}f._flexFixed=true;var r=this.isVertical_(),t=[],y=r?0:1,a=[],v=!r?0:1,k=f.$n("chdex").parentNode,i=this._resetBoxSize(),h=i.height,m=i.width,o=k.firstChild;for(;o;o=o.nextSibling){var w=o.id&&o.id.endsWith("-chdex")?o.firstChild:o,s=zk(w);if(s.isVisible()){var q=w.id?w.id.indexOf("-"):1,e=q<0?zk.Widget.$(w.id):null,d=zk(o);if(e&&e._nvflex){if(e!==f){e._flexFixed=true}if(e._vflex=="min"){e.fixMinFlex_(w,"h");o.style.height=jq.px0(d.revisedHeight(w.offsetHeight+s.sumStyles("tb",jq.margins)));if(r){h-=o.offsetHeight+d.sumStyles("tb",jq.margins)}}else{t.push(e);if(r){y+=e._nvflex;h=d.revisedHeight(h,true)}}}else{if(r){h-=o.offsetHeight+d.sumStyles("tb",jq.margins)}}if(e&&e._nhflex){if(e!==f){e._flexFixed=true}if(e._hflex=="min"){e.fixMinFlex_(w,"w");o.style.width=jq.px0(d.revisedWidth(w.offsetWidth+s.sumStyles("lr",jq.margins)));if(!r){m-=o.offsetWidth+d.sumStyles("lr",jq.margins)}}else{a.push(e);if(!r){v+=e._nhflex;m=d.revisedWidth(m,true)}}}else{if(!r){m-=o.offsetWidth+d.sumStyles("lr",jq.margins)}}}}var x=h>0?h:0;for(var q=t.length;--q>0;){var e=t.shift(),u=(r?(e._nvflex*h/y):h)|0,g=e.$n().offsetTop,l=u-((zk.ie&&g>0)?(g*2):(zk.ie<8?1:0));e.setFlexSize_({height:l});e._vflexsz=u;var n=e.$n("chdex");n.style.height=jq.px0(u);if(r){x-=u}}if(t.length){var e=t.shift(),g=e.$n().offsetTop,l=x-((zk.ie&&g>0)?(g*2):(zk.ie<8?1:0));e.setFlexSize_({height:l});e._vflexsz=x;var n=e.$n("chdex");n.style.height=jq.px0(x)}x=m>0?m:0;for(var q=a.length;--q>0;){var e=a.shift(),b=(r?m:(e._nhflex*m/v))|0;e.setFlexSize_({width:b});e._hflexsz=b;var n=e.$n("chdex");n.style.width=jq.px0(b);if(!r){x-=b}}if(a.length){var e=a.shift();e.setFlexSize_({width:x});e._hflexsz=x;var n=e.$n("chdex");n.style.width=jq.px0(x)}f.parent.afterChildrenFlex_(f);f._flexFixed=false;return false},afterChildrenMinFlex_:function(f){var g=this.$n();if(f=="h"){if(this.isVertical_()){var e=0;for(var b=g.firstChild;b;b=b.nextSibling){if(b.firstChild.style.height){b.style.height=jq.px0(b.firstChild.offsetHeight+zk(b.firstChild).sumStyles("tb",jq.margins))}e+=b.offsetHeight}g.style.height=jq.px0(e)}else{var a=0;for(var b=g.firstChild;b;b=b.nextSibling){var d=b.firstChild.offsetHeight;if(d>a){a=d}}g.style.height=jq.px0(a)}}else{if(!this.isVertical_()){var e=0;for(var b=g.firstChild;b;b=b.nextSibling){if(b.firstChild.style.width){b.style.width=jq.px0(b.firstChild.offsetWidth+zk(b.firstChild).sumStyles("lr",jq.margins))}e+=b.offsetWidth}if(zk.ie9&&this._hflexsz){e=Math.max(this._hflexsz,e)}g.style.width=jq.px0(e)}else{var a=0;for(var b=g.firstChild;b;b=b.nextSibling){var c=b.firstChild.offsetWidth;if(c>a){a=c}}g.style.width=jq.px0(a)}}}});
(function(){function d(e){return e&&e.startsWith("0")&&(e.length==1||zUtl.isChar(e.charAt(1),{digit:1}))}function c(i,l){var e=[],k=i._spacing,j=d(k),g=i.isVertical(),f=k&&k!="auto"?(g?"height:":"width:")+k:"";e.push("<t",g?"r":"d",' id="',l.uuid,'-chdex2" class="',i.getZclass(),'-sep"');var h=f;if(j||!l.isVisible()){h="display:none;"+h}if(h){e.push(' style="',h,'"')}e.push(">",g?"<td>":"",zUtl.img0,g?"</td></tr>":"</td>");return e.join("")}function a(){var j=this.isVertical();if(this._isStretchAlign()||(j&&this._nhflex)||(!j&&this._nvflex)){for(var f=this.firstChild;f;f=f.nextSibling){if(f.isVisible()){var n=f.$n();if(j){if(f._nhflex&&f._nhflex>0){f.setFlexSize_({width:"auto"})}else{if(n&&this._isStretchAlign()){var k=n.style.width;if(k){var i=n.offsetWidth;n.style.width="";if(n.offsetWidth>i){n.style.width=k}}}}if(!f.$instanceof(zul.wgt.Cell)&&this._nhflex){var l=f.$n("chdex");l.style.width=""}}else{if(f._nvflex&&f._nvflex>0){f.setFlexSize_({height:"auto"})}else{if(n&&this._isStretchAlign()){var m=n.style.height;if(m){var e=n.offsetHeight;n.style.height="";if(n.offsetHeight>e){n.style.height=m}}}}if(!f.$instanceof(zul.wgt.Cell)&&this._nvflex){var l=f.$n("chdex");l.style.height=""}}}}}var g;if(zk.safari&&!j&&(g=this.$n().style.height)){var h=this.$n("frame");h.style.height="";h.style.height=g.indexOf("%")>0?jq.px0(h.offsetHeight):g}}var b=zul.box.Box=zk.$extends(zul.Widget,{_mold:"vertical",_align:"start",_pack:"start",_sizedByContent:true,$define:{align:_zkf=function(){this.rerender()},pack:_zkf,spacing:_zkf,sizedByContent:_zkf,widths:_zkf=function(e){this._sizes=e;this.rerender()}},setHeights:function(e){this.setWidths(e)},getHeights:function(){return this.getWidths()},isVertical:function(){return"vertical"==this._mold},getOrient:function(){return this._mold},getZclass:function(){var e=this._zclass;return e!=null?e:this.isVertical()?"z-vbox":"z-hbox"},onChildVisible_:function(e){this.$supers("onChildVisible_",arguments);if(this.desktop){this._fixChildDomVisible(e,e._visible)}},replaceChildHTML_:function(f){this.$supers("replaceChildHTML_",arguments);this._fixChildDomVisible(f,f._visible);if(f.$instanceof(zul.box.Splitter)){var e=this._chdextr(f);if(e){e.style.height="";e.style.width=""}zUtl.fireSized(this,-1)}},_fixChildDomVisible:function(g,e){var f=this._chdextr(g);if(f){f.style.display=e?"":"none"}f=g.$n("chdex2");if(f){f.style.display=e&&!d(this._spacing)?"":"none"}if(this.lastChild==g){f=g.previousSibling;if(f){f=f.$n("chdex2");if(f){f.style.display=e?"":"none"}}}},_chdextr:function(e){return e.$n("chdex")||e.$n()},insertChildHTML_:function(i,f,h){if(f){jq(this._chdextr(f)).before(this.encloseChildHTML_(i))}else{var g=this.$n("real"),e=g.tBodies;if(!e||!e.length){g.appendChild(document.createElement("tbody"))}jq(this.isVertical()?e[0]:e[0].rows[0]).append(this.encloseChildHTML_(i,true))}i.bind(h)},removeChildHTML_:function(f){this.$supers("removeChildHTML_",arguments);jq(f.uuid+"-chdex",zk).remove();jq(f.uuid+"-chdex2",zk).remove();var e;if(this.lastChild==f&&(e=f.previousSibling)){jq(e.uuid+"-chdex2",zk).remove()}},encloseChildHTML_:function(e,k,g){var m=[],i=e.$instanceof(zul.wgt.Cell);if(this.isVertical()){m.push('<tr id="',e.uuid,'-chdex"',this._childOuterAttrs(e),">");if(!i){m.push("<td",this._childInnerAttrs(e));var n=this.getAlign();if(n&&n!="stretch"){m.push(' align="',zul.box.Box._toHalign(n),'"')}m.push(">")}e.redraw(m);if(!i){m.push("</td>")}m.push("</tr>")}else{if(!i){m.push('<td id="',e.uuid,'-chdex"',this._childOuterAttrs(e),this._childInnerAttrs(e),">")}e.redraw(m);if(!i){m.push("</td>")}}if(e.nextSibling){m.push(c(this,e))}else{if(k){var f=e.previousSibling;if(f){m.unshift(c(this,f))}}}if(!g){return m.join("")}for(var h=0,l=m.length;h<l;++h){g.push(m[h])}},_resetBoxSize:function(){var n=this.isVertical(),i=-1,j=this._sizes;if(n){for(var l=this.firstChild;l;l=l.nextSibling){if(j&&!l.$instanceof(zul.box.Splitter)&&!l.$instanceof(zul.wgt.Cell)){++i}if(l._nvflex&&l.getVflex()!="min"){l.setFlexSize_({height:"",width:""});var q=l.$n("chdex");if(q){q.style.height=j&&i<j.length?j[i]:"";q.style.width=""}}}}else{for(var l=this.firstChild;l;l=l.nextSibling){if(j&&!l.$instanceof(zul.box.Splitter)&&!l.$instanceof(zul.wgt.Cell)){++i}if(l._nhflex&&l.getHflex()!="min"){l.setFlexSize_({height:"",width:""});var q=l.$n("chdex");if(q){q.style.width=j&&i<j.length?j[i]:"";q.style.height=""}}}}var g=this.$n(),m=zk(g),s=g.offsetHeight,f=g.offsetWidth,r=this._vflexsz!==undefined?this._vflexsz-m.sumStyles("tb",jq.margins):s,e=this._hflexsz!==undefined?this._hflexsz-m.sumStyles("lr",jq.margins):f,h=m.revisedHeight(r<s?r:s),o=m.revisedWidth(e<f?e:f);return m?{height:h,width:o}:{}},resetSize_:function(i){this.$supers(zul.Widget,"resetSize_",arguments);var h=this.isVertical(),g=-1,f=this._sizes;if(h){for(var e=this.firstChild;e;e=e.nextSibling){if(f&&!e.$instanceof(zul.box.Splitter)&&!e.$instanceof(zul.wgt.Cell)){++g}if(e._nvflex&&e.getVflex()!="min"){var j=e.$n("chdex");if(j){if(i=="h"){j.style.height=f&&g<f.length?f[g]:""}if(i=="w"){j.style.width=""}}}}}else{for(var e=this.firstChild;e;e=e.nextSibling){if(f&&!e.$instanceof(zul.box.Splitter)&&!e.$instanceof(zul.wgt.Cell)){++g}if(e._nhflex&&e.getHflex()!="min"){var j=e.$n("chdex");if(j){if(i=="w"){j.style.width=f&&g<f.length?f[g]:""}if(i=="h"){j.style.height=""}}}}}},beforeChildrenFlex_:function(l){if(l._flexFixed||(!l._nvflex&&!l._nhflex)){delete l._flexFixed;return false}l._flexFixed=true;var B=this.isVertical(),D=[],I=B?0:1,e=[],F=!B?0:1,x=l.$n("chdex"),u=x?x.parentNode:l.$n().parentNode,r=zk(u),q=this._resetBoxSize(),m=q.height,w=q.width,A=u.firstChild,y=-1,s=this._sizes;for(;A;A=A.nextSibling){var G=A.id&&A.id.endsWith("-chdex")?B?A.firstChild.id?A.firstChild:A.firstChild.firstChild:A.firstChild:A,C=zk(G),t=false;if(C.isVisible()){var z=G.id?G.id.indexOf("-"):1,i=z<0?zk.Widget.$(G.id):null;if(s&&i&&!i.$instanceof(zul.box.Splitter)&&!i.$instanceof(zul.wgt.Cell)){++y;if(y<s.length&&s[y]&&((B&&!i._nvflex)||(!B&&!i._nhflex))){G=A;C=zk(G);t=s[y].endsWith("px")}}var h=t&&B?zk.parseInt(s[y]):zk.ie&&A.id&&A.id.endsWith("-chdex2")&&A.style.height&&A.style.height.endsWith("px")?zk.parseInt(A.style.height):C.offsetHeight(),o=t&&!B?zk.parseInt(s[y]):C.offsetWidth(),n=o+C.sumStyles("lr",jq.margins),g=h+C.sumStyles("tb",jq.margins);if(i&&i._nvflex){if(i!==l){i._flexFixed=true}if(i._vflex=="min"){i.fixMinFlex_(G,"h");if(B){m-=g}}else{D.push(i);if(B){I+=i._nvflex}}}else{if(B){m-=g}}if(i&&i._nhflex){if(i!==l){i._flexFixed=true}if(i._hflex=="min"){i.fixMinFlex_(G,"w");if(!B){w-=n}}else{e.push(i);if(!B){F+=i._nhflex}}}else{if(!B){w-=n}}}}var H=m>0?m:0;for(var z=D.length-1;z>0;--z){var i=D.shift(),E=(i._nvflex*m/I)|0,v=E;i.setFlexSize_({height:v});i._vflexsz=E;if(!i.$instanceof(zul.wgt.Cell)){var x=i.$n("chdex");x.style.height=jq.px0(zk(x).revisedHeight(E,true))}if(B){H-=E}}if(D.length){var i=D.shift(),v=H;i.setFlexSize_({height:v});i._vflexsz=H;if(!i.$instanceof(zul.wgt.Cell)){var x=i.$n("chdex");x.style.height=jq.px0(zk(x).revisedHeight(H,true))}}H=w>0?w:0;for(var z=e.length-1;z>0;--z){var i=e.shift(),f=(i._nhflex*w/F)|0;i.setFlexSize_({width:f});i._hflexsz=f;if(!i.$instanceof(zul.wgt.Cell)){var x=i.$n("chdex");x.style.width=jq.px0(zk(x).revisedWidth(f,true))}if(!B){H-=f}}if(e.length){var i=e.shift();i.setFlexSize_({width:H});i._hflexsz=H;if(!i.$instanceof(zul.wgt.Cell)){var x=i.$n("chdex");x.style.width=jq.px0(zk(x).revisedWidth(H,true))}}l.parent.afterChildrenFlex_(l);l._flexFixed=false;if(zk.ie<8){zk(this).redoCSS()}return false},_childOuterAttrs:function(g){var f="";if(g.$instanceof(zul.box.Splitter)){f=' class="'+g.getZclass()+'-outer"'}else{if(this.isVertical()){if(this._isStretchPack()){var e=this._pack2;f=' valign="'+(e?zul.box.Box._toValign(e):"top")+'"'}else{f=' valign="top"'}}else{return""}}if(!g.isVisible()){f+=' style="display:none"'}return f},_childInnerAttrs:function(f){var k="",l=this.isVertical(),g=zul.box.Splitter;if(f.$instanceof(g)){return l?' class="'+f.getZclass()+'-outer-td"':""}if(this._isStretchPack()){var o=l?this.getAlign():this._pack2;if(o){k+=' align="'+zul.box.Box._toHalign(o)+'"'}}var e="",i=this._sizes;if(i){for(var h=0,m=i.length,n=this.firstChild;n&&h<m;n=n.nextSibling){if(f==n){e=(l?"height:":"width:")+i[h];break}if(!n.$instanceof(g)){++h}}}if(!l&&!f.isVisible()){e+=e?";display:none":"display:none"}if(!l){e+=e?";height:100%":"height:100%"}return e?k+' style="'+e+'"':k},_isStretchPack:function(){return this._splitterKid||this._stretchPack},_isStretchAlign:function(){return this._align=="stretch"},_bindWatch:function(){if(!this._watchBound){this._watchBound=true;zWatch.listen({onSize:this,onHide:this})}},_unbindWatch:function(){if(this._watchBound){zWatch.unlisten({onSize:this,onHide:this});delete this._watchBound}},bind_:function(){this.$supers(b,"bind_",arguments);this._bindFixTd();if(this._isStretchAlign()){this._bindAlign()}if(this._splitterKid){this._bindWatch()}},unbind_:function(){this._unbindWatch();this._unbindAlign();this._unbindFixTd();this.$supers(b,"unbind_",arguments)},_bindAlign:function(){if(!this._watchAlign){this._watchAlign=true;zWatch.listen({onSize:[this,this._fixAlign],onHide:[this,this._fixAlign]})}},_unbindAlign:function(){if(this._watchAlign){zWatch.unlisten({onSize:[this,this._fixAlign],onHide:[this,this._fixAlign]});delete this._watchAlign}},_fixAlign:function(){if(this._isStretchAlign()){var e=this.isVertical(),j=this.$n("frame"),g=zk(j),f=e?g.revisedWidth(j.offsetWidth):g.revisedHeight(j.offsetHeight);for(var i=this.firstChild,h;i;i=i.nextSibling){if(i.isVisible()&&(h=i.$n())){if(e){h.style.width=zk(h).revisedWidth(f,!zk.safari)+"px"}else{h.style.height=zk(h).revisedHeight(f-((zk.ie&&h.offsetTop>0)?(h.offsetTop*2):0),!zk.safari)+"px"}}}}},_bindFixTd:function(){if(!this._watchTd){this._watchTd=true;zWatch.listen({onSize:[this,a],onHide:[this,a]})}},_unbindFixTd:function(){if(this._watchTd){zWatch.unlisten({onSize:[this,a],onHide:[this,a]});delete this._watchTd}},_configPack:function(){var e=this._pack;if(e){var e=e.split(",");if(e[0].trim()=="stretch"){this._stretchPack=true;this._pack2=e.length>1?e[1].trim():null}else{this._stretchPack=e.length>1&&e[1].trim()=="stretch";this._pack2=e[0].trim()}}else{delete this._pack2;delete this._stretchPack}},onSize:_zkf=function(){if(!this._splitterKid){return}var h=this.isVertical(),e=this.$n(),m=this.$n("real");m.style.height=m.style.width="100%";var f=h?m.rows:m.rows[0].cells,l=h?zk(m).revisedHeight(m.offsetHeight):zk(m).revisedWidth(m.offsetWidth),o=this._sizes;for(var g=f.length;g--;){var j=f[g];if(zk(j).isVisible()){if(h){var n=j.offsetHeight;if(j.id&&!j.id.endsWith("-chdex2")){if(j.cells.length){var k=j.cells[0];k.style.height=zk(k).revisedHeight(g?n:l)+"px";j.style.height=""}else{j.style.height=zk(j).revisedHeight(g?n:l)+"px"}}l-=n}else{var n=j.offsetWidth;if(!o&&j.id&&!j.id.endsWith("-chdex2")){j.style.width=zk(j).revisedWidth(g?n:l)+"px"}l-=n}}}},onHide:_zkf},{_toValign:function(e){return e?"start"==e?"top":"center"==e?"middle":"end"==e?"bottom":e:null},_toHalign:function(e){return e?"start"==e?"left":"end"==e?"right":e:null}})})();
zkreg('zul.box.Box');zk._m={};
zk._m['vertical']=function(c){delete this._splitterKid;for(var a=this.firstChild;a;a=a.nextSibling){if(a.$instanceof(zul.box.Splitter)){this._splitterKid=true;break}}this._configPack();c.push("<table",this.domAttrs_(),zUtl.cellps0,"><tr");if(!this._isStretchPack()&&this._pack2){c.push(' valign="',zul.box.Box._toValign(this._pack2),'"')}c.push('><td id="',this.uuid,'-frame" style="width:100%');if(zk.ie||zk.safari){c.push(";height:100%")}c.push('"');var b=this.getAlign();if(b&&b!="stretch"){c.push(' align="',zul.box.Box._toHalign(b),'"')}c.push('><table id="',this.uuid,'-real"',zUtl.cellps0,'style="text-align:left');if(b=="stretch"||(zk.safari&&(b==null||b=="start"))){c.push(";width:100%")}if(this._isStretchPack()){c.push(";height:100%")}c.push('">');for(var a=this.firstChild;a;a=a.nextSibling){this.encloseChildHTML_(a,false,c)}c.push("</table></td></tr></table>")};
;zk._m['horizontal']=function(c){delete this._splitterKid;for(var a=this.firstChild;a;a=a.nextSibling){if(a.$instanceof(zul.box.Splitter)){this._splitterKid=true;break}}this._configPack();c.push("<table",this.domAttrs_(),zUtl.cellps0,"><tr");var b=this.getAlign();if(b&&b!="stretch"){c.push(' valign="',zul.box.Box._toValign(b),'"')}c.push('><td id="',this.uuid,'-frame" style="width:100%;height:100%"');if(!this._isStretchPack()&&this._pack2){c.push(' align="',zul.box.Box._toHalign(this._pack2),'"')}c.push('><table id="',this.uuid,'-real"',zUtl.cellps0,'style="text-align:left');if(!this.isSizedByContent()){c.push(";table-layout:fixed")}if(b=="stretch"){c.push(";height:100%")}if(this._isStretchPack()){c.push(";width:100%")}c.push('"><tr valign="',b&&b!="stretch"?zul.box.Box._toValign(b):"top",'">');for(var a=this.firstChild;a;a=a.nextSibling){this.encloseChildHTML_(a,false,c)}c.push("</tr></table></td></tr></table>")};
;zkmld(zk._p.p.Box,zk._m);(function(){function a(q,h,b){var p=q.getCollapse();if(!p||"none"==p){return}var g=q.$n("chdex"),i=q.isVertical(),o=q.$class,m=p=="before",f=m?o._prev(g):o._next(g),k=zk.Widget.$(f),e=i?"height":"width",n=0;if(f){if(!h){zWatch.fireDown("onHide",k)}k.setDomVisible_(f,h);k.parent._fixChildDomVisible(k,h);var l=i&&f.cells.length?f.cells[0]:f;n=zk.parseInt(l.style[e]);if(!m&&k&&!k.nextSibling){var d=q.$n("chdex2");if(d){d.style.display=h?"":"none";n+=zk.parseInt(d.style[e])}}}var j=m?o._next(g):o._prev(g);if(j){var l=i&&j.cells.length?j.cells[0]:j;n=zk.parseInt(l.style[e])+(h?-n:n);if(n<0){n=0}l.style[e]=n+"px"}if(f&&h){zUtl.fireShown(k)}if(j){zUtl.fireSized(zk.Widget.$(j),-1)}q._fixNSDomClass();q._fixbtn();q._fixszAll();if(!b||b.sendOnOpen){q.fire("onOpen",{open:h})}}zul.box.Splitter=zk.$extends(zul.Widget,{_collapse:"none",_open:true,$define:{open:function(b,c){if(this.desktop){a(this,b,c)}}},isVertical:function(){var b=this.parent;return !b||b.isVertical()},getOrient:function(){var b=this.parent;return b?b.getOrient():"vertical"},getCollapse:function(){return this._collapse},setCollapse:function(c){if(this._collapse!=c){var b=this._open;if(!b){this.setOpen(true,{sendOnOpen:false})}this._collapse=c;if(this.desktop){this._fixbtn();this._fixsz()}if(!b){this.setOpen(false,{sendOnOpen:false})}}},getZclass:function(){var c=this._zclass,b=this.getMold()=="os"?"z-splitter-os":"z-splitter";return c?c:b+(this.isVertical()?"-ver":"-hor")},setZclass:function(){this.$supers("setZclass",arguments);if(this.desktop){this._fixDomClass(true)}},bind_:function(){this.$supers(zul.box.Splitter,"bind_",arguments);var d=this.parent;if(d&&!d._splitterKid){d._bindWatch()}zWatch.listen({onSize:this,beforeSize:this});this._fixDomClass();var c=this.$n(),e=this.$class;if(!this.$weave){var b=jq(this.$n("btn"));if(zk.ie){b.mouseover(e.onover).mouseout(e.onout)}b.click(e.onclick)}this._fixbtn();this._drag=new zk.Draggable(this,c,{constraint:this.getOrient(),ignoredrag:e._ignoresizing,ghosting:e._ghostsizing,overlay:true,zIndex:12000,initSensitivity:0,snap:e._snap,endeffect:e._endDrag});this._shallClose=!this._open},unbind_:function(){zWatch.unlisten({onSize:this,beforeSize:this});var d=this.$class,b;if(b=this.$n("btn")){var c=jq(b);if(zk.ie){c.unbind("mouseover",d.onover).unbind("mouseout",d.onout)}c.unbind("click",d.onclick)}this._drag.destroy();this._drag=null;this.$supers(zul.box.Splitter,"unbind_",arguments)},_fixDomClass:function(c){var d=this.$n(),e=d.parentNode;if(e){var b=this.isVertical(),f=this.getZclass();if(b){e=e.parentNode}if(e&&e.id.endsWith("-chdex")){e.className=f+"-outer";if(b){d.parentNode.className=f+"-outer-td"}}}if(c){this._fixbtn()}},_fixNSDomClass:function(){jq(this.$n())[this._open?"removeClass":"addClass"](this.getZclass()+"-ns")},_fixbtn:function(){var c=jq(this.$n("btn")),b=this.getCollapse();if(!b||"none"==b){c.hide()}else{var e=this.getZclass(),d=b=="before";if(!this._open){d=!d}if(this.isVertical()){c.removeClass(e+"-btn-"+(d?"b":"t"));c.addClass(e+"-btn-"+(d?"t":"b"))}else{c.removeClass(e+"-btn-"+(d?"r":"l"));c.addClass(e+"-btn-"+(d?"l":"r"))}c.show()}},setBtnPos_:function(b){var c=this.$n("btn"),d=this.$n();if(b){c.style.marginLeft=((d.offsetWidth-c.offsetWidth)/2)+"px"}else{c.style.marginTop=((d.offsetHeight-c.offsetHeight)/2)+"px"}},_fixsz:_zkf=function(){if(!this.isRealVisible()){return}var d=this.$n(),c=d.parentNode;if(c){var b="before"==this.getCollapse();if(this.isVertical()){if(b){c.vAlign="top";c.style.backgroundPosition="top left"}else{c.vAlign="bottom";c.style.backgroundPosition="bottom left"}d.style.width="";d.style.width=c.clientWidth+"px";this.setBtnPos_(true)}else{if(b){c.align="left";c.style.backgroundPosition="top left"}else{c.align="right";c.style.backgroundPosition="top right"}d.style.height="";d.style.height=(zk.safari?c.parentNode.clientHeight:c.clientHeight)+"px";this.setBtnPos_()}}if(this._shallClose){delete this._shallClose;a(this,false,{sendOnOpen:false})}},onSize:_zkf,beforeSize:function(){this.$n().style[this.isVertical()?"width":"height"]=""},_fixszAll:function(){var b;for(var c=this;c=c.parent;){if(c.$instanceof(zul.box.Box)){b=c}}if(b){this.$class._fixKidSplts(b)}else{this._fixsz()}}},{onclick:function(b){var c=zk.Widget.$(b);jq(c.$n("btn")).removeClass(c.getZclass()+"-btn-visi");c.setOpen(!c._open)},_ignoresizing:function(b,i,c){var h=b.control;if(!h._open||h.$n("btn")==c.domTarget){return true}var f=b.run={},d=h.$n(),g=h.$n("chdex"),e=zul.box.Splitter;f.prev=e._prev(g);f.next=e._next(g);if(!f.prev||!f.next){return true}f.prevwgt=h.previousSibling;f.nextwgt=h.nextSibling;f.z_offset=zk(d).cmOffset();return false},_ghostsizing:function(b,e,c){var d=zk(b.node);jq(document.body).append('<div id="zk_ddghost" style="font-size:0;line-height:0;background:#AAA;position:absolute;top:'+e[1]+"px;left:"+e[0]+"px;width:"+d.offsetWidth()+"px;height:"+d.offsetHeight()+'px;"></div>');return jq("#zk_ddghost")[0]},_endDrag:function(n){var m=n.control,g=m.isVertical(),c=m.$n(),k=zul.box.Splitter,f=k._fixLayout(m),e="before"==m.getCollapse(),d=n.run,j,b,i;if(g){j=d.z_point[1];b="height";if(d.next&&d.next.cells.length){d.next=d.next.cells[0]}if(d.prev&&d.prev.cells.length){d.prev=d.prev.cells[0]}}else{j=d.z_point[0];b="width"}if(!j){return}if(i=d.nextwgt){zWatch.fireDown("beforeSize",i)}if(i=d.prevwgt){zWatch.fireDown("beforeSize",i)}var h=0;if(i=d.next){var l=zk.parseInt(i.style[b]);l-=j;if(l<0){l=0}i.style[b]=l+"px";if(!e){i.style.overflow="hidden"}}if(i=d.prev){var l=zk.parseInt(i.style[b]);l+=j;if(l<0){l=0}i.style[b]=l+"px";if(e){i.style.overflow="hidden"}}if(i=d.nextwgt){zUtl.fireSized(i,-1)}if(i=d.prevwgt){zUtl.fireSized(i,-1)}k._unfixLayout(f);m._fixszAll();n.run=null},_snap:function(d,h){var e=d.run,f=d.control,c=h[0],g=h[1];if(f.isVertical()){if(g<=e.z_offset[1]-e.prev.offsetHeight){g=e.z_offset[1]-e.prev.offsetHeight}else{var b=e.z_offset[1]+e.next.offsetHeight-f.$n().offsetHeight;if(g>b){g=b}}}else{if(c<=e.z_offset[0]-e.prev.offsetWidth){c=e.z_offset[0]-e.prev.offsetWidth}else{var b=e.z_offset[0]+e.next.offsetWidth-f.$n().offsetWidth;if(c>b){c=b}}}e.z_point=[c-e.z_offset[0],g-e.z_offset[1]];return[c,g]},_next:function(b){return jq(b).next().next()[0]},_prev:function(b){return jq(b).prev().prev()[0]},_fixKidSplts:function(c){if(c.isVisible()){var b=zul.box.Splitter;if(c.$instanceof(b)){c._fixsz()}for(c=c.firstChild;c;c=c.nextSibling){b._fixKidSplts(c)}}}});if(zk.ie){zul.box.Splitter.onover=function(b){var c=zk.Widget.$(b);$(c.$n("btn")).addClass(c.getZclass()+"-btn-visi")};zul.box.Splitter.onout=function(b){var c=zk.Widget.$(b);$(c.$n("btn")).removeClass(c.getZclass()+"-btn-visi")}}if(zk.opera){zul.box.Splitter._fixLayout=function(d){var b=d.parent.$n();if(b.style.tableLayout!="fixed"){var c=[b,b.style.tableLayout];b.style.tableLayout="fixed";return c}};zul.box.Splitter._unfixLayout=function(b){if(b){b[0].style.tableLayout=b[1]}}}else{zul.box.Splitter._fixLayout=zul.box.Splitter._unfixLayout=zk.$void}})();
zkreg('zul.box.Splitter');zk._m={};
zk._m['os']=function(a){a.push("<div",this.domAttrs_(),'><span id="',this.uuid,'-btn"></span></div>')};
;zk._m['default']=[zk._p.p.Splitter,'os'];zkmld(zk._p.p.Splitter,zk._m);zul.box.Hlayout=zk.$extends(zul.box.Layout,{_valign:"top",$define:{valign:function(){this.updateDomClass_()}},isVertical_:function(){return false},domClass_:function(){var b=this.$supers("domClass_",arguments),a;if((a=this._valign)=="middle"){b+=" z-valign-middle"}else{if(a=="bottom"){b+=" z-valign-bottom"}}return b}});
zkreg('zul.box.Hlayout');zk._m={};
zk._m['default']=function(b){b.push("<div ",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling){this.encloseChildHTML_(a,b)}b.push("</div>")};
;zkmld(zk._p.p.Hlayout,zk._m);zul.box.Vlayout=zk.$extends(zul.box.Layout,{isVertical_:function(){return true}});
zkreg('zul.box.Vlayout');zk._m={};
zk._m['default']=[zk._p.p.Hlayout,'default'];zkmld(zk._p.p.Vlayout,zk._m);
}finally{zk.setLoaded(zk._p.n);}});zk.setLoaded('zul.box',1);
zk.load('zul.mesh',function(){if(zk._p=zkpi('zul.sel'))try{
(function(){function b(l,k){return zAu.processing()||l._shallIgnore(k)}function e(k){switch(k.data.keyCode){case 33:case 34:case 38:case 40:case 37:case 39:case 32:case 36:case 35:k.stop();return false}return true}function g(k){if(k._rows&&!k._rowsOnFitSize){zWatch.listen({onFitSize:k});k._rowsOnFitSize=true}}function c(k){if(k._rowsOnFitSize){zWatch.unlisten({onFitSize:k});delete k._rowsOnFitSize}}function f(l){if(--l._nUpdHeaderCM<=0&&l.desktop&&l._headercm&&l._multiple){var m=zk.Widget.$(l._headercm).getZclass()+"-img-seld",k=jq(l._headercm);k[l._isAllSelected()?"addClass":"removeClass"](m)}}function d(k){return k.target.$button||(zk.isLoaded("zul.wgt")&&k.target.$instanceof(zul.wgt.Button,zul.wgt.Toolbarbutton))}function i(k){return k.target.$inputWidget||(zk.isLoaded("zul.inp")&&k.target.$instanceof(zul.inp.InputWidget))}function j(k){return(jq.nodeName(k.domTarget,"input","textarea","button","select","option","a")&&!k.target.$instanceof(zul.sel.SelectWidget))||d(k)||i(k)}function h(k){return k&&(k=k.uuid)?zk.Widget.$(k):null}var a=zul.sel.SelectWidget=zk.$extends(zul.mesh.MeshWidget,{_rows:0,rightSelect:true,_anchorTop:0,_anchorLeft:0,$init:function(){this.$supers("$init",arguments);this._selItems=[]},$define:{rows:function(k){g(this);var l=this.$n();if(l){l._lastsz=null;this.onSize()}},checkmark:function(k){if(this.desktop){this.rerender()}},multiple:function(k){if(!this._multiple&&this._selItems.length){var m=this.getSelectedItem();for(var l;(l=this._selItems.pop());){if(l!=m){if(!this._checkmark){l._setSelectedDirectly(false)}else{l._selected=false}}}this._selItems.push(m)}if(this._checkmark&&this.desktop){this.rerender()}},selectedIndex:[function(k){return k<-1||(!k&&k!==0)?-1:k},function(){var m=this._selectedIndex;this.clearSelection();this._selectedIndex=m;if(m>-1){var k;for(var l=this.getBodyWidgetIterator();m-->=0;){k=l.next()}if(k){this._selectOne(k,true);zk(k).scrollIntoView(this.ebody);if(zk.ff>=4&&this.ebody){this._currentTop=this.ebody.scrollTop;this._currentLeft=this.ebody.scrollLeft}}}}],name:function(){if(this.destkop){this.updateFormData()}}},setChgSel:function(r){var l={};for(var o=0;;){var n=r.indexOf(",",o),q=(n>=0?r.substring(o,n):r.substring(o)).trim();if(q){l[q]=true}if(n<0){break}o=n+1}for(var p=this.getBodyWidgetIterator(),m;(m=p.next());){this._changeSelect(m,l[m.uuid]==true)}},setFocusIndex:function(l){if(l<0){return}var k=this;setTimeout(function(){var m;for(var n=k.getBodyWidgetIterator();(m=n.next())&&l--;){if(!n.hasNext()){break}}k._focusItem=m})},updateFormData:function(){if(this._name){if(!this.efield){this.efield=jq(this.$n()).append('<div style="display:none;"></div>').find("> div:last-child")[0]}jq(this.efield).children().remove();var n=[],m='<input type="hidden" name="'+this._name+'" value="';for(var l=0,k=this._selItems.length;l<k;l++){n.push(m,this._selItems[l].getValue(),'"/>')}jq(this.efield).append(n.join(""))}else{if(this.efield){jq(this.efield).remove();this.efield=null}}},setSelectedItem:function(k){if(!k){this.clearSelection()}else{this._selectOne(k,true);zk(k).scrollIntoView(this.ebody);if(zk.ff>=4&&this.ebody){this._currentTop=this.ebody.scrollTop;this._currentLeft=this.ebody.scrollLeft}}},getSelectedItem:function(){return this._selItems[0]},getSelectedItems:function(){return this._selItems.$clone()},setHeight:function(k){if(!this._nvflex&&this._height!=k){this._height=k;var l=this.$n();if(l){l.style.height=k||"";this.onSize()}}},setVflex:function(k){this.$supers("setVflex",arguments);if(this.desktop){this.onSize()}},setHflex:function(k){this.$supers("setHflex",arguments);if(this.desktop){this.onSize()}},_getEbodyWd:function(){var k=this.$n("a");if(zk.safari){k.style.display="none"}var l=zk.opera&&this.ebody.offsetHeight==0?this.ebody.offsetWidth:this.ebody.clientWidth;if(zk.safari){k.style.display=""}return l},_beforeCalcSize:function(){if(zk.ie8){var k=this.$n("a");this._oldCSS=k.style.display;k.style.display="none"}if(zk.ie){this._syncFocus(this._focusItem)}this._calcHgh()},_afterCalcSize:function(){if(zk.ie8){this.$n("a").style.display=this._oldCSS;delete this._oldCSS}this.$supers("_afterCalcSize",arguments)},onFitSize:function(){if(this._rows){this._calcHgh()}},_calcHgh:function(){var s=this.ebodyrows,D=this.$n(),q=D.style.height,B=q&&q!="auto"&&q.indexOf("%")<0;if(B){q=zk.parseInt(q);if(q){q-=this._headHgh(0);if(q<20){q=20}var y=0;l_out:for(var H,G=0,u=s.length;G<u;++y,++G){var z;for(;;++G){if(G>=u){break l_out}z=s[G];if(zk(z).isVisible()){break}}var I=zk(z);H=I.offsetTop()+I.offsetHeight();if(H>=q){if(H>q+2){++y}break}}y=Math.ceil(y&&H?(q*y)/H:q/this._headHgh(20));this._visibleRows(y);q-=(this.efoot?this.efoot.offsetHeight:0);q-=(this.efrozen?this.efrozen.offsetHeight:0);this.ebody.style.height=(q<0?0:q)+"px";if(zk.ie&&this.ebody.offsetHeight){}return}}var m=0,x=this.getRows(),E,l,k;for(var G=0,u=s.length;G<u;++G){var z=s[G];if(zk(z).isVisible()){++m;if(!l){l=z}if(x===m){k=z;break}E=z}}q=0;var v=2;if(!x){if(this.isVflex()){q=this._vflexSize(D.style.height);if(zk.ie&&this._cachehgh!=q){q-=1;this._cachehgh=q}if(q<25){q=25}var A=l?zk(l).offsetHeight():null;if(!A){A=this._headHgh(20)}x=Math.round((q-v)/A)}this._visibleRows(x)}if(x){if(!q){if(!m){q=this._headHgh(20)*x}else{if(x<=m){var C=zk(k);q=C.offsetTop()+C.offsetHeight()}else{var F=zk(E);q=F.offsetTop()+F.offsetHeight();q=Math.ceil((x*q)/m)}}if(zk.ie){q+=v}}if(zk.opera){this.ebody.style.height="";if(this.ebody.offsetHeight){}}if(this.isSizedByContent()&&zk(this.$n("body")).hasHScroll()){q+=jq.scrollbarWidth()}this.ebody.style.height=q+"px";if(zk.safari){zk(this.ebody).redoCSS()}if(zk.ie&&this.ebody.offsetHeight){}var H=D.style.height;if(!H||H=="auto"){if(zk.ie&&!zk.ie8&&this.ebodytbl){var p=this.ebody.offsetWidth,o=this.ebody.clientWidth,t=p-o;if(o&&t>11){if(p==this.ebodytbl.offsetWidth){this.ebodytbl.style.width=jq.px0(zk(this.ebodytbl).revisedWidth(this.ebodytbl.offsetWidth-t))}}}}}else{q=D.style.height;if(zk.ie&&(!q||q=="auto")&&zk(this.ebody).hasVScroll()){if(!m){this.ebody.style.height=""}else{this.ebody.style.height=(this.ebody.offsetHeight*2-this.ebody.clientHeight)+"px"}}else{this.ebody.style.height=""}}},_visibleRows:function(k){if("number"==typeof k){this._visiRows=k}else{return this.getRows()||this._visiRows||0}},_headHgh:function(n){var l=this.ehead?this.ehead.offsetHeight:0;if(this.paging){var m=this.$n("pgit"),k=this.$n("pgib");if(m){l+=m.offsetHeight}if(k){l+=k.offsetHeight}}return l?l:n},indexOfItem:function(n){if(n.getMeshWidget()==this){for(var l=0,m=this.getBodyWidgetIterator(),k;(k=m.next());l++){if(k==n){return l}}}return -1},toggleItemSelection:function(k){if(k.isSelected()){this._removeItemFromSelection(k)}else{this._addItemToSelection(k)}this.updateFormData()},selectItem:function(k){if(!k){this.setSelectedIndex(-1)}else{if(this._multiple||!k.isSelected()){this.setSelectedIndex(this.indexOfItem(k))}}},_addItemToSelection:function(l){if(!l.isSelected()){if(!this._multiple){this._selectedIndex=this.indexOfItem(l)}else{var k=this.indexOfItem(l);if(k<this._selectedIndex||this._selectedIndex<0){this._selectedIndex=k}l._setSelectedDirectly(true)}this._selItems.push(l)}},_removeItemFromSelection:function(k){if(k.isSelected()){if(!this._multiple){this.clearSelection()}else{k._setSelectedDirectly(false);this._selItems.$remove(k)}}},clearSelection:function(){if(this._selItems.length){for(var k;(k=this._selItems.pop());){k._setSelectedDirectly(false)}this._selectedIndex=-1;this._updHeaderCM()}},focus_:function(n){var l;if(l=this.$n("a")){if(this._focusItem){for(var m=this.getBodyWidgetIterator(),k;(k=m.next());){if(this._isFocus(k)){k.focus_(n);break}}}else{if(this._currentTop){l.style.top=this._currentTop+"px"}if(this._currentLeft){l.style.left=this._currentLeft+"px"}}this.focusA_(l,n);return true}return false},focusA_:function(k,l){zk(k).focus(l)},bind_:function(){this.$supers(a,"bind_",arguments);var k=this.$n("a");if(k){this.domListen_(k,"onFocus","doFocus_").domListen_(k,"onKeyDown").domListen_(k,"onBlur","doBlur_")}this.updateFormData();this._updHeaderCM();if(k&&zk.opera&&!this.getBodyWidgetIterator().hasNext()){k.style.top="-1px"}},unbind_:function(){c(this);var k=this.$n("a");if(k){this.domUnlisten_(k,"onFocus","doFocus_").domUnlisten_(k,"onKeyDown").domUnlisten_(k,"onBlur","doBlur_")}this.$supers(a,"unbind_",arguments)},clearCache:function(){this.$supers("clearCache",arguments);this.efield=null},doFocus_:function(k){var l=this._focusItem||this._lastSelectedItem;if(l){l._doFocusIn()}this.$supers("doFocus_",arguments)},doBlur_:function(k){if(this._focusItem){this._lastSelectedItem=this._focusItem;this._focusItem._doFocusOut()}this._focusItem=null;this.$supers("doBlur_",arguments)},shallIgnoreSelect_:function(k){return k.name=="onRightClick"?this.rightSelect?-1:true:false},_shallIgnore:function(m,o){if(!m.domTarget||!m.target.canActivate()){return true}if(o){try{var n=m.domTarget;if(n){for(;;){if(n.id==this.uuid){break}if(!(n=n.parentNode)){return true}}}}catch(p){}if(typeof(o=this.nonselectableTags)=="string"){if(!o){return}if(o=="*"){return true}var k=jq.nodeName(m.domTarget),l=k=="input"&&m.domTarget.type.toLowerCase()=="button";if(o.indexOf(k)<0){return o.indexOf("button")>=0&&(d(m)||l)}return !l||o.indexOf("button")>=0}}return j(m)},_doItemSelect:function(r,m){var k,o=this._checkmark&&m.domTarget==r.$n("cm");if(zk.dragging||(!o&&(this._shallIgnore(m,true)||((k=this.shallIgnoreSelect_(m,r))&&!(k=k<0))))){return}var q=j(m);if(this._checkmark&&!m.data.shiftKey&&!(m.data.ctrlKey||m.data.metaKey)&&(!this._cdo||o)){this._syncFocus(r);if(this._multiple){var l=r.isSelected();if(!l||!k){this._toggleSelect(r,!l,m,q)}}else{this._select(r,m,q)}}else{if((zk.gecko||zk.safari)&&r.isListen("onDoubleClick")){var n=jq.now(),p=r._last;r._last=n;if(p&&n-p<900){return}}this._syncFocus(r);if(this._multiple){if(m.data.shiftKey){this._selectUpto(r,m,q)}else{if(m.data.ctrlKey||m.data.metaKey||zk.mobile){this._toggleSelect(r,!r.isSelected(),m,q)}else{if(!k||!r.isSelected()){this._select(r,m,q)}}}}else{this._select(r,m,q)}if(!q){r.focus()}}},doKeyDown_:function(k){if(!this._shallIgnore(k)){switch(k.data.keyCode){case 33:case 34:case 38:case 40:case 37:case 39:case 32:case 36:case 35:if(!jq.nodeName(k.domTarget,"a")){this.focus()}if(k.domTarget==this.$n("a")){if(k.target==this){k.target=this._focusItem||this.getSelectedItem()||this}this._doKeyDown(k)}k.stop();return false}}if(!zk.gecko||!jq.nodeName(k.domTarget,"input","textarea")){zk(this.$n()).disableSelection()}if(k.target==this){k.target=this._focusItem||this.getSelectedItem()||this}this.$supers("doKeyDown_",arguments)},doKeyUp_:function(k){zk(this.$n()).enableSelection();k.stop({propagation:true});this.$supers("doKeyUp_",arguments)},_doKeyDown:function(y){if(b(this,y)){return true}var A=this._focusItem||this.getSelectedItem(),s=y.data,m=s.shiftKey,l=(s.ctrlKey||s.metaKey);if(m&&!this._multiple){m=false}var v=false,o,z;if(zk.safari&&typeof s.keyCode=="string"){s.keyCode=zk.parseInt(s.keyCode)}switch(s.keyCode){case 33:case 34:var n=this.paging||this._paginal;if(A&&n){var t=this.getActivePage()+(s.keyCode==33?-1:1);if(t>-1&&t<this.getPageCount()){this.fire("onAcrossPage",{page:t,offset:this.indexOfItem(A),shift:!m||!this._multiple?0:s.keyCode==33?this.getPageSize():-this.getPageSize()})}return}o=this._visibleRows();if(o==0){o=this.getPageSize()||20}if(s.keyCode==33){o=-o}break;case 38:case 40:o=s.keyCode==40?1:-1;break;case 32:if(A){if(this._multiple){this._toggleSelect(A,!A.isSelected(),y)}else{this._select(A,y)}}break;case 36:case 35:o=s.keyCode==35?1:-1;v=true;break;case 37:if(A){this._doLeft(A)}break;case 39:if(A){this._doRight(A)}break}if(o>0||(o<0&&A)){if(A&&m){this._toggleSelect(A,true,y)}var q=A?A.$n():null;for(;;){if(!q){var x=this.getBodyWidgetIterator().next();if(x){q=x.$n()}else{return}}else{q=o>0?q.nextSibling:q.previousSibling}if(!q){if(v){break}var u=this.paging||this._paginal,p;if(u){p=u.getActivePage();if(o>0?(p+1<u.getPageCount()):p>0){this.fire("onAcrossPage",{page:p+(o>0?1:0),offset:o>0?0:-1,shift:!this._multiple||!m?0:o>0?-1:1})}}break}var k=zk.Widget.$(q);if(k.$instanceof(zul.sel.Treerow)){k=k.parent}if(!k.isDisabled()){if(m){this._toggleSelect(k,true,y)}if(zk(q).isVisible()){if(!m){z=k}if(!v){if(o>0){--o}else{++o}if(o==0){break}}}}}}if(z){if(l){this._focus(z)}else{this._select(z,y)}this._syncFocus(z);zk(z).scrollIntoView(this.ebody)}return e(y)},_doKeyUp:function(k){return b(this,k)||e(k)},_doLeft:zk.$void,_doRight:zk.$void,_syncFocus:function(p){var m=this.$n("a"),l=m.style,k=this._anchorTop,r=this._anchorLeft,o,q;if(p&&(q=p.$n())){o=zk(q).revisedOffset();o=this._toStyleOffset(m,o[0]+this.ebody.scrollLeft,o[1])}else{o=[r?r:0,k?k:0]}this.fixAnchor_(o,m);if(this._anchorTop!=o[1]||this._anchorLeft!=o[0]){this._anchorTop=o[1];this._anchorLeft=o[0];this.fire("onAnchorPos",{top:this._anchorTop,left:this._anchorLeft})}l.top=this._anchorTop+"px";l.left=this._anchorLeft+"px"},_toStyleOffset:function(o,l,p){var k=zk(o).revisedOffset(),m=zk.parseInt(o.style.left),n=zk.parseInt(o.style.top);return[l-k[0]+m,p-k[1]+n]},fixAnchor_:function(o,m){var l=this.ebody,k=l.scrollWidth,n=l.scrollHeight;if(o[0]>=k){o[0]=k-jq(m).width()}if(o[1]>=n){o[1]=n-jq(m).height()}},_select:function(m,k,l){if(this._selectOne(m,l)){this.fireOnSelect(m,k)}},_selectUpto:function(s,q,n){if(s.isSelected()){if(!n){this._focus(s)}return}var r=false,k=false,o=this._focusItem||this._lastSelectedItem;for(var l=this.getBodyWidgetIterator(),m=this.getSelectedItem(),p;(p=l.next());){if(p.isDisabled()){continue}if(r){this._changeSelect(p,true);if(p==s){break}}else{if(k){this._changeSelect(p,true);if(this._isFocus(p)||p==o){break}}else{if(!m){if(p!=s){continue}this._changeSelect(p,true);break}else{k=p==s;r=this._isFocus(p)||p==o;if(k||r){this._changeSelect(p,true);if(k&&r){break}}}}}}if(!n){this._focus(s)}this.fireOnSelect(s,q)},setSelectAll:_zkf=function(m,l){for(var n=this.getBodyWidgetIterator(),k;(k=n.next());){if(!k.isDisabled()){this._changeSelect(k,true)}}if(m&&l!==true){this.fireOnSelect(this.getSelectedItem(),l)}},selectAll:_zkf,_selectOne:function(n,l){var k=this.getSelectedItem();if(this._multiple){if(n&&!l){this._unsetFocusExcept(n)}var m=this._unsetSelectAllExcept(n);if(!m&&n&&k==n){if(!l){this._setFocus(n,true)}return false}}else{if(k){if(k==n){if(!l){this._setFocus(n,true)}return false}this._changeSelect(k,false);if(n){if(!l){this._setFocus(k,false)}}}if(n&&!l){this._unsetFocusExcept(n)}}if(n){this._changeSelect(n,true);if(!l){this._setFocus(n,true)}}return true},_toggleSelect:function(o,m,l,n){if(!this._multiple){var k=this.getSelectedItem();if(o!=k&&m){this._changeSelect(o,false)}}this._changeSelect(o,m);if(!n){this._focus(o)}this.fireOnSelect(o,l)},fireOnSelect:function(o,k){var p=[];for(var n=this.getSelectedItems(),m=n.length;m--;){if(n[m].isSelected()){p.push(n[m])}}var q,l=true;if(k){q=k.data;if(this._multiple){l=(q.ctrlKey||q.metaKey)||q.shiftKey||(this._checkmark&&(!this._cdo||(k.domTarget.id&&k.domTarget.id.endsWith("-cm"))))}}this.fire("onSelect",zk.copy({items:p,reference:o,clearFirst:!l},q))},_focus:function(k){if(this.canActivate({checkOnly:true})){this._unsetFocusExcept(k);this._setFocus(k,true)}},_changeSelect:function(m,k){var l=!!m.isSelected()!=k;if(l){m.setSelected(k);m._toggleEffect(true)}return l},_isFocus:function(k){return this._focusItem==k},_setFocus:function(l,m){var k=this._isFocus(l)!=m;if(k){if(m){if(!l.focus()){this.focus()}if(!this.paging&&zk.gecko){this.fireOnRender(5)}}}if(!m){l._doFocusOut()}return k},_unsetSelectAllExcept:function(n){var m=false;for(var l=this.getSelectedItems(),k=l.length;k--;){if(l[k]!=n&&this._changeSelect(l[k],false)){m=true}}return m},_unsetFocusExcept:function(k){if(this._focusItem&&this._focusItem!=k){this._setFocus(this._focusItem,false)}else{this._focusItem=null}},_updHeaderCM:function(){if(this._headercm&&this._multiple){var l=this,k;this._nUpdHeaderCM=(k=this._nUpdHeaderCM)>0?k+1:1;setTimeout(function(){f(l)},100)}},_syncBodyHeight:function(){if(this._rows==0){this.$supers("_syncBodyHeight",arguments)}},_isAllSelected:function(){for(var l=this.getBodyWidgetIterator({skipHidden:true}),k;(k=l.next());){if(!k.isDisabled()&&!k.isSelected()){return false}}return true},_ignoreHghExt:function(){return this._rows>0},onChildAdded_:function(k){this.$supers("onChildAdded_",arguments);if(this.desktop&&k.$instanceof(zul.sel.ItemWidget)&&k.isSelected()){this._syncFocus(k)}},onChildRemoved_:function(m){this.$supers("onChildRemoved_",arguments);var l=this._selItems,k;if(this.desktop&&m.$instanceof(zul.sel.ItemWidget)&&(k=l.length)){this._syncFocus(l[k-1])}},replaceWidget:function(k){this.$supers("replaceWidget",arguments);k._lastSelectedItem=h(this._lastSelectedItem);k._focusItem=h(this._focusItem)}})})();
(function(){function a(d,b){var c=d;setTimeout(function(){if(!c.desktop){return}var f=jq(c.$n()),g=c.getZclass();if(b){f.removeClass(g+"-over-seld").removeClass(g+"-over")}else{if(c._musin){f.addClass(c.isSelected()?g+"-over-seld":g+"-over");var h=c.getMeshWidget(),e=h._musout;if(e&&f[0]!=e.$n()){jq(e.$n()).removeClass(g+"-over-seld").removeClass(g+"-over");e._musin=false;h._musout=null}}}})}zul.sel.ItemWidget=zk.$extends(zul.Widget,{_checkable:true,$define:{checkable:function(){if(this.desktop){this.rerender()}},disabled:function(){if(this.desktop){this.rerender()}},value:null},setSelected:function(b){if(this._selected!=b){var c=this.getMeshWidget();if(c){c.toggleItemSelection(this)}this._setSelectedDirectly(b)}},_setSelectedDirectly:function(b){var c=this.$n();if(c){jq(c)[b?"addClass":"removeClass"](this.getZclass()+"-seld");this._updHeaderCM()}this._selected=b},getLabel:function(){return this.firstChild?this.firstChild.getLabel():null},isSelected:function(){return this._selected},isStripeable_:function(){return true},getMeshWidget:function(){return this.parent},_getVisibleChild:function(d){for(var c=0,b=d.cells.length;c<b;c++){if(zk(d.cells[c]).isVisible()){return d.cells[c]}}return d},setVisible:function(c){if(this._visible!=c){this.$supers("setVisible",arguments);if(this.isStripeable_()){var b=this.getMeshWidget();if(b){b.stripe()}}}},domClass_:function(d){var b=this.$supers("domClass_",arguments);if(!d||!d.zclass){var c=this.getZclass();if(this.isDisabled()){b+=(b?" ":"")+c+"-disd"}if(this.isSelected()){b+=(b?" ":"")+c+"-seld"}}return b},_toggleEffect:function(b){a(this,b)},focus_:function(b){var c=this.getMeshWidget();c._focusItem=this;this._doFocusIn();c._syncFocus(this);c.focusA_(c.$n("a"),b);return true},_doFocusIn:function(){var b=this.$n();if(b){jq(this._getVisibleChild(b)).addClass(this.getZclass()+"-focus")}if(b=this.getMeshWidget()){b._focusItem=this}},_doFocusOut:function(){var c=this.$n();if(c){var b=this.getZclass();jq(c).removeClass(b+"-focus");jq(c.cells).removeClass(b+"-focus")}},_updHeaderCM:function(b){var d;if((d=this.getMeshWidget())&&d._headercm&&d._multiple){if(b){d._updHeaderCM();return}var e=zk.Widget.$(d._headercm).getZclass()+"-img-seld",c=jq(d._headercm);if(!this.isSelected()){c.removeClass(e)}else{if(!c.hasClass(e)){d._updHeaderCM()}}}},beforeParentChanged_:function(b){if(!b){this._updHeaderCM(true)}this.$supers("beforeParentChanged_",arguments)},afterParentChanged_:function(){if(this.parent){this._updHeaderCM()}this.$supers("afterParentChanged_",arguments)},doSelect_:function(b){if(this.isDisabled()||!this.isCheckable()){return}if(!b.itemSelected){this.getMeshWidget()._doItemSelect(this,b);b.itemSelected=true}this.$supers("doSelect_",arguments)},doMouseOver_:function(b){if(this._musin||this.isDisabled()){return}this._musin=true;this._toggleEffect();b.stop();this.$supers("doMouseOver_",arguments)},doMouseOut_:function(b){if(this.isDisabled()||(this._musin&&jq.isAncestor(this.$n(),b.domEvent.relatedTarget||b.domEvent.toElement))){this.getMeshWidget()._musout=this;return}this._musin=false;this._toggleEffect(true);b.stop({propagation:true});this.$supers("doMouseOut_",arguments)},doKeyDown_:function(b){var c=this.getMeshWidget();if(!zk.gecko||!jq.nodeName(b.domTarget,"input","textarea")){zk(c.$n()).disableSelection()}c._doKeyDown(b);this.$supers("doKeyDown_",arguments)},doKeyUp_:function(b){var c=this.getMeshWidget();zk(c.$n()).enableSelection();c._doKeyUp(b);this.$supers("doKeyUp_",arguments)},deferRedrawHTML_:function(b){b.push("<tr",this.domAttrs_({domClass:1}),' class="z-renderdefer"></tr>')}})})();
(function(){function b(e){return zk.isLoaded("zkex.sel")&&e.$instanceof(zkex.sel.Listgroup)}function a(e){if(e&&(e=e.frozen)){e._syncFrozen()}}function d(g){if(g.desktop){if(g._nrows){jq(g.$n("empty")).hide().find("td").attr("colspan",1)}else{var f=jq(g.$n("empty")),h=0;if(g.listhead){for(var e=g.listhead.firstChild;e;e=e.nextSibling){if(e.isVisible()){h++}}}f.find("td").attr("colspan",h||1);f.show()}}g._shallFixEmpty=false}zul.sel.Renderer={updateColumnMenuButton:function(f){var g=f.$n(),e;if(e=f.$n("btn")){e.style.height=zk.ie6_||zk.ie7_?g.offsetHeight-1+"px":g.offsetHeight+"px"}}};var c=zul.sel.Listbox=zk.$extends(zul.sel.SelectWidget,{_nrows:0,groupSelect:false,$define:{emptyMessage:function(e){if(this.desktop){jq("td",this.$n("empty")).html(e)}if(zk.ie==9){if(e){this._fixHorScrollbar()}else{this._removeHorScrollbar()}}}},$init:function(){this.$supers(c,"$init",arguments);this._groupsInfo=[]},getGroupCount:function(){return this._groupsInfo.length},getGroups:function(){return this._groupsInfo.$clone()},hasGroup:function(){return this._groupsInfo.length},nextItem:function(e){if(e){while((e=e.nextSibling)&&!e.$instanceof(zul.sel.Listitem)){}}return e},previousItem:function(e){if(e){while((e=e.previousSibling)&&!e.$instanceof(zul.sel.Listitem)){}}return e},getOddRowSclass:function(){return this._scOddRow==null?this.getZclass()+"-odd":this._scOddRow},setOddRowSclass:function(e){if(!e){e=null}if(this._scOddRow!=e){this._scOddRow=e;var f=this.$n();if(f&&this.rows){this.stripe()}}return this},inSelectMold:function(){return"select"==this.getMold()},onSize:function(){this.$supers(c,"onSize",arguments);this._syncSelInView()},bind_:function(h,g,f){this.$supers(c,"bind_",arguments);this._shallStripe=true;var e=this;f.push(function(){e.stripe();a(e);d(e)});this._shallScrollIntoView=true;if(zk.ie6_&&this.getSelectedIndex()>-1){zk(this).redoCSS()}},_syncSelInView:function(){if(this._shallScrollIntoView){var f=this.getSelectedIndex();if(f>=0){var e;for(var g=this.getBodyWidgetIterator();f-->=0;){e=g.next()}if(e){zk(e).scrollIntoView(this.ebody);this._tmpScrollTop=this.ebody.scrollTop}}this._shallScrollIntoView=false}},_doScroll:function(){if(this._tmpScrollTop){this.ebody.scrollTop=this._tmpScrollTop;this._tmpScrollTop=null}this.$super(zul.sel.Listbox,"_doScroll")},onResponse:function(e,f){if(this.desktop){if(this._shallStripe){this.stripe()}if(this._shallFixEmpty){d(this)}}this.$supers(c,"onResponse",arguments)},_syncStripe:function(){this._shallStripe=true},stripe:function(){var e=this.getOddRowSclass();if(!e){return}var i=this._offset&1;for(var g=0,k=!i,h=this.getBodyWidgetIterator(),f;(f=h.next());g++){if(f.isVisible()&&f.isStripeable_()){jq(f.$n())[k?"removeClass":"addClass"](e);k=!k}}this._shallStripe=false;return this},rerender:function(){this.$supers(c,"rerender",arguments);this._syncStripe();return this},getFocusCell:function(k){var f=this.getCaveNode();if(jq.isAncestor(f,k)){var h=jq(k).parents("td"),l;for(var g=0,e=h.length;g<e;g++){l=h[g];if(l.parentNode.parentNode==f){return l}}}},getCaveNode:function(){return this.$n("rows")||this.$n("cave")},insertChildHTML_:function(g,e,f){if(e=e&&(!g.$instanceof(zul.sel.Listitem)||e.$instanceof(zul.sel.Listitem))?e.getFirstNode_():null){jq(e).before(g.redrawHTML_())}else{jq(this.getCaveNode()).append(g.redrawHTML_())}g.bind(f)},insertBefore:function(g,f,e){if(this.$super("insertBefore",g,f,e||(!this.z_rod&&!g.$instanceof(zul.sel.Listitem)))){this._fixOnAdd(g,e);return true}},appendChild:function(f,e){if(this.$super("appendChild",f,e||(!this.z_rod&&!f.$instanceof(zul.sel.Listitem)))){if(!this.insertingBefore_){this._fixOnAdd(f,e)}return true}},_fixOnAdd:function(i,f,g,e){var h;if(i.$instanceof(zul.sel.Listitem)){if(b(i)){this._groupsInfo.push(i)}if(!this.firstItem||!this.previousItem(i)){this.firstItem=i}if(!this.lastItem||!this.nextItem(i)){this.lastItem=i}++this._nrows;if(i.isSelected()&&!this._selItems.$contains(i)){this._selItems.push(i)}h=g=true}else{if(i.$instanceof(zul.sel.Listhead)){this.listhead=i}else{if(i.$instanceof(zul.mesh.Paging)){this.paging=i}else{if(i.$instanceof(zul.sel.Listfoot)){this.listfoot=i}else{if(i.$instanceof(zul.mesh.Frozen)){this.frozen=i}}}}}this._syncEmpty();if(!e){if(!f&&!h){return this.rerender()}if(g){this._syncStripe()}if(!f){this._syncSize()}if(this.desktop){a(this)}}},removeChild:function(f,e){if(this.$super("removeChild",f,e)){this._fixOnRemove(f,e);return true}},_fixOnRemove:function(i,e){var g;if(i==this.listhead){this.listhead=null}else{if(i==this.paging){this.paging=null}else{if(i==this.frozen){this.frozen=null}else{if(i==this.listfoot){this.listfoot=null}else{if(!i.$instanceof(zul.mesh.Auxhead)){if(i==this.firstItem){for(var f=this.firstChild,h=zul.sel.Listitem;f&&!f.$instanceof(h);f=f.nextSibling){}this.firstItem=f}if(i==this.lastItem){for(var f=this.lastChild,h=zul.sel.Listitem;f&&!f.$instanceof(h);f=f.previousSibling){}this.lastItem=f}if(b(i)){this._groupsInfo.$remove(i)}--this._nrows;if(i.isSelected()){this._selItems.$remove(i)}g=true}}}}}this._syncEmpty();if(!e){if(g){this._syncStripe()}this._syncSize()}},redrawEmpty_:function(e){var f=this.uuid,g=this.getZclass();e.push('<tbody id="',f,'-empty" class="',g,'-empty-body" style="display:none"><tr><td>',this._emptyMessage,"</td></tr></tbody>")},_syncEmpty:function(){this._shallFixEmpty=true},onChildReplaced_:function(e,f){this.$supers(c,"onChildReplaced_",arguments);if(e){this._fixOnRemove(e,true)}if(f){this._fixOnAdd(f,true,false,true)}if((e&&e.$instanceof(zul.sel.Listitem))||(f&&f.$instanceof(zul.sel.Listitem))){this._syncStripe()}this._syncSize();if(this.desktop){a(this)}},getHeadWidgetClass:function(){return zul.sel.Listhead},itemIterator:_zkf=function(e){return new zul.sel.ItemIter(this,e)},getBodyWidgetIterator:_zkf,_updHeaderCM:function(){var e;if(this._headercm&&this._multiple&&(e=this.listhead)&&(e=e.firstChild)){e._checked=this._isAllSelected()}this.$supers(c,"_updHeaderCM",arguments)},_fixHorScrollbar:(zk.ie==9)?function(){var f,e;if(((f=this.ebody)&&(e=this.ebodytbl))&&(f.offsetWidth<e.offsetWidth)){jq(this.$n("body")).css("overflowX","scroll")}}:zk.$void,_removeHorScrollbar:(zk.ie)?function(){if(zk.ie==8){this.$supers("_removeHorScrollbar",arguments)}else{if(zk.ie==9){var e=this.$n("body");if(!this._emptyMessage&&!this.getBodyWidgetIterator({skipHidden:true}).next()){setTimeout(function(){e.scrollLeft=0;jq(e).css("overflowX","hidden")},0)}}}}:zk.$void});zul.sel.ItemIter=zk.$extends(zk.Object,{$init:function(f,e){this.box=f;this.opts=e},_init:function(){if(!this._isInit){this._isInit=true;var e=this.box.firstItem;if(this.opts&&this.opts.skipHidden){for(;e&&!e.isVisible();e=e.nextSibling){}}this.p=e}},hasNext:function(){this._init();return this.p},next:function(){this._init();var f=this.p,e=f?f.parent.nextItem(f):null;if(this.opts&&this.opts.skipHidden){for(;e&&!e.isVisible();e=e.parent.nextItem(e)){}}if(f){this.p=e}return f}})})();
zkreg('zul.sel.Listbox');zk._m={};
zk._m['paging']=function(h){var b=this.uuid,e=this.getZclass(),k=this.getInnerWidth(),l=k=="100%"?' width="100%"':"",c=k!="100%"?"width:"+k:"",a=this.inPagingMold(),d,o=zk.ie||zk.gecko?"a":"button";h.push("<div",this.domAttrs_(),">");if(a&&this.paging){d=this.getPagingPosition();if(d=="top"||d=="both"){h.push('<div id="',b,'-pgit" class="',e,'-pgi-t">');this.paging.redraw(h);h.push("</div>")}}if(this.listhead){h.push('<div id="',b,'-head" class="',e,'-header">',"<table",l,zUtl.cellps0,' style="table-layout:fixed;',c,'">');this.domFaker_(h,"-hdfaker",e);for(var m=this.heads,g=0,i=m.length;g<i;){m[g++].redraw(h)}h.push('</table></div><div class="',e,'-header-bg"></div>')}h.push('<div id="',b,'-body" class="',e,"-body");if(this._autopaging){h.push(" ",e,"-autopaging")}h.push('"');var f=this.getHeight();if(f){h.push(' style="overflow:hidden;height:',f,'"')}h.push(">");if(this.domPad_&&!a){this.domPad_(h,"-tpad")}h.push("<table",l,zUtl.cellps0,' id="',b,'-cave"',' style="table-layout:fixed;',c,'">');if(this.listhead){this.domFaker_(h,"-bdfaker",e)}h.push('<tbody id="',b,'-rows">');for(var n=this.firstItem;n;n=this.nextItem(n)){n.redraw(h)}h.push("</tbody>");this.redrawEmpty_(h);h.push("</table>");if(this.domPad_&&!a){this.domPad_(h,"-bpad")}h.push("<",o,' id="',b,'-a" style="top:',jq.px0(this._anchorTop),";left:",jq.px0(this._anchorLeft),'" onclick="return false;" href="javascript:;" class="z-focus-a"></',o,">","</div>");if(this.listfoot){h.push('<div id="',b,'-foot" class="',e,'-footer">',"<table",l,zUtl.cellps0,' style="table-layout:fixed;',c,'">');if(this.listhead){this.domFaker_(h,"-ftfaker",e)}this.listfoot.redraw(h);h.push("</table></div>")}if(this.frozen){h.push('<div id="',b,'-frozen" class="',e,'-frozen">');this.frozen.redraw(h);h.push("</div>")}if(d=="bottom"||d=="both"){h.push('<div id="',b,'-pgib" class="',e,'-pgi-b">');this.paging.redraw(h);h.push("</div>")}h.push("</div>")};
;zk._m['default']=[zk._p.p.Listbox,'paging'];zkmld(zk._p.p.Listbox,zk._m);(function(){function b(){return zk.isLoaded("zkex.sel")}function a(f){var e=f._dragImg;if(e){var d=jq(f.node).hasClass("z-drop-allow")?"z-drop-allow":"z-drop-disallow";for(var c=0;c<e.length;c++){e[c].className=d}}}zul.sel.Listitem=zk.$extends(zul.sel.ItemWidget,{getListbox:zul.sel.ItemWidget.prototype.getMeshWidget,getListgroup:function(){if(b()&&this.parent&&this.parent.hasGroup()){for(var c=this;c;c=c.previousSibling){if(c.$instanceof(zkex.sel.Listgroup)){return c}}}return null},setLabel:function(c){this._autoFirstCell().setLabel(c)},getDragMessage_:function(){var h=this.parent,j=h._selItems,f=j.length,g=zul.sel.Listitem,i,e=2;if(!this.isSelected()||!f||(f==1&&j[0]==this)){return this.getLabel()}for(var c=h.firstChild;c;c=c.nextSibling){if(c.$instanceof(g)&&c.isSelected()){var d=c.getLabel();if(d.length>9){d=d.substring(0,9)+"..."}if(!i){i=d}else{i+='</div><div class="z-drop-cnt"><span id="zk_ddghost-img'+(e++)+'" class="z-drop-disallow"></span>&nbsp;'+d}}}return i},getDragOptions_:function(d){var c=d.change;d.change=function(f,g,e){c(f,g,e);a(f)};return this.$supers("getDragOptions_",arguments)},cloneDrag_:function(d,e){var f=this.getDragMessage_();var c=zk.DnD.ghost(d,e,f);d._orgcursor=document.body.style.cursor;document.body.style.cursor="pointer";jq(this.getDragNode()).addClass("z-dragged");d._dragImg=jq('span[id^="zk_ddghost-img"]');return c},setImage:function(c){this._autoFirstCell().setImage(c)},_autoFirstCell:function(){if(!this.firstChild){this.appendChild(new zul.sel.Listcell())}return this.firstChild},domStyle_:function(e){if(b()&&(this.$instanceof(zkex.sel.Listgroup)||this.$instanceof(zkex.sel.Listgroupfoot))||(e&&e.visible)){return this.$supers("domStyle_",arguments)}var c=this.$supers("domStyle_",arguments),d=this.getListgroup();return d&&!d.isOpen()?c+"display:none;":c},domClass_:function(){var c=this.$supers("domClass_",arguments),d=this.getListbox();if(d&&jq(this.$n()).hasClass(d=d.getOddRowSclass())){return c+" "+d}return c},replaceWidget:function(c){this._syncListitems(c);this.$supers("replaceWidget",arguments)},_updHeaderCM:function(c){var e,d;if(!this.isSelected()&&(e=this.getListbox())&&e._headercm&&e._multiple&&(d=e.listhead)&&(d=d.firstChild)){d._checked=false}this.$supers("_updHeaderCM",arguments)},_syncListitems:function(g){var f;if(f=this.getListbox()){if(f.firstItem.uuid==g.uuid){f.firstItem=g}if(f.lastItem.uuid==g.uuid){f.lastItem=g}var d=f._selItems,e,c;if(e=this.isSelected()){d.$remove(this)}if(c=g.isSelected()){d.push(g)}if(e!=c){f._updHeaderCM()}}},setVisible:function(d){this.$supers("setVisible",arguments);var c;if(zk.ie==9&&(c=this.getListbox())&&c.$n()){if(d){c._fixHorScrollbar()}else{c._removeHorScrollbar()}}}})})();
zkreg('zul.sel.Listitem');zk._m={};
zk._m['default']=function(b){b.push("<tr",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</tr>")};
;zkmld(zk._p.p.Listitem,zk._m);(function(){function b(c){return zk.isLoaded("zkex.sel")&&c.$instanceof(zkex.sel.Listgroup)}function a(c){return zk.isLoaded("zkex.sel")&&c.$instanceof(zkex.sel.Listgroupfoot)}zul.sel.Listcell=zk.$extends(zul.LabelImageWidget,{_colspan:1,$define:{colspan:[function(c){return c>1?c:1},function(){var c=this.$n();if(c){c.colSpan=this._colspan}}]},setLabel:function(){this.$supers("setLabel",arguments);if(this.desktop){if(b(this.parent)){this.parent.rerender()}else{if(this.parent.$instanceof(zul.sel.Option)){this.getListbox().rerender()}}}},getListbox:function(){var c=this.parent;return c?c.parent:null},getTextNode:function(){return jq(this.$n()).find(">div:first")[0]},getMaxlength:function(){var d=this.getListbox();if(!d){return 0}if(d.getMold()=="select"){return d.getMaxlength()}var c=this.getListheader();return c?c.getMaxlength():0},getListheader:function(){var d=this.getListbox();if(d&&d.listhead){var c=this.getChildIndex();if(c<d.listhead.nChildren){return d.listhead.getChildAt(c)}}return null},domLabel_:function(){return zUtl.encodeXML(this.getLabel(),{maxlength:this.getMaxlength()})},domContent_:function(){var d=this.$supers("domContent_",arguments),c=this._colHtmlPre();return d?c?c+"&nbsp;"+d:d:c},domClass_:function(e){var c=this.$supers("domClass_",arguments);if((!e||!e.zclass)&&(b(this.parent)||a(this.parent))){var d=this.parent.getZclass();c+=" "+d+"-inner"}return c},_colHtmlPre:function(){var d="",f=this.getListbox(),h=this.parent,j=h.getZclass();if(f!=null&&h.firstChild==this){var e=b(h);if(f.isCheckmark()&&!a(h)&&(!e||f.groupSelect)){var i=h.isCheckable(),g=f.isMultiple(),c=j+"-img";d+='<span id="'+h.uuid+'-cm" class="'+c+" "+c+(g?"-checkbox":"-radio");if(!i||h.isDisabled()){d+=" "+c+"-disd"}d+='"';if(!i){d+=' style="visibility:hidden"'}d+="></span>"}if(e){d+='<span id="'+h.uuid+'-img" class="'+j+"-img "+j+"-img-"+(h._open?"open":"close")+'"></span>'}if(d){return d}}return(!this.getImage()&&!this.getLabel()&&!this.firstChild)?"&nbsp;":""},doFocus_:function(c){this.$supers("doFocus_",arguments);var g,h,d,i,e,f;if((g=this.getListbox())&&g.efrozen&&(h=zk.Widget.$(g.efrozen.firstChild)&&(f=this.$n()))){g._moveToHidingFocusCell(f.cellIndex)}},doMouseOver_:function(c){if(zk.gecko&&(this._draggable||this.parent._draggable)&&!jq.nodeName(c.domTarget,"input","textarea")){var d=this.$n();if(d){d.firstChild.style.MozUserSelect="none"}}this.$supers("doMouseOver_",arguments)},doMouseOut_:function(c){if(zk.gecko&&(this._draggable||this.parent._draggable)){var d=this.$n();if(d){d.firstChild.style.MozUserSelect=""}}this.$supers("doMouseOut_",arguments)},domAttrs_:function(){var c=this.getListheader(),d;if(c){d=c.getColAttrs()}return this.$supers("domAttrs_",arguments)+(this._colspan>1?' colspan="'+this._colspan+'"':"")+(d?" "+d:"")},domStyle_:function(e){var d=this.$supers("domStyle_",arguments),c=this.getListheader();if(c&&!c.isVisible()){d+="display:none;"}return d},bindChildren_:function(){var c;if(!(c=this.parent)||!c.$instanceof(zul.sel.Option)){this.$supers("bindChildren_",arguments)}},unbindChildren_:function(){var c;if(!(c=this.parent)||!c.$instanceof(zul.sel.Option)){this.$supers("unbindChildren_",arguments)}},deferRedrawHTML_:function(c){c.push("<td",this.domAttrs_({domClass:1}),' class="z-renderdefer"></td>')}})})();
zkreg('zul.sel.Listcell',true);zk._m={};
zk._m['default']=function(b){b.push("<td",this.domAttrs_(),'><div id="',this.uuid,'-cave" class="',this.getZclass()+"-cnt");var c=this.getListbox();if(c&&!c.isSizedByContent()){b.push(" z-overflow-hidden")}b.push('"',this.domTextStyleAttr_(),">",this.domContent_());for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div></td>")};
;zkmld(zk._p.p.Listcell,zk._m);zul.sel.Listhead=zk.$extends(zul.mesh.ColumnMenuWidget,{getListbox:zul.mesh.HeadWidget.prototype.getMeshWidget,getGroupPackage_:function(){return"zkex.sel"}});
zkreg('zul.sel.Listhead');zk._m={};
zk._m['default']=zul.mesh.HeadWidget.redraw;
;zkmld(zk._p.p.Listhead,zk._m);zul.sel.Listheader=zk.$extends(zul.mesh.SortWidget,{getListbox:zul.mesh.HeaderWidget.prototype.getMeshWidget,$init:function(){this.$supers("$init",arguments);this.listen({onGroup:this},-1000)},getMeshBody:zul.mesh.HeaderWidget.prototype.getMeshWidget,checkClientSort_:function(b){var a;return !(!(a=this.getMeshBody())||a.hasGroup())&&this.$supers("checkClientSort_",arguments)},$define:{maxlength:[function(a){return !a||a<0?0:a},function(){if(this.desktop){this.rerender();this.updateCells_()}}]},group:function(e,s){var v=this.getSortDirection();if(e){if("ascending"==v){return false}}else{if("descending"==v){return false}}var y=e?this._sortAscending:this._sortDescending;if(y=="fromServer"){return false}else{if(y=="none"){s.stop();return false}}var a=this.getMeshWidget();if(!a||a.isModel()||!zk.feature.pe||!zk.isLoaded("zkex.sel")){return false}var q=this.getMeshBody();if(!q){return false}s.stop();var E=q.desktop,x=q.$n();try{q.unbind();if(q.hasGroup()){for(var u=q.getGroups(),C=u.length;--C>=0;){q.removeChild(u[C])}}var F=[],f=this.getChildIndex();for(var B=0,o=0,g=a.getBodyWidgetIterator(),p;(p=g.next());o++){for(var A=0,b=p.firstChild;b;b=b.nextSibling,A++){if(A==f){F[B++]={wgt:b,index:o}}}}var l=v=="ascending"?-1:1,n=this.sorting,r=y=="client(number)";F.sort(function(i,d){var k=n(i.wgt,d.wgt,r)*l;if(k==0){k=(i.index<d.index?-1:1)}return k});for(var D=q.firstItem;D;D=q.nextItem(D)){q.removeChild(D)}for(var c,j,h=this.getChildIndex(),B=0,A=F.length;B<A;B++){j=F[B];if(!c||n(c.wgt,j.wgt,r)!=0){var m,b=j.wgt.parent.getChildAt(h);if(b){if(b.getLabel()){m=new zkex.sel.Listgroup({label:b.getLabel()})}else{var t=b.firstChild;if(t&&t.$instanceof(zul.wgt.Label)){m=new zkex.sel.Listgroup({label:t.getValue()})}else{m=new zkex.sel.Listgroup({label:msgzul.GRID_OTHER})}}}q.appendChild(m)}q.appendChild(j.wgt.parent);c=j}this._fixDirection(e)}finally{q.replaceHTML(x,E)}return true},onGroup:function(a){var b=this.getSortDirection();if("ascending"==b){this.group(false,a)}else{if("descending"==b){this.group(true,a)}else{if(!this.group(true,a)){this.group(false,a)}}}},updateCells_:function(){var d=this.getListbox();if(d==null||d.getMold()=="select"){return}var b=this.getChildIndex(),a;for(var c=d.getBodyWidgetIterator();(a=c.next());){if(b<a.nChildren){a.getChildAt(b).rerender()}}a=d.listfoot;if(a&&b<a.nChildren){a.getChildAt(b).rerender()}},bind_:function(){this.$supers(zul.sel.Listheader,"bind_",arguments);var a=this.$n("cm"),d=this.$n();if(a){var c=this.getListbox();if(c){c._headercm=a}this.domListen_(a,"onClick").domListen_(a,"onMouseOver").domListen_(a,"onMouseOut")}if(d){this.domListen_(d,"onMouseOver","_doSortMouseEvt").domListen_(d,"onMouseOut","_doSortMouseEvt")}var b=this.$n("btn");if(b){this.domListen_(b,"onClick","_doMenuClick")}},unbind_:function(){var a=this.$n("cm"),d=this.$n();if(a){var c=this.getListbox();if(c){c._headercm=null}this._checked=null;this.domUnlisten_(a,"onClick").domUnlisten_(a,"onMouseOver").domUnlisten_(a,"onMouseOut")}if(d){this.domUnlisten_(d,"onMouseOver","_doSortMouseEvt").domUnlisten_(d,"onMouseOut","_doSortMouseEvt")}var b=this.$n("btn");if(b){this.domUnlisten_(b,"onClick","_doMenuClick")}this.$supers(zul.sel.Listheader,"unbind_",arguments)},_doSortMouseEvt:function(a){if(this.isSortable_()||(this.parent._menupopup&&this.parent._menupopup!="none")){var b=jq(this.$n()),c=this.getZclass();b[a.name=="onMouseOver"?"addClass":"removeClass"](this.getZclass()+"-sort-over");if(a.name=="onMouseOver"){zul.sel.Renderer.updateColumnMenuButton(this)}else{if(!b.hasClass(c+"-visi")&&(!zk.ie||!jq.isAncestor(b.first(),a.domEvent.relatedTarget||a.domEvent.toElement))){b.removeClass(c+"-over")}}}},_doMouseOver:function(b){var a=this._checked?"-img-over-seld":"-img-over";jq(b.domTarget).addClass(this.getZclass()+a)},_doMouseOut:function(b){var a=this._checked?"-img-over-seld":"-img-over",c=jq(b.domTarget),d=this.getZclass();c.removeClass(d+a);if(this._checked){c.addClass(d+"-img-seld")}},_doClick:function(a){this._checked=!this._checked;var c=this.getListbox(),b=jq(a.domTarget),d=this.getZclass();if(this._checked){b.removeClass(d+"-img-over").addClass(d+"-img-over-seld");c.selectAll(true,a)}else{b.removeClass(d+"-img-over-seld").removeClass(d+"-img-seld").addClass(d+"-img-over");c._select(null,a)}},doClick_:function(a){var b=this.getListbox();if(b&&b._checkmark){var c=a.domTarget;if(c.id&&c.id.endsWith("-cm")){return}}this.$supers("doClick_",arguments)},domContent_:function(){var a=this.$supers("domContent_",arguments),b=this.getListbox();if(b!=null&&this.parent.firstChild==this&&b._checkmark&&b._multiple&&!b._listbox$noSelectAll){a='<span id="'+this.uuid+'-cm" class="'+this.getZclass()+'-img"></span>'+(a?"&nbsp;"+a:"")}return a},domLabel_:function(){return zUtl.encodeXML(this.getLabel(),{maxlength:this._maxlength})}});
zkreg('zul.sel.Listheader',true);zk._m={};
zk._m['default']=zul.mesh.HeaderWidget.redraw;
;zkmld(zk._p.p.Listheader,zk._m);zul.sel.Listfoot=zk.$extends(zul.Widget,{getListbox:function(){return this.parent},setVflex:function(a){a=false;this.$super(zul.sel.Listfoot,"setVflex",a)},setHflex:function(a){a=false;this.$super(zul.sel.Listfoot,"setHflex",a)},deferRedrawHTML_:function(a){a.push("<tr",this.domAttrs_({domClass:1}),' class="z-renderdefer"></tr>')}});
zkreg('zul.sel.Listfoot');zk._m={};
zk._m['default']=function(b){b.push("<tr",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</tr>")};
;zkmld(zk._p.p.Listfoot,zk._m);zul.sel.Listfooter=zk.$extends(zul.mesh.FooterWidget,{getListbox:function(){return this.getMeshWidget()},getListheader:function(){return this.getHeaderWidget()},getMaxlength:function(){var a=this.getListheader();return a?a.getMaxlength():0},domLabel_:function(){return zUtl.encodeXML(this.getLabel(),{maxlength:this.getMaxlength()})}});
zkreg('zul.sel.Listfooter',true);zk._m={};
zk._m['default']=function(b){b.push("<td",this.domAttrs_(),'><div id="',this.uuid,'-cave" class="',this.getZclass(),'-cnt">',this.domContent_());for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div></td>")};
;zkmld(zk._p.p.Listfooter,zk._m);zul.sel.Option=zk.$extends(zul.Widget,{_selected:false,$define:{disabled:function(a){var b=this.$n();if(b){b.disabled=a?"disabled":""}},value:null},focus:function(a){var b=this.parent;if(b){b.focus(a)}},setVisible:function(a){if(this._visible!=a){this._visible=a;if(this.desktop){this.parent.rerender()}}},setSelected:function(a){a=a||false;if(this._selected!=a){if(this.parent){this.parent.toggleItemSelection(this)}this._setSelectedDirectly(a)}},_setSelectedDirectly:function(a){var b=this.$n();if(b){b.selected=a?"selected":""}this._selected=a},isSelected:function(){return this._selected},getLabel:function(){return this.firstChild?this.firstChild.getLabel():null},getMaxlength:function(){return this.parent?this.parent.getMaxlength():0},bind_:function(){this.$supers("bind_",arguments);if(this.isSelected()){this.parent._selectedIndex=this._index}},getOptionIndex_:function(){var b=this.parent,a=-1;if(b){for(w=b.firstChild;w;w=w.nextSibling){if(w.$instanceof(zul.sel.Option)){a++;if(w==this){break}}}}return a},domLabel_:function(){return zUtl.encodeXML(this.getLabel(),{maxlength:this.getMaxlength()})},domAttrs_:function(){var a=this.getValue();return this.$supers("domAttrs_",arguments)+(this.isDisabled()?' disabled="disabled"':"")+(this.isSelected()?' selected="selected"':"")+(a?' value="'+a+'"':"")},replaceWidget:function(a){this._syncItems(a);this.$supers("replaceWidget",arguments)},_syncItems:function(b){if(this.parent&&this.isSelected()){var a=this.parent._selItems;if(a&&a.$remove(this)){a.push(b)}}}});
zkreg('zul.sel.Option');zk._m={};
zk._m['select']=function(a){a.push("<option",this.domAttrs_(),">",this.domLabel_(),"</option>")};
;zkmld(zk._p.p.Option,zk._m);zul.sel.Select=zk.$extends(zul.Widget,{_selectedIndex:-1,_rows:0,$init:function(){this.$supers("$init",arguments);this._selItems=[]},$define:{multiple:function(a){var b=this.$n();if(b){b.multiple=a?"multiple":""}},disabled:function(a){var b=this.$n();if(b){b.disabled=a?"disabled":""}},selectedIndex:function(a){var d=0,c=0,b,e=this.$n();this.clearSelection();for(b=this.firstChild;b&&d<a;b=b.nextSibling,d++){if(b.$instanceof(zul.sel.Option)){if(!b.isVisible()){c++}}else{d--}}a-=c;if(e){e.selectedIndex=a}if(a>-1&&b&&b.$instanceof(zul.sel.Option)){b.setSelected(true);this._selItems.push(b)}},tabindex:function(a){var b=this.$n();if(b){b.tabindex=a||""}},name:function(a){var b=this.$n();if(b){b.name=a}},rows:function(a){var b=this.$n();if(b){b.size=a}},maxlength:function(a){if(this.desktop){this.rerender()}}},toggleItemSelection:function(a){if(a.isSelected()){this._removeItemFromSelection(a)}else{this._addItemToSelection(a)}},selectItem:function(a){if(!a){this.setSelectedIndex(-1)}else{if(this._multiple||!a.isSelected()){if(a.getOptionIndex_){this.setSelectedIndex(a.getOptionIndex_())}else{this.setSelectedIndex(a.getChildIndex())}}}},_addItemToSelection:function(b){if(!b.isSelected()){if(!this._multiple){this.selectItem(b)}else{var a=b.getOptionIndex_?b.getOptionIndex_():b.getChildIndex();if(a<this._selectedIndex||this._selectedIndex<0){this._selectedIndex=a}b._setSelectedDirectly(true);this._selItems.push(b)}}},_removeItemFromSelection:function(a){if(a.isSelected()){if(!this._multiple){this.clearSelection()}else{a._setSelectedDirectly(false);this._selItems.$remove(a)}}},clearSelection:function(){if(this._selItems.length){var a;for(;(a=this._selItems.pop());){a._setSelectedDirectly(false)}this._selectedIndex=-1}},domAttrs_:function(){var a;return this.$supers("domAttrs_",arguments)+(this.isDisabled()?' disabled="disabled"':"")+(this.isMultiple()?' multiple="multiple"':"")+((a=this.getSelectedIndex())>-1?' selectedIndex="'+a+'"':"")+((a=this.getTabindex())?' tabindex="'+a+'"':"")+((a=this.getRows())>0?' size="'+a+'"':"")+((a=this.getName())?' name="'+a+'"':"")},bind_:function(){this.$supers(zul.sel.Select,"bind_",arguments);var b=this.$n();this.domListen_(b,"onChange").domListen_(b,"onFocus","doFocus_").domListen_(b,"onBlur","doBlur_");if(!zk.gecko){var a=[this,this._fixSelIndex];zWatch.listen({onRestore:a,onVParent:a})}this._fixSelIndex()},unbind_:function(){var b=this.$n();this.domUnlisten_(b,"onChange").domUnlisten_(b,"onFocus","doFocus_").domUnlisten_(b,"onBlur","doBlur_").$supers(zul.sel.Select,"unbind_",arguments);var a=[this,this._fixSelIndex];zWatch.unlisten({onRestore:a,onVParent:a})},_fixSelIndex:function(){if(this._selectedIndex<0){this.$n().selectedIndex=-1}},_doChange:function(p){var i=[],f,e=this.$n();if(this._multiple){var a=e.options,h;for(var g=0,k=a.length;g<k;++g){var b=a[g],c=zk.Widget.$(b.id),m=b.selected;if(c&&c._selected!=m){c.setSelected(m);h=true}if(m){i.push(b.id);if(!f){f=b.id}}}if(!h){return}}else{var m=e.selectedIndex;if(zk.opera){e.selectedIndex=m}var d=m<0?m:-1;for(var l=this.firstChild,g=m;l&&g>-1;l=l.nextSibling){if(!l.$instanceof(zul.sel.Option)){continue}if(l.isVisible()){g--}d++}if(this._selectedIndex==d){return}this.setSelectedIndex(d);i.push(f=e.options[m].id)}this.fire("onSelect",{items:i,reference:f})},doBlur_:function(a){this._doChange(a);return this.$supers("doBlur_",arguments)},beforeCtrlKeys_:function(a){this._doChange(a)},onChildAdded_:function(){this.rerender()},onChildRemoved_:function(){if(!this.childReplacing_){this.rerender()}}});
zkreg('zul.sel.Select');zk._m={};
zk._m['select']=function(b){b.push("<select",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling){if(a.$instanceof(zul.sel.Option)&&a.isVisible()){a.redraw(b)}}b.push("</select>")};
;zkmld(zk._p.p.Select,zk._m);zul.sel.Tree=zk.$extends(zul.sel.SelectWidget,{clear:function(){if(!this._treechildren||!this._treechildren.nChildren){return}for(var a=this._treechildren.firstChild;a;a=a.nextSibling){a.detach()}},insertBefore:function(c,b,a){if(this.$super("insertBefore",c,b,!this.z_rod)){this._fixOnAdd(c,a,a);return true}},appendChild:function(b,a){if(this.$super("appendChild",b,!this.z_rod)){if(!this.insertingBefore_){this._fixOnAdd(b,a,a)}return true}},_fixOnAdd:function(c,b,a){if(c.$instanceof(zul.sel.Treecols)){this.treecols=c}else{if(c.$instanceof(zul.sel.Treechildren)){this.treechildren=c;this._fixSelectedSet()}else{if(c.$instanceof(zul.mesh.Paging)){this.paging=c}else{if(c.$instanceof(zul.sel.Treefoot)){this.treefoot=c}}}}if(!b){this.rerender()}if(!a){this._syncSize()}},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);if(a==this.treecols){this.treecols=null}else{if(a==this.treefoot){this.treefoot=null}else{if(a==this.treechildren){this.treechildren=null;this._selItems=[];this._sel=null}else{if(a==this.paging){this.paging=null}}}}if(!this.childReplacing_){this._syncSize()}},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);if(this.childReplacing_){this._fixOnAdd(a,true)}},_onTreeitemAdded:function(a){this._fixNewChild(a);this._onTreechildrenAdded(a.treechildren)},_onTreeitemRemoved:function(b){var c,a;if(b.isSelected()){this._selItems.$remove(b);c=this._sel==b;if(c&&!this._multiple){this._sel=null}}this._onTreechildrenRemoved(b.treechildren);if(c){this._fixSelected()}if(a=b.previousSibling||b.getParentItem()){this._syncFocus(a)}else{jq(this.$n("a")).offset({top:0,left:0})}},_onTreechildrenAdded:function(d){if(!d||d.parent==this){return}for(var c=0,b=d.getItems(),a=b.length;c<a;++c){if(b[c]){this._fixNewChild(b[c])}}},_onTreechildrenRemoved:function(f){if(f==null||f.parent==this){return}var d,e;for(var c=0,b=f.getItems(),a=b.length;c<a;++c){d=b[c];if(d.isSelected()){this._selItems.$remove(d);if(this._sel==d){if(!this._multiple){this._sel=null;return}e=true}}}if(e){this._fixSelected()}},_fixNewChild:function(a){if(a.isSelected()){if(this._sel&&!this._multiple){a._selected=false;a.rerender()}else{if(!this._sel){this._sel=a}this._selItems.push(a)}}},_fixSelectedSet:function(){this._sel=null;this._selItems=[];for(var c=0,b=this.getItems(),a=b.length;c<a;++c){if(b[c].isSelected()){if(this._sel==null){this._sel=b[c]}else{if(!_multiple){b[c]._selected=false;continue}}this._selItems.push(b[c])}}},_fixSelected:function(){var d;switch(this._selItems.length){case 1:d=this._selItems[0];case 0:break;default:for(var c=0,b=this.getItems(),a=b.length;c<a;++c){if(b[c].isSelected()){d=b[c];break}}}if(d!=this._sel){this._sel=d;return true}return false},_sizeOnOpen:function(){var c=this.treecols,a,b;if(!c||this.isSizedByContent()||this._hflex=="min"){this.syncSize()}else{for(a=c.firstChild;a;a=a.nextSibling){if(a._hflex||!(b=a._width)||b=="auto"){this.syncSize();return}}}},getHeadWidgetClass:function(){return zul.sel.Treecols},itemIterator:_zkf=function(a){return new zul.sel.TreeItemIter(this,a)},getBodyWidgetIterator:_zkf,getItems:function(a){return this.treechildren?this.treechildren.getItems(null,a):[]},getItemCount:function(){return this.treechildren!=null?this.treechildren.getItemCount():0},_doLeft:function(a){if(a.isOpen()){a.setOpen(false)}},_doRight:function(a){if(!a.isOpen()){a.setOpen(true)}},shallIgnoreSelect_:function(a){var b=a.domTarget;return b&&b.id&&b.id.endsWith("-open")||(a.name=="onRightClick"&&!this.rightSelect)}});zul.sel.TreeItemIter=zk.$extends(zk.Object,{$init:function(a,b){this.tree=a;this.opts=b},_init:function(){if(!this._isInit){this._isInit=true;this.items=this.tree.getItems(this.opts);this.length=this.items.length;this.cur=0}},hasNext:function(){this._init();return this.cur<this.length},next:function(){this._init();return this.items[this.cur++]}});
zkreg('zul.sel.Tree');zk._m={};
zk._m['paging']=function(h){var b=this.uuid,e=this.getZclass(),k=this.getInnerWidth(),f=k=="100%"?' width="100%"':"",c=k!="100%"?"width:"+k:"",a=this.inPagingMold(),d,m=zk.ie||zk.gecko?"a":"button";h.push("<div",this.domAttrs_(),">");if(a&&this.paging){d=this.getPagingPosition();if(d=="top"||d=="both"){h.push('<div id="',b,'-pgit" class="',e,'-pgi-t">');this.paging.redraw(h);h.push("</div>")}}if(this.treecols){h.push('<div id="',b,'-head" class="',e,'-header">',"<table",f,zUtl.cellps0,' style="table-layout:fixed;',c,'">');this.domFaker_(h,"-hdfaker",e);for(var l=this.heads,g=0,i=l.length;g<i;){l[g++].redraw(h)}h.push('</table></div><div class="',e,'-header-bg"></div>')}h.push('<div id="',b,'-body" class="',e,"-body");if(this._autopaging){h.push(" ",e,"-autopaging")}h.push('"><table',f,zUtl.cellps0,' style="table-layout:fixed;',c,'">');if(this.treecols){this.domFaker_(h,"-bdfaker",e)}if(this.treechildren){this.treechildren.redraw(h)}h.push("</table><",m,' style="top:',jq.px0(this._anchorTop),";left:",jq.px0(this._anchorLeft),'" id="',b,'-a"  onclick="return false;" href="javascript:;" class="z-focus-a"></',m,">");h.push("</div>");if(this.treefoot){h.push('<div id="',b,'-foot" class="',e,'-footer">',"<table",f,zUtl.cellps0,' style="table-layout:fixed;',c,'">');if(this.treecols){this.domFaker_(h,"-ftfaker",e)}this.treefoot.redraw(h);h.push("</table></div>")}if(d=="bottom"||d=="both"){h.push('<div id="',b,'-pgib" class="',e,'-pgi-b">');this.paging.redraw(h);h.push("</div>")}h.push("</div>")};
;zk._m['default']=[zk._p.p.Tree,'paging'];zkmld(zk._p.p.Tree,zk._m);(function(){function b(d,e){if(d){for(var c=d.firstChild,f;c;c=c.nextSibling){if((f=c.treerow)&&e<f.nChildren){f.getChildAt(e).rerender()}b(c.treechildren,e)}}}function a(g,c,e,l,q){var m=[];for(var j=0,n=0,o=g.firstChild;o;o=o.nextSibling,n++){if(o.treechildren){a(o.treechildren,c,e,l,q)}for(var f=0,p=o.getFirstCell();p;p=p.nextSibling,f++){if(f==c){m[j++]={wgt:p,index:n}}}}var h=e=="ascending"?-1:1;m.sort(function(i,d){var k=l(i.wgt,d.wgt,q)*h;if(k==0){k=(i.index<d.index?-1:1)}return k});for(var j=0,f=m.length;j<f;j++){g.appendChild(m[j].wgt.parent.parent)}}zul.sel.Treecol=zk.$extends(zul.mesh.SortWidget,{getTree:zul.mesh.HeaderWidget.prototype.getMeshWidget,getMeshBody:function(){var c=this.getTree();return c?c.treechildren:null},checkClientSort_:function(d){var c;return !(!this.getMeshBody()||!(c=this.getTree())||("paging"==c._mold))&&this.$supers("checkClientSort_",arguments)},replaceCavedChildrenInOrder_:function(e){var g=this.getMeshWidget(),c=this.getMeshBody(),f=c.desktop;try{c.unbind();a(c,this.getChildIndex(),this.getSortDirection(),this.sorting,(this[e?"_sortAscending":"_sortDescending"]=="client(number)"));this._fixDirection(e)}finally{var d=g._syncingbodyrows;g._syncingbodyrows=true;try{g.clearCache();jq(g.$n("rows")).replaceWith(c.redrawHTML_());c.bind(f);g._bindDomNode()}finally{g._syncingbodyrows=d}}},$define:{maxlength:[function(c){return !c||c<0?0:c},function(){if(this.desktop){this.rerender();this.updateCells_()}}]},updateCells_:function(){var c=this.getTree();if(c){var d=this.getChildIndex(),e=c.treefoot;b(c.treechildren,d);if(e&&d<e.nChildren){e.getChildAt(d).rerender()}}},bind_:function(){this.$supers(zul.sel.Treecol,"bind_",arguments);var c;if(c=this.$n()){this.domListen_(c,"onMouseOver","_doSortMouseEvt").domListen_(c,"onMouseOut","_doSortMouseEvt")}},unbind_:function(){var c;if(c=this.$n()){this.domUnlisten_(c,"onMouseOver","_doSortMouseEvt").domUnlisten_(c,"onMouseOut","_doSortMouseEvt")}this.$supers(zul.sel.Treecol,"unbind_",arguments)},_doSortMouseEvt:function(c){var d=this.getSortAscending();if(d!="none"){jq(this.$n())[c.name=="onMouseOver"?"addClass":"removeClass"](this.getZclass()+"-sort-over")}},domLabel_:function(){return zUtl.encodeXML(this.getLabel(),{maxlength:this._maxlength})}})})();
zkreg('zul.sel.Treecol',true);zk._m={};
zk._m['default']=function(b){var c=this.getZclass();b.push("<th",this.domAttrs_(),'><div id="',this.uuid,'-cave" class="',c,'-cnt"',this.domTextStyleAttr_(),'><div class="',c,'-sort-img"></div>',this.domContent_());for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div></th>")};
;zkmld(zk._p.p.Treecol,zk._m);zul.sel.Treecols=zk.$extends(zul.mesh.HeadWidget,{getTree:function(){return this.parent},setVisible:function(a){if(this._visible!=a){this.$supers("setVisible",arguments);this.getTree().rerender()}}});
zkreg('zul.sel.Treecols');zk._m={};
zk._m['default']=function(b){b.push("<tr",this.domAttrs_(),' align="left">');for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</tr>")};
;zkmld(zk._p.p.Treecols,zk._m);(function(){function b(d){var c;if((c=d.parent)&&c.lastChild==d){return d.previousSibling}}function a(c,f,d){if(!d){if(c){c._syncIcon()}var e;if((e=f.parent)&&e.lastChild==f&&(e=f.previousSibling)){e._syncIcon()}}}zul.sel.Treechildren=zk.$extends(zul.Widget,{getTree:function(){return this.isTopmost()?this.parent:this.parent?this.parent.getTree():null},getLinkedTreerow:function(){return this.parent?this.parent.treerow:null},isTopmost:function(){return this.parent&&this.parent.$instanceof(zul.sel.Tree)},insertBefore:function(f,e,d){var c=b(f);if(this.$supers("insertBefore",arguments)){a(c,f,d);return true}},appendChild:function(e,d){var c=b(e);if(this.$supers("appendChild",arguments)){if(!this.insertingBefore_){a(c,e,d)}return true}},insertChildHTML_:function(g,e,f){var d,c=this.isTopmost();if(e){e=e.getFirstNode_()}if(!e&&!c){d=this.getCaveNode()||this.parent.getCaveNode()}if(e){jq(e).before(g.redrawHTML_())}else{if(d){jq(d).after(g.redrawHTML_())}else{if(c){jq(this.parent.$n("rows")).append(g.redrawHTML_())}else{jq(this).append(g.redrawHTML_())}}}g.bind(f)},getCaveNode:function(){for(var e,c=this.lastChild;c;c=c.previousSibling){if((e=c.getCaveNode())){if(c.treechildren){var d=c.treechildren.getCaveNode();if(d){e=d}}return e}}},isRealVisible:function(){this._isRealVisible()&&this.$supers("isRealVisible",arguments)},_isRealVisible:function(){var c;return this.isVisible()&&(this.isTopmost()||((c=this.parent)&&c.isOpen()&&c._isRealVisible()))},getItems:function(d,f){d=d||[];var e=f&&f.skipHidden;for(var c=this.firstChild;c;c=c.nextSibling){if(!e||c.isVisible()){d.push(c);if(c.treechildren&&(!e||c.isOpen())){c.treechildren.getItems(d,f)}}}return d},getItemCount:function(){var d=0;for(var c=this.firstChild;c;c=c.nextSibling,++d){if(c.treechildren){d+=c.treechildren.getItemCount()}}return d},beforeParentChanged_:function(e){var d=this.getTree();if(d){d._onTreechildrenRemoved(this)}if(e){var c=e.$instanceof(zul.sel.Tree)?e:e.getTree();if(c){c._onTreechildrenAdded(this)}}this.$supers("beforeParentChanged_",arguments)},removeHTML_:function(e){for(var d,c=this.firstChild;c;c=c.nextSibling){d=c.$n();if(d){c.removeHTML_(d)}}this.$supers("removeHTML_",arguments)},getOldWidget_:function(e){var c=this.$supers("getOldWidget_",arguments);if(c&&c.$instanceof(zul.sel.Treerow)){var d=c.parent;if(d){return d.treechildren}return null}return c},$n:function(c){if(this.firstChild){return c?this.firstChild.$n(c):this.firstChild.$n()}return null},replaceWidget:function(c){while(this.firstChild!=this.lastChild){this.lastChild.detach()}if(this.firstChild&&this.firstChild.treechildren){this.firstChild.treechildren.detach()}zul.sel.Treeitem._syncSelItems(this,c);this.$supers("replaceWidget",arguments)},onChildAdded_:function(c){this.$supers("onChildAdded_",arguments);if(this.desktop){this.getTree()._syncSize()}},onChildRemoved_:function(e){this.$supers("onChildRemoved_",arguments);var d=this._selItems,c;if(this.desktop){this.getTree()._syncSize()}}})})();
zkreg('zul.sel.Treechildren');zk._m={};
zk._m['default']=function(b){if(this.parent.$instanceof(zul.sel.Tree)){b.push('<tbody id="',this.parent.uuid,'-rows" ',this.domAttrs_({id:1}),">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</tbody>")}else{for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}}};
;zkmld(zk._p.p.Treechildren,zk._m);(function(){function c(f){for(;f&&!f.$instanceof(zul.sel.Tree);f=f.parent){if(f.isOpen&&!f.isOpen()){return true}}}function b(g,h){if(h.isSelected()){g.$remove(h)}var f;if(f=h.treechildren){for(f=f.firstChild;f&&g.length;f=f.nextSibling){b(g,f)}}}function a(g,h){if(h.isSelected()){g.push(h)}var f;if(f=h.treechildren){for(f=f.firstChild;f;f=f.nextSibling){a(g,f)}}}function e(i,h){var j=i.$n();if(j){j.style.display=h?"":"none"}var g;if(g=i.treechildren){for(var f=g.firstChild;f;f=f.nextSibling){if(f._visible&&f._open){e(f,h)}}}}function d(g){if(zk.ie<8){var f=g.getTree();if(f){f.ebody.style.height="";f._syncBodyHeight()}}}zul.sel.Treeitem=zk.$extends(zul.sel.ItemWidget,{_open:true,$define:{open:function(k,j){var i=this.$n("open");if(!i||c(this.parent)){return}var l=i.className,g=this.getTree(),f=g?g.ebodytbl:null,h=f?f.clientWidth:0;i.className=k?l.replace("-close","-open"):l.replace("-open","-close");if(!k){zWatch.fireDown("onHide",this)}this._showKids(k);if(k){zUtl.fireShown(this)}if(g){g._sizeOnOpen();if(!j){this.fire("onOpen",{open:k},{toServer:g.inPagingMold()||g.isModel()})}g._syncFocus(this);g.focus();if(f){g._fixhdwcnt=g._fixhdwcnt||0;if(!g._fixhdwcnt++){g._fixhdoldwd=h}setTimeout(function(){if(!--g._fixhdwcnt&&g.$n()&&(g._fixhdoldwd!=f.clientWidth||(zk.ie<8))){g._calcSize()}},250)}}}},_showKids:function(h){var f=this.treechildren;if(f){for(var g=f.firstChild,i=f._isRealVisible();g;g=g.nextSibling){g.$n().style.display=i&&g.isVisible()&&h?"":"none";if(g.isOpen()){g._showKids(h)}}}},isStripeable_:function(){return false},getMeshWidget:_zkf=function(){return this.parent?this.parent.getTree():null},getTree:_zkf,getZclass:function(){if(this.treerow){return this.treerow.getZclass()}return null},$n:function(f){if(this.treerow){return f?this.treerow.$n(f):this.treerow.$n()||jq(this.treerow.uuid,zk)[0]}return null},isContainer:function(){return this.treechildren!=null},isEmpty:function(){return !this.treechildren||!this.treechildren.nChildren},getLevel:function(){var g=0;for(var f=this;;++g){if(!f.parent){break}f=f.parent.parent;if(!f||f.$instanceof(zul.sel.Tree)){break}}return g},getLabel:function(){var f=this.getFirstCell();return f?f.getLabel():null},setLabel:function(f){this._autoFirstCell().setLabel(f)},getFirstCell:function(){return this.treerow?this.treerow.firstChild:null},_autoFirstCell:function(){if(!this.treerow){this.appendChild(new zul.sel.Treerow())}var f=this.treerow.firstChild;if(!f){f=new zul.sel.Treecell();this.treerow.appendChild(f)}return f},getImage:function(){var f=this.getFirstCell();return f?f.getImage():null},setImage:function(f){this._autoFirstCell().setImage(f);return this},getParentItem:function(){var f=this.parent&&this.parent.parent?this.parent.parent:null;return f&&f.$instanceof(zul.sel.Treeitem)?f:null},_isRealVisible:function(){var f;return this.isVisible()&&(f=this.parent)&&f._isRealVisible()},_isVisibleInTree:function(){if(!this.isVisible()){return}var g=this.parent,f;if(!g||!g.isVisible()||!(f=g.parent)){return false}if(f.$instanceof(zul.sel.Tree)){return true}return f._isVisibleInTree()},setVisible:function(f){if(this.isVisible()!=f){this.$supers("setVisible",arguments);if(this.treerow){this.treerow.setVisible(f)}e(this,this._isRealVisible())}return this},doMouseOver_:function(f){var g=this.$n("open");if(f.domTarget==g){jq(this.$n()).addClass(this.getZclass()+"-ico-over")}this.$supers("doMouseOver_",arguments)},doMouseOut_:function(f){var g=this.$n("open");if(f.domTarget==g){jq(this.$n()).removeClass(this.getZclass()+"-ico-over")}this.$supers("doMouseOut_",arguments)},beforeParentChanged_:function(h){var g=this.getTree();if(g){g._onTreeitemRemoved(this)}if(h){var f=h.getTree();if(f){f._onTreeitemAdded(this)}}this.$supers("beforeParentChanged_",arguments)},insertBefore:function(h,g,f){if(this.$super("insertBefore",h,g,f||(!this.z_rod&&h.$instanceof(zul.sel.Treechildren)))){this._fixOnAdd(h,f);return true}},appendChild:function(g,f){if(this.$super("appendChild",g,f||(!this.z_rod&&g.$instanceof(zul.sel.Treechildren)))){if(!this.insertingBefore_){this._fixOnAdd(g,f)}return true}},_fixOnAdd:function(g,f){if(g.$instanceof(zul.sel.Treerow)){this.treerow=g}else{if(g.$instanceof(zul.sel.Treechildren)){this.treechildren=g;if(!f&&this.treerow){this.rerender()}}}},onChildRemoved_:function(f){this.$supers("onChildRemoved_",arguments);if(f==this.treerow){this.treerow=null;d(this)}else{if(f==this.treechildren){this.treechildren=null;if(!this.childReplacing_){this._syncIcon()}}}},onChildAdded_:function(f){this.$supers("onChildAdded_",arguments);if(this.childReplacing_){this._fixOnAdd(f,true)}if(this.desktop&&f.$instanceof(zul.sel.Treerow)){d(this)}},removeHTML_:function(h){for(var g,f=this.firstChild;f;f=f.nextSibling){g=f.$n();if(g){f.removeHTML_(g)}}this.$supers("removeHTML_",arguments)},replaceWidget:function(f){zul.sel.Treeitem._syncSelItems(this,f);if(this.treechildren){this.treechildren.detach()}this.$supers("replaceWidget",arguments)},_removeChildHTML:function(h){for(var g,f=this.firstChild;f;f=f.nextSibling){if(f!=this.treerow&&(g=f.$n())){f.removeHTML_(g)}}},_renderChildHTML:function(g){var f=this.previousSibling;for(;f;f=this.previousSibling){if(f.treerow){break}}if(f){jq(f.treerow.$n()).after(g)}else{if(f=this.nextSibling){for(;f;f=this.nextSibling){if(f.treerow){break}}if(f){jq(f.treerow.$n()).before(g)}}else{if(f=this.getParentItem()){f._renderChildHTML(g)}else{if((f=this.getTree())){jq(f.$n("rows")).append(g)}}}}},insertChildHTML_:function(h,f,g){if(f=f?f.getFirstNode_():null){jq(f).before(h.redrawHTML_())}else{this._renderChildHTML(h.redrawHTML_())}h.bind(g)},getOldWidget_:function(g){var f=this.$supers("getOldWidget_",arguments);if(f&&f.$instanceof(zul.sel.Treerow)){return f.parent}return f},replaceHTML:function(h,g,f){this._removeChildHTML(h);this.$supers("replaceHTML",arguments)},_syncIcon:function(){if(this.desktop&&this.treerow){var f=this.treerow;if(f=f.firstChild){f._syncIcon()}if(f=this.treechildren){for(f=f.firstChild;f;f=f.nextSibling){f._syncIcon()}}}}},{_syncSelItems:function(h,i){var f;if((f=h.getTree())&&(f=f._selItems)){if(h.$instanceof(zul.sel.Treechildren)){for(var g=h.firstChild;g;g=g.nextSibling){b(f,g)}for(var g=i.firstChild;g;g=g.nextSibling){a(f,g)}}else{b(f,h);a(f,i)}}}})})();
zkreg('zul.sel.Treeitem');zk._m={};
zk._m['default']=function(a){if(this.treerow){this.treerow.redraw(a)}if(this.treechildren){this.treechildren.redraw(a)}};
;zkmld(zk._p.p.Treeitem,zk._m);zul.sel.Treerow=zk.$extends(zul.Widget,{getTree:function(){return this.parent?this.parent.getTree():null},getLevel:function(){return this.parent?this.parent.getLevel():0},getLinkedTreechildren:function(){return this.parent?this.parent.treechildren:null},domClass_:function(d){var b=this.$supers("domClass_",arguments),a=this.parent;if(a&&(!d||!d.zclass)){var c=this.getZclass();if(a.isDisabled()){b+=(b?" ":"")+c+"-disd"}if(a.isSelected()){b+=(b?" ":"")+c+"-seld"}}return b},domTooltiptext_:function(){return this._tooltiptext||this.parent._tooltiptext||this.parent.parent._tooltiptext},domStyle_:function(a){return((this.parent&&!this.parent._isRealVisible()&&this.isVisible())?"display:none;":"")+this.$supers("domStyle_",arguments)},removeChild:function(c){for(var a=c.firstChild;a;){var b=a.nextSibling;c.removeChild(a);a=b}this.$supers("removeChild",arguments)},doClick_:function(a){var b=this.parent;if(a.domTarget==this.$n("open")){b.setOpen(!b._open);a.stop()}else{if(!b.isDisabled()){this.$supers("doClick_",arguments)}}},deferRedrawHTML_:function(a){a.push("<tr",this.domAttrs_({domClass:1}),' class="z-renderdefer"></tr>')}});
zkreg('zul.sel.Treerow');zk._m={};
zk._m['default']=function(b){b.push("<tr",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</tr>")};
;zkmld(zk._p.p.Treerow,zk._m);zul.sel.Treecell=zk.$extends(zul.LabelImageWidget,{setWidth:zk.$void,_colspan:1,$define:{colspan:[function(a){return a>1?a:1},function(){var a=this.$n();if(a){a.colSpan=this._colspan}}]},getTree:function(){return this.parent?this.parent.getTree():null},domStyle_:function(c){var b=this.$super("domStyle_",zk.copy(c,{width:true})),a=this.getTreecol();return this.isVisible()&&a&&!a.isVisible()?b+"display:none;":b},getTreecol:function(){var a=this.getTree();if(a&&a.treecols){var b=this.getChildIndex();if(b<a.treecols.nChildren){return a.treecols.getChildAt(b)}}return null},getLevel:function(){return this.parent?this.parent.getLevel():0},getMaxlength:function(){var a=this.getTreecol();return a?a.getMaxlength():0},domLabel_:function(){return zUtl.encodeXML(this.getLabel(),{maxlength:this.getMaxlength()})},getTextNode:function(){return this.getCaveNode()},domContent_:function(){var b=this.$supers("domContent_",arguments),a=this._colHtmlPre();return b?a?a+"&nbsp;"+b:b:a},_syncIcon:function(){this.rerender();var a;if(a=this.parent){a.clearCache()}},_colHtmlPre:function(){if(this.parent.firstChild==this){var i=this.parent.parent,m=i.getTree(),h=[];if(m){if(m.isCheckmark()){var d=i.isCheckable(),f=m.isMultiple(),a=i.getZclass(),e=a+"-img";h.push('<span id="',this.parent.uuid,'-cm" class="',e," ",e,(f?"-checkbox":"-radio"));if(!d||i.isDisabled()){h.push(" ",e,"-disd")}h.push('"');if(!d){h.push(' style="visibility:hidden"')}h.push("></span>")}}var g=m?m.getZclass():"",l=this._getTreeitems(i,m);for(var c=0,b=l.length;c<b;++c){this._appendIcon(h,g,c==0||this._isLastVisibleChild(l[c])?zul.sel.Treecell.SPACER:zul.sel.Treecell.VBAR,false)}if(i.isContainer()){this._appendIcon(h,g,i.isOpen()?l.length==0?zul.sel.Treecell.ROOT_OPEN:this._isLastVisibleChild(i)?zul.sel.Treecell.LAST_OPEN:zul.sel.Treecell.TEE_OPEN:l.length==0?zul.sel.Treecell.ROOT_CLOSE:this._isLastVisibleChild(i)?zul.sel.Treecell.LAST_CLOSE:zul.sel.Treecell.TEE_CLOSE,true)}else{this._appendIcon(h,g,l.length==0?zul.sel.Treecell.FIRSTSPACER:this._isLastVisibleChild(i)?zul.sel.Treecell.LAST:zul.sel.Treecell.TEE,false)}return h.join("")}else{return !this.getImage()&&!this.getLabel()&&!this.nChildren?"&nbsp;":null}},_isLastVisibleChild:function(c){var b=c.parent;for(var a=b.lastChild;a;a=a.previousSibling){if(a._isVisibleInTree()){return a==c}}return false},_getTreeitems:function(d,a){var b=[];for(;;){var c=d.parent;if(!c){break}d=c.parent;if(!d||d==a){break}b.unshift(d)}return b},_appendIcon:function(e,c,a,b){e.push('<span class="');if(a==zul.sel.Treecell.TEE||a==zul.sel.Treecell.LAST||a==zul.sel.Treecell.VBAR||a==zul.sel.Treecell.SPACER){e.push(c+"-line ",c,"-",a,'"')}else{e.push(c+"-ico ",c,"-",a,'"')}if(b){var d=this.parent.parent;if(d&&d.treerow){e.push(' id="',d.treerow.uuid,'-open"')}}e.push("></span>")},getWidth:function(){var a=this.getTreecol();return a?a.getWidth():null},domAttrs_:function(){var a=this.getTreecol(),b;if(a){b=a.getColAttrs()}return this.$supers("domAttrs_",arguments)+(this._colspan>1?' colspan="'+this._colspan+'"':"")+(b?" "+b:"")},updateDomContent_:function(){this.$supers("updateDomContent_",arguments);if(this.parent){this.parent.clearCache()}},deferRedrawHTML_:function(a){a.push("<td",this.domAttrs_({domClass:1}),' class="z-renderdefer"></td>')}},{ROOT_OPEN:"root-open",ROOT_CLOSE:"root-close",LAST_OPEN:"last-open",LAST_CLOSE:"last-close",TEE_OPEN:"tee-open",TEE_CLOSE:"tee-close",TEE:"tee",LAST:"last",VBAR:"vbar",SPACER:"spacer",FIRSTSPACER:"firstspacer"});
zkreg('zul.sel.Treecell',true);zk._m={};
zk._m['default']=function(b,c){b.push("<td",this.domAttrs_(),'><div id="',this.uuid,'-cave" class="',this.getZclass()+"-cnt");if(this.getTree()){b.push(" z-overflow-hidden")}b.push('"',this.domTextStyleAttr_(),">",this.domContent_());if(!c){for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}}b.push("</div></td>")};
;zkmld(zk._p.p.Treecell,zk._m);zul.sel.Treefoot=zk.$extends(zul.Widget,{getTree:function(){return this.parent},setVflex:function(a){a=false;this.$super(zul.sel.Treefoot,"setVflex",a)},setHflex:function(a){a=false;this.$super(zul.sel.Treefoot,"setHflex",a)},deferRedrawHTML_:function(a){a.push("<tr",this.domAttrs_({domClass:1}),' class="z-renderdefer"></tr>')}});
zkreg('zul.sel.Treefoot');zk._m={};
zk._m['default']=function(b){b.push("<tr",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</tr>")};
;zkmld(zk._p.p.Treefoot,zk._m);zul.sel.Treefooter=zk.$extends(zul.mesh.FooterWidget,{getTree:function(){return this.getMeshWidget()},getTreecol:function(){return this.getHeaderWidget()},getMaxlength:function(){var a=this.getTreecol();return a?a.getMaxlength():0},domLabel_:function(){return zUtl.encodeXML(this.getLabel(),{maxlength:this.getMaxlength()})}});
zkreg('zul.sel.Treefooter',true);zk._m={};
zk._m['default']=function(b){b.push("<td",this.domAttrs_(),'><div id="',this.uuid,'-cave" class="',this.getZclass(),'-cnt">',this.domContent_());for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div></td>")};
;zkmld(zk._p.p.Treefooter,zk._m);
}finally{zk.setLoaded(zk._p.n);}});zk.setLoaded('zul.sel',1);
// category.js

zk.$package('zksandbox');
zk.load('zul.wgt', function () {
zksandbox.Categorybar = zk.$extends(zul.wgt.Div, {
	bind_: function () {
		this.$supers('bind_', arguments);
		zk(this.$n()).disableSelection();

		zWatch.listen({onSize: this, beforeSize: this});
		this.onChildAdded_();//for updating sum of category width
		this.scrollEvent = false;
	},
	unbind_: function () {
		zWatch.unlisten({onSize: this, beforeSize: this});
		this.$supers('unbind_', arguments);
	},
	beforeSize: zk.ie6_ ? function () {
		jq(this.$n("body")).css("width", "").removeClass("demo-categorybar-body-scroll");
	}: zk.$void,
	onSize: function(){
		var width = this.$n().offsetWidth;
		//with scorll or not
		if(width < this.childWidth){
			jq(this.$n("left")).addClass("demo-categorybar-left-scroll");
			jq(this.$n("right")).addClass("demo-categorybar-right-scroll");
			jq(this.$n("body")).addClass("demo-categorybar-body-scroll")
								.width(jq.px0(width- zk(this.$n('body')).sumStyles('lr',jq.margins)));
			this._addScollEvent();
		}else{
			jq(this.$n("left")).removeClass("demo-categorybar-left-scroll");
			jq(this.$n("right")).removeClass("demo-categorybar-right-scroll");
			jq(this.$n("body")).removeClass("demo-categorybar-body-scroll")
								.width(jq.px0(width));
			this.$n("cave").style.marginLeft="0px";
		}

	},
	_addScollEvent:function(){
		//update the animiation distance every time it called
		this.$n("cave").distance = jq(this.$n("body")).width() - this.childWidth;

		if(this.scrollEvent == false){	//only do at first time
			var cave = this.$n("cave"),
				$cave = jq(cave),
				stop = function () {
					$cave.stop(true);
				};
			jq(this.$n("left")).mouseover(function () {
				$cave.animate({
					marginLeft: "0px"
				}, Math.abs(zk.parseInt($cave.css('marginLeft'))/80) * 400);
			}).mouseout(stop);
			jq(this.$n("right")).mouseover(function () {
				$cave.animate({
					marginLeft: cave.distance + "px"
				}, Math.abs((cave.distance - zk.parseInt($cave.css('marginLeft')))/80) * 400);
			}).mouseout(stop);
			this.scrollEvent = true;
		}
	},
	onChildAdded_: _zkf = function (/*child*/) {
		if(this.desktop){
			var childWidth=0, cave = this.$n("cave"), $cave = jq(cave);
			$cave.children().each(function() {
				childWidth += jq(this).width();
			});
			$cave.width(jq.px0(childWidth));
			this.childWidth = childWidth;
		}
	},
	onChildRemoved_: _zkf,
	redraw: function (out) {
		var uuid = this.uuid;
		out.push('<div', this.domAttrs_(), '>',
			'<div id="', uuid, '-right"></div>',
			'<div id="', uuid, '-left"></div>',
			'<div id="', uuid, '-body" class="', this.getZclass(), '-body">',
			'<div id="', uuid, '-cave">');
		for (var w = this.firstChild; w; w = w.nextSibling)
			w.redraw(out);
		out.push('<div class="z-clear"></div></div></div></div>');
	}
});
});

zk.load('zul.wgt', function () {
zksandbox.Category = zk.$extends(zul.wgt.Button, {
	redraw: function (out) {
		var zcls = this.getZclass();
		out.push('<div', this.domAttrs_(), '>',
				'<img id="', this.uuid, '-img"','src="',this.getImage() ,
				'" title="',this.getLabel(),'" class="', zcls,'-img"/>',
				'<div id="',this.uuid, '-label" class="', zcls,'-text">',
				this.getLabel(),'</div></div>');
	},
	doMouseOver_: function (evt) {
		jq(this.$n()).addClass("demo-over");
	},
	doMouseOut_: function (evt) {
		if (zk.ie && jq.isAncestor(this.$n(), evt.domEvent.relatedTarget || evt.domEvent.toElement))
			return; //nothing to do
		jq(this.$n()).removeClass("demo-over");
	},
	doClick_: function (evt){
		this.$supers('doClick_', arguments);
		jq(this.$n()).addClass("demo-seld")
						  .siblings().removeClass("demo-seld");
	}
});
});
